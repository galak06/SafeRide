INFO:     Will watch for changes in these directories: ['/Users/gilcohen/Projects/google_app/saferide-backend-python']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [73110] using WatchFiles
INFO:     Started server process [73176]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     127.0.0.1:64076 - "OPTIONS /api/auth/login HTTP/1.1" 200 OK
2025-07-06 10:51:02,887 INFO sqlalchemy.engine.Engine select pg_catalog.version()
INFO:sqlalchemy.engine.Engine:select pg_catalog.version()
2025-07-06 10:51:02,887 INFO sqlalchemy.engine.Engine [raw sql] {}
INFO:sqlalchemy.engine.Engine:[raw sql] {}
2025-07-06 10:51:02,888 INFO sqlalchemy.engine.Engine select current_schema()
INFO:sqlalchemy.engine.Engine:select current_schema()
2025-07-06 10:51:02,888 INFO sqlalchemy.engine.Engine [raw sql] {}
INFO:sqlalchemy.engine.Engine:[raw sql] {}
2025-07-06 10:51:02,889 INFO sqlalchemy.engine.Engine show standard_conforming_strings
INFO:sqlalchemy.engine.Engine:show standard_conforming_strings
2025-07-06 10:51:02,889 INFO sqlalchemy.engine.Engine [raw sql] {}
INFO:sqlalchemy.engine.Engine:[raw sql] {}
2025-07-06 10:51:02,890 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 10:51:02,890 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 10:51:02,890 INFO sqlalchemy.engine.Engine [generated in 0.00010s] {}
INFO:sqlalchemy.engine.Engine:[generated in 0.00010s] {}
2025-07-06 10:51:02,916 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-07-06 10:51:02,916 INFO sqlalchemy.engine.Engine [generated in 0.00012s] {'email_1': 'admin@saferide.com', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[generated in 0.00012s] {'email_1': 'admin@saferide.com', 'param_1': 1}
WARNING:passlib.handlers.bcrypt:(trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/gilcohen/.pyenv/versions/3.11.9/lib/python3.11/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-07-06 10:51:03,166 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 10:51:03,166 INFO sqlalchemy.engine.Engine [generated in 0.00008s] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[generated in 0.00008s] {'param_1': 'admin-001'}
2025-07-06 10:51:03,171 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 10:51:03,171 INFO sqlalchemy.engine.Engine [generated in 0.00009s] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[generated in 0.00009s] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 10:51:03,173 INFO sqlalchemy.engine.Engine UPDATE users SET updated_at=now(), last_login=%(last_login)s WHERE users.id = %(users_id)s
INFO:sqlalchemy.engine.Engine:UPDATE users SET updated_at=now(), last_login=%(last_login)s WHERE users.id = %(users_id)s
2025-07-06 10:51:03,173 INFO sqlalchemy.engine.Engine [generated in 0.00006s] {'last_login': datetime.datetime(2025, 7, 6, 7, 51, 3, 172016), 'users_id': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[generated in 0.00006s] {'last_login': datetime.datetime(2025, 7, 6, 7, 51, 3, 172016), 'users_id': 'admin-001'}
2025-07-06 10:51:03,174 INFO sqlalchemy.engine.Engine COMMIT
INFO:sqlalchemy.engine.Engine:COMMIT
2025-07-06 10:51:03,175 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 10:51:03,175 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(pk_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(pk_1)s
2025-07-06 10:51:03,175 INFO sqlalchemy.engine.Engine [generated in 0.00005s] {'pk_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[generated in 0.00005s] {'pk_1': 'admin-001'}
INFO:services.auth_service:Successful login for user admin@saferide.com from IP 127.0.0.1
2025-07-06 10:51:03,177 INFO sqlalchemy.engine.Engine INSERT INTO audit_logs (id, user_id, action, resource, resource_id, details, ip_address, user_agent, timestamp) VALUES (%(id)s, %(user_id)s, %(action)s, %(resource)s, %(resource_id)s, %(details)s, %(ip_address)s, %(user_agent)s, %(timestamp)s)
INFO:sqlalchemy.engine.Engine:INSERT INTO audit_logs (id, user_id, action, resource, resource_id, details, ip_address, user_agent, timestamp) VALUES (%(id)s, %(user_id)s, %(action)s, %(resource)s, %(resource_id)s, %(details)s, %(ip_address)s, %(user_agent)s, %(timestamp)s)
2025-07-06 10:51:03,177 INFO sqlalchemy.engine.Engine [generated in 0.00005s] {'id': '9ffded6e-ad79-4ddb-80a1-171125c3cf07', 'user_id': 'admin-001', 'action': 'login', 'resource': 'auth', 'resource_id': None, 'details': 'Login from IP 127.0.0.1', 'ip_address': '127.0.0.1', 'user_agent': 'Unknown', 'timestamp': datetime.datetime(2025, 7, 6, 7, 51, 3, 176452)}
INFO:sqlalchemy.engine.Engine:[generated in 0.00005s] {'id': '9ffded6e-ad79-4ddb-80a1-171125c3cf07', 'user_id': 'admin-001', 'action': 'login', 'resource': 'auth', 'resource_id': None, 'details': 'Login from IP 127.0.0.1', 'ip_address': '127.0.0.1', 'user_agent': 'Unknown', 'timestamp': datetime.datetime(2025, 7, 6, 7, 51, 3, 176452)}
2025-07-06 10:51:03,178 INFO sqlalchemy.engine.Engine COMMIT
INFO:sqlalchemy.engine.Engine:COMMIT
2025-07-06 10:51:03,178 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 10:51:03,179 INFO sqlalchemy.engine.Engine SELECT audit_logs.id, audit_logs.user_id, audit_logs.action, audit_logs.resource, audit_logs.resource_id, audit_logs.details, audit_logs.ip_address, audit_logs.user_agent, audit_logs.timestamp 
FROM audit_logs 
WHERE audit_logs.id = %(pk_1)s
INFO:sqlalchemy.engine.Engine:SELECT audit_logs.id, audit_logs.user_id, audit_logs.action, audit_logs.resource, audit_logs.resource_id, audit_logs.details, audit_logs.ip_address, audit_logs.user_agent, audit_logs.timestamp 
FROM audit_logs 
WHERE audit_logs.id = %(pk_1)s
2025-07-06 10:51:03,179 INFO sqlalchemy.engine.Engine [generated in 0.00005s] {'pk_1': '9ffded6e-ad79-4ddb-80a1-171125c3cf07'}
INFO:sqlalchemy.engine.Engine:[generated in 0.00005s] {'pk_1': '9ffded6e-ad79-4ddb-80a1-171125c3cf07'}
2025-07-06 10:51:03,180 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(pk_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(pk_1)s
2025-07-06 10:51:03,180 INFO sqlalchemy.engine.Engine [cached since 0.004617s ago] {'pk_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 0.004617s ago] {'pk_1': 'admin-001'}
INFO:routes.auth:Login successful for user admin@saferide.com
2025-07-06 10:51:03,181 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64078 - "POST /api/auth/login HTTP/1.1" 200 OK
2025-07-06 10:51:03,196 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 10:51:03,196 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 10:51:03,196 INFO sqlalchemy.engine.Engine [cached since 0.3062s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 0.3062s ago] {}
2025-07-06 10:51:03,199 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users) AS anon_1
2025-07-06 10:51:03,199 INFO sqlalchemy.engine.Engine [generated in 0.00007s] {}
INFO:sqlalchemy.engine.Engine:[generated in 0.00007s] {}
2025-07-06 10:51:03,201 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.is_active = true) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.is_active = true) AS anon_1
2025-07-06 10:51:03,201 INFO sqlalchemy.engine.Engine [generated in 0.00006s] {}
INFO:sqlalchemy.engine.Engine:[generated in 0.00006s] {}
2025-07-06 10:51:03,202 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 10:51:03,202 INFO sqlalchemy.engine.Engine [generated in 0.00006s] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[generated in 0.00006s] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 10:51:03,205 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies) AS anon_1
2025-07-06 10:51:03,205 INFO sqlalchemy.engine.Engine [generated in 0.00006s] {}
INFO:sqlalchemy.engine.Engine:[generated in 0.00006s] {}
2025-07-06 10:51:03,207 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.is_active = true) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.is_active = true) AS anon_1
2025-07-06 10:51:03,207 INFO sqlalchemy.engine.Engine [generated in 0.00006s] {}
INFO:sqlalchemy.engine.Engine:[generated in 0.00006s] {}
2025-07-06 10:51:03,208 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 10:51:03,208 INFO sqlalchemy.engine.Engine [generated in 0.00005s] {}
INFO:sqlalchemy.engine.Engine:[generated in 0.00005s] {}
2025-07-06 10:51:03,212 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64078 - "GET /api/admin/dashboard/metrics HTTP/1.1" 200 OK
2025-07-06 10:51:03,214 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 10:51:03,214 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 10:51:03,214 INFO sqlalchemy.engine.Engine [cached since 0.3241s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 0.3241s ago] {}
2025-07-06 10:51:03,215 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users) AS anon_1
2025-07-06 10:51:03,215 INFO sqlalchemy.engine.Engine [cached since 0.01559s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 0.01559s ago] {}
2025-07-06 10:51:03,215 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.is_active = true) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.is_active = true) AS anon_1
2025-07-06 10:51:03,215 INFO sqlalchemy.engine.Engine [cached since 0.01405s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 0.01405s ago] {}
2025-07-06 10:51:03,216 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 10:51:03,216 INFO sqlalchemy.engine.Engine [cached since 0.01329s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 0.01329s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 10:51:03,216 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies) AS anon_1
2025-07-06 10:51:03,216 INFO sqlalchemy.engine.Engine [cached since 0.01183s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 0.01183s ago] {}
2025-07-06 10:51:03,217 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.is_active = true) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.is_active = true) AS anon_1
2025-07-06 10:51:03,217 INFO sqlalchemy.engine.Engine [cached since 0.01009s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 0.01009s ago] {}
2025-07-06 10:51:03,217 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 10:51:03,217 INFO sqlalchemy.engine.Engine [cached since 0.009662s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 0.009662s ago] {}
2025-07-06 10:51:03,218 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64078 - "GET /api/admin/dashboard/metrics HTTP/1.1" 200 OK
2025-07-06 10:51:10,539 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 10:51:10,539 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 10:51:10,540 INFO sqlalchemy.engine.Engine [cached since 7.649s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 7.649s ago] {}
2025-07-06 10:51:10,542 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 10:51:10,542 INFO sqlalchemy.engine.Engine [generated in 0.00023s] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[generated in 0.00023s] {'param_1': 100, 'param_2': 0}
2025-07-06 10:51:10,545 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 10:51:10,545 INFO sqlalchemy.engine.Engine [generated in 0.00049s] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[generated in 0.00049s] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 10:51:10,546 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 10:51:10,546 INFO sqlalchemy.engine.Engine [cached since 0.00203s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 0.00203s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 10:51:10,548 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64083 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 10:51:10,552 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 10:51:10,552 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
INFO:     127.0.0.1:64083 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 10:51:10,553 INFO sqlalchemy.engine.Engine [cached since 7.663s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 7.663s ago] {}
2025-07-06 10:51:10,554 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 10:51:10,554 INFO sqlalchemy.engine.Engine [cached since 0.01213s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 0.01213s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 10:51:10,555 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 10:51:10,555 INFO sqlalchemy.engine.Engine [cached since 0.01054s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 0.01054s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 10:51:10,556 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 10:51:10,556 INFO sqlalchemy.engine.Engine [cached since 0.01139s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 0.01139s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 10:51:10,557 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64085 - "GET /api/companies/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:64085 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 10:51:10,562 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 10:51:10,562 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 10:51:10,562 INFO sqlalchemy.engine.Engine [cached since 7.672s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 7.672s ago] {}
2025-07-06 10:51:10,564 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 10:51:10,564 INFO sqlalchemy.engine.Engine [cached since 7.361s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 7.361s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 10:51:10,567 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64083 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 10:51:10,569 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 10:51:10,569 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 10:51:10,569 INFO sqlalchemy.engine.Engine [cached since 7.679s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 7.679s ago] {}
2025-07-06 10:51:10,570 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 10:51:10,570 INFO sqlalchemy.engine.Engine [cached since 7.367s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 7.367s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 10:51:10,571 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64085 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
INFO:     127.0.0.1:64085 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:64083 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
2025-07-06 10:51:12,824 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 10:51:12,825 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 10:51:12,825 INFO sqlalchemy.engine.Engine [cached since 9.935s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 9.935s ago] {}
2025-07-06 10:51:12,827 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 10:51:12,827 INFO sqlalchemy.engine.Engine [cached since 9.656s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 9.656s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 10:51:12,829 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 10:51:12,829 INFO sqlalchemy.engine.Engine [cached since 9.663s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 9.663s ago] {'param_1': 'admin-001'}
2025-07-06 10:51:12,832 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 10:51:12,832 INFO sqlalchemy.engine.Engine [cached since 9.624s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 9.624s ago] {}
2025-07-06 10:51:12,835 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64083 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 10:51:12,838 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 10:51:12,838 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 10:51:12,838 INFO sqlalchemy.engine.Engine [cached since 9.948s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 9.948s ago] {}
2025-07-06 10:51:12,839 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 10:51:12,839 INFO sqlalchemy.engine.Engine [cached since 9.668s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 9.668s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 10:51:12,841 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 10:51:12,841 INFO sqlalchemy.engine.Engine [cached since 9.675s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 9.675s ago] {'param_1': 'admin-001'}
2025-07-06 10:51:12,842 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 10:51:12,842 INFO sqlalchemy.engine.Engine [cached since 9.634s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 9.634s ago] {}
2025-07-06 10:51:12,844 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64085 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 10:51:13,652 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 10:51:13,653 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 10:51:13,653 INFO sqlalchemy.engine.Engine [cached since 10.76s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 10.76s ago] {}
2025-07-06 10:51:13,657 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 10:51:13,657 INFO sqlalchemy.engine.Engine [cached since 3.115s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 3.115s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 10:51:13,660 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 10:51:13,670 INFO sqlalchemy.engine.Engine [cached since 3.126s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 3.126s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 10:51:13,674 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 10:51:13,674 INFO sqlalchemy.engine.Engine [cached since 3.13s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 3.13s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 10:51:13,676 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64085 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 10:51:13,683 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
INFO:     127.0.0.1:64085 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 10:51:13,683 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 10:51:13,684 INFO sqlalchemy.engine.Engine [cached since 10.79s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 10.79s ago] {}
2025-07-06 10:51:13,689 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 10:51:13,689 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 10:51:13,689 INFO sqlalchemy.engine.Engine [cached since 3.147s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 3.147s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 10:51:13,690 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 10:51:13,690 INFO sqlalchemy.engine.Engine [cached since 10.8s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 10.8s ago] {}
2025-07-06 10:51:13,691 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 10:51:13,691 INFO sqlalchemy.engine.Engine [cached since 3.146s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 3.146s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 10:51:13,692 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 10:51:13,692 INFO sqlalchemy.engine.Engine [cached since 3.147s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 3.147s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 10:51:13,692 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-07-06 10:51:13,692 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 10:51:13,693 INFO sqlalchemy.engine.Engine [cached since 10.49s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 10.49s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 10:51:13,693 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64083 - "GET /api/companies/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:64085 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
INFO:     127.0.0.1:64085 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 10:51:13,705 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 10:51:13,705 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 10:51:13,706 INFO sqlalchemy.engine.Engine [cached since 10.82s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 10.82s ago] {}
2025-07-06 10:51:13,706 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 10:51:13,706 INFO sqlalchemy.engine.Engine [cached since 10.5s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 10.5s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 10:51:13,707 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64085 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 10:53:56,168 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 10:53:56,171 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 10:53:56,171 INFO sqlalchemy.engine.Engine [cached since 173.3s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 173.3s ago] {}
2025-07-06 10:53:56,175 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users) AS anon_1
2025-07-06 10:53:56,175 INFO sqlalchemy.engine.Engine [cached since 173s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 173s ago] {}
2025-07-06 10:53:56,176 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.is_active = true) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.is_active = true) AS anon_1
2025-07-06 10:53:56,176 INFO sqlalchemy.engine.Engine [cached since 173s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 173s ago] {}
2025-07-06 10:53:56,177 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 10:53:56,177 INFO sqlalchemy.engine.Engine [cached since 173s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 173s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 10:53:56,178 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies) AS anon_1
2025-07-06 10:53:56,178 INFO sqlalchemy.engine.Engine [cached since 173s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 173s ago] {}
2025-07-06 10:53:56,179 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.is_active = true) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.is_active = true) AS anon_1
2025-07-06 10:53:56,179 INFO sqlalchemy.engine.Engine [cached since 173s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 173s ago] {}
2025-07-06 10:53:56,179 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 10:53:56,179 INFO sqlalchemy.engine.Engine [cached since 173s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 173s ago] {}
2025-07-06 10:53:56,180 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64274 - "GET /api/admin/dashboard/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64283 - "OPTIONS /api/companies/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:64284 - "OPTIONS /api/companies/ HTTP/1.1" 200 OK
2025-07-06 10:53:57,150 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 10:53:57,151 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 10:53:57,151 INFO sqlalchemy.engine.Engine [cached since 174.3s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 174.3s ago] {}
2025-07-06 10:53:57,153 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 10:53:57,153 INFO sqlalchemy.engine.Engine [cached since 166.6s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 166.6s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 10:53:57,157 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 10:53:57,157 INFO sqlalchemy.engine.Engine [cached since 166.6s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 166.6s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 10:53:57,159 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 10:53:57,159 INFO sqlalchemy.engine.Engine [cached since 166.6s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 166.6s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 10:53:57,161 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64284 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 10:53:57,164 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 10:53:57,165 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 10:53:57,165 INFO sqlalchemy.engine.Engine [cached since 174.3s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 174.3s ago] {}
INFO:     127.0.0.1:64284 - "OPTIONS /api/companies/drivers/available/ HTTP/1.1" 200 OK
2025-07-06 10:53:57,167 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 10:53:57,167 INFO sqlalchemy.engine.Engine [cached since 166.6s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 166.6s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 10:53:57,169 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 10:53:57,169 INFO sqlalchemy.engine.Engine [cached since 166.6s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 166.6s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 10:53:57,170 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 10:53:57,170 INFO sqlalchemy.engine.Engine [cached since 166.6s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 166.6s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 10:53:57,171 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64284 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:64283 - "GET /api/companies/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:64283 - "OPTIONS /api/companies/drivers/available HTTP/1.1" 200 OK
INFO:     127.0.0.1:64284 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 10:53:57,178 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 10:53:57,178 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 10:53:57,178 INFO sqlalchemy.engine.Engine [cached since 174.3s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 174.3s ago] {}
2025-07-06 10:53:57,179 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 10:53:57,179 INFO sqlalchemy.engine.Engine [cached since 174s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 174s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 10:53:57,181 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64283 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 10:53:57,183 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 10:53:57,183 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 10:53:57,183 INFO sqlalchemy.engine.Engine [cached since 174.3s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 174.3s ago] {}
2025-07-06 10:53:57,184 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 10:53:57,184 INFO sqlalchemy.engine.Engine [cached since 174s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 174s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 10:53:57,185 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64284 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
INFO:     127.0.0.1:64284 - "OPTIONS /api/children HTTP/1.1" 200 OK
INFO:     127.0.0.1:64283 - "OPTIONS /api/children HTTP/1.1" 200 OK
INFO:     127.0.0.1:64283 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:64284 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:64284 - "OPTIONS /api/children/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:64283 - "OPTIONS /api/children/ HTTP/1.1" 200 OK
2025-07-06 10:53:58,635 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 10:53:58,635 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 10:53:58,635 INFO sqlalchemy.engine.Engine [cached since 175.7s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 175.7s ago] {}
2025-07-06 10:53:58,637 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 10:53:58,637 INFO sqlalchemy.engine.Engine [cached since 175.5s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 175.5s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 10:53:58,638 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 10:53:58,638 INFO sqlalchemy.engine.Engine [cached since 175.5s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 175.5s ago] {'param_1': 'admin-001'}
2025-07-06 10:53:58,640 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 10:53:58,640 INFO sqlalchemy.engine.Engine [cached since 175.4s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 175.4s ago] {}
2025-07-06 10:53:58,642 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64284 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 10:53:58,644 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 10:53:58,644 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 10:53:58,644 INFO sqlalchemy.engine.Engine [cached since 175.8s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 175.8s ago] {}
2025-07-06 10:53:58,645 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 10:53:58,645 INFO sqlalchemy.engine.Engine [cached since 175.5s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 175.5s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 10:53:58,646 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 10:53:58,646 INFO sqlalchemy.engine.Engine [cached since 175.5s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 175.5s ago] {'param_1': 'admin-001'}
2025-07-06 10:53:58,647 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 10:53:58,647 INFO sqlalchemy.engine.Engine [cached since 175.4s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 175.4s ago] {}
2025-07-06 10:53:58,648 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64283 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 10:54:08,007 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 10:54:08,007 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 10:54:08,007 INFO sqlalchemy.engine.Engine [cached since 185.1s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 185.1s ago] {}
2025-07-06 10:54:08,008 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 10:54:08,008 INFO sqlalchemy.engine.Engine [cached since 177.5s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 177.5s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 10:54:08,015 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 10:54:08,015 INFO sqlalchemy.engine.Engine [cached since 177.5s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 177.5s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 10:54:08,018 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 10:54:08,018 INFO sqlalchemy.engine.Engine [cached since 177.5s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 177.5s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 10:54:08,022 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64328 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 10:54:08,026 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 10:54:08,026 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 10:54:08,026 INFO sqlalchemy.engine.Engine [cached since 185.1s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 185.1s ago] {}
INFO:     127.0.0.1:64330 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 10:54:08,028 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 10:54:08,028 INFO sqlalchemy.engine.Engine [cached since 177.5s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 177.5s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 10:54:08,028 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 10:54:08,028 INFO sqlalchemy.engine.Engine [cached since 177.5s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 177.5s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 10:54:08,029 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 10:54:08,029 INFO sqlalchemy.engine.Engine [cached since 177.5s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 177.5s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 10:54:08,029 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64328 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 10:54:08,030 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 10:54:08,030 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 10:54:08,030 INFO sqlalchemy.engine.Engine [cached since 185.1s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 185.1s ago] {}
2025-07-06 10:54:08,032 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 10:54:08,032 INFO sqlalchemy.engine.Engine [cached since 184.8s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 184.8s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 10:54:08,033 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64328 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:64330 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 10:54:08,035 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 10:54:08,035 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 10:54:08,035 INFO sqlalchemy.engine.Engine [cached since 185.1s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 185.1s ago] {}
2025-07-06 10:54:08,036 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 10:54:08,036 INFO sqlalchemy.engine.Engine [cached since 184.8s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 184.8s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 10:54:08,037 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64330 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 10:54:08,939 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 10:54:08,939 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 10:54:08,939 INFO sqlalchemy.engine.Engine [cached since 186s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 186s ago] {}
2025-07-06 10:54:08,941 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users) AS anon_1
2025-07-06 10:54:08,941 INFO sqlalchemy.engine.Engine [cached since 185.7s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 185.7s ago] {}
2025-07-06 10:54:08,942 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.is_active = true) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.is_active = true) AS anon_1
2025-07-06 10:54:08,942 INFO sqlalchemy.engine.Engine [cached since 185.7s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 185.7s ago] {}
2025-07-06 10:54:08,942 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 10:54:08,942 INFO sqlalchemy.engine.Engine [cached since 185.7s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 185.7s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 10:54:08,943 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies) AS anon_1
2025-07-06 10:54:08,943 INFO sqlalchemy.engine.Engine [cached since 185.7s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 185.7s ago] {}
2025-07-06 10:54:08,944 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.is_active = true) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.is_active = true) AS anon_1
2025-07-06 10:54:08,944 INFO sqlalchemy.engine.Engine [cached since 185.7s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 185.7s ago] {}
2025-07-06 10:54:08,944 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 10:54:08,944 INFO sqlalchemy.engine.Engine [cached since 185.7s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 185.7s ago] {}
2025-07-06 10:54:08,945 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64335 - "GET /api/admin/dashboard/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64406 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:64406 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
2025-07-06 10:54:30,762 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 10:54:30,762 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 10:54:30,762 INFO sqlalchemy.engine.Engine [cached since 207.9s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 207.9s ago] {}
2025-07-06 10:54:30,762 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 10:54:30,762 INFO sqlalchemy.engine.Engine [cached since 207.6s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 207.6s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 10:54:30,763 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 10:54:30,763 INFO sqlalchemy.engine.Engine [cached since 207.6s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 207.6s ago] {'param_1': 'admin-001'}
2025-07-06 10:54:30,764 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 10:54:30,764 INFO sqlalchemy.engine.Engine [cached since 207.6s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 207.6s ago] {}
2025-07-06 10:54:30,765 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64406 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 10:54:30,767 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 10:54:30,767 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 10:54:30,767 INFO sqlalchemy.engine.Engine [cached since 207.9s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 207.9s ago] {}
2025-07-06 10:54:30,767 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 10:54:30,767 INFO sqlalchemy.engine.Engine [cached since 207.6s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 207.6s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 10:54:30,768 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 10:54:30,768 INFO sqlalchemy.engine.Engine [cached since 207.6s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 207.6s ago] {'param_1': 'admin-001'}
2025-07-06 10:54:30,769 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 10:54:30,769 INFO sqlalchemy.engine.Engine [cached since 207.6s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 207.6s ago] {}
2025-07-06 10:54:30,770 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64408 - "GET /api/children/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:64632 - "OPTIONS /api/admin/dashboard/metrics HTTP/1.1" 200 OK
2025-07-06 10:57:45,345 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 10:57:45,346 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 10:57:45,346 INFO sqlalchemy.engine.Engine [cached since 402.4s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 402.4s ago] {}
2025-07-06 10:57:45,350 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users) AS anon_1
2025-07-06 10:57:45,351 INFO sqlalchemy.engine.Engine [cached since 402.1s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 402.1s ago] {}
2025-07-06 10:57:45,354 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.is_active = true) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.is_active = true) AS anon_1
2025-07-06 10:57:45,354 INFO sqlalchemy.engine.Engine [cached since 402.1s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 402.1s ago] {}
2025-07-06 10:57:45,355 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 10:57:45,355 INFO sqlalchemy.engine.Engine [cached since 402.1s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 402.1s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 10:57:45,358 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies) AS anon_1
2025-07-06 10:57:45,358 INFO sqlalchemy.engine.Engine [cached since 402.1s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 402.1s ago] {}
2025-07-06 10:57:45,359 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.is_active = true) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.is_active = true) AS anon_1
2025-07-06 10:57:45,359 INFO sqlalchemy.engine.Engine [cached since 402.1s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 402.1s ago] {}
2025-07-06 10:57:45,360 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 10:57:45,360 INFO sqlalchemy.engine.Engine [cached since 402.1s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 402.1s ago] {}
2025-07-06 10:57:45,363 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64634 - "GET /api/admin/dashboard/metrics HTTP/1.1" 200 OK
2025-07-06 10:57:46,200 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 10:57:46,200 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 10:57:46,200 INFO sqlalchemy.engine.Engine [cached since 403.3s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 403.3s ago] {}
2025-07-06 10:57:46,203 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 10:57:46,203 INFO sqlalchemy.engine.Engine [cached since 395.7s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 395.7s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 10:57:46,205 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 10:57:46,205 INFO sqlalchemy.engine.Engine [cached since 395.7s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 395.7s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 10:57:46,207 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 10:57:46,207 INFO sqlalchemy.engine.Engine [cached since 395.7s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 395.7s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 10:57:46,208 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64632 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 10:57:46,212 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 10:57:46,213 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 10:57:46,213 INFO sqlalchemy.engine.Engine [cached since 403.3s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 403.3s ago] {}
INFO:     127.0.0.1:64636 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 10:57:46,215 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 10:57:46,216 INFO sqlalchemy.engine.Engine [cached since 395.7s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 395.7s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 10:57:46,218 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 10:57:46,218 INFO sqlalchemy.engine.Engine [cached since 395.7s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 395.7s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 10:57:46,219 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 10:57:46,219 INFO sqlalchemy.engine.Engine [cached since 395.7s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 395.7s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 10:57:46,222 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-07-06 10:57:46,223 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
INFO:     127.0.0.1:64632 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 10:57:46,223 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 10:57:46,223 INFO sqlalchemy.engine.Engine [cached since 403.3s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 403.3s ago] {}
2025-07-06 10:57:46,225 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 10:57:46,225 INFO sqlalchemy.engine.Engine [cached since 403s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 403s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 10:57:46,227 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64632 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:64636 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 10:57:46,230 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 10:57:46,230 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 10:57:46,230 INFO sqlalchemy.engine.Engine [cached since 403.3s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 403.3s ago] {}
2025-07-06 10:57:46,231 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 10:57:46,232 INFO sqlalchemy.engine.Engine [cached since 403s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 403s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 10:57:46,233 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64636 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 10:57:47,025 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 10:57:47,025 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 10:57:47,025 INFO sqlalchemy.engine.Engine [cached since 404.1s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 404.1s ago] {}
2025-07-06 10:57:47,026 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users) AS anon_1
2025-07-06 10:57:47,026 INFO sqlalchemy.engine.Engine [cached since 403.8s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 403.8s ago] {}
2025-07-06 10:57:47,028 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.is_active = true) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.is_active = true) AS anon_1
2025-07-06 10:57:47,028 INFO sqlalchemy.engine.Engine [cached since 403.8s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 403.8s ago] {}
2025-07-06 10:57:47,028 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 10:57:47,028 INFO sqlalchemy.engine.Engine [cached since 403.8s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 403.8s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 10:57:47,029 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies) AS anon_1
2025-07-06 10:57:47,030 INFO sqlalchemy.engine.Engine [cached since 403.8s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 403.8s ago] {}
2025-07-06 10:57:47,030 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.is_active = true) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.is_active = true) AS anon_1
2025-07-06 10:57:47,031 INFO sqlalchemy.engine.Engine [cached since 403.8s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 403.8s ago] {}
2025-07-06 10:57:47,031 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 10:57:47,031 INFO sqlalchemy.engine.Engine [cached since 403.8s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 403.8s ago] {}
2025-07-06 10:57:47,033 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64634 - "GET /api/admin/dashboard/metrics HTTP/1.1" 200 OK
2025-07-06 10:57:49,814 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 10:57:49,814 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 10:57:49,814 INFO sqlalchemy.engine.Engine [cached since 406.9s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 406.9s ago] {}
2025-07-06 10:57:49,816 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 10:57:49,816 INFO sqlalchemy.engine.Engine [cached since 399.3s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 399.3s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 10:57:49,818 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 10:57:49,818 INFO sqlalchemy.engine.Engine [cached since 399.3s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 399.3s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 10:57:49,820 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 10:57:49,820 INFO sqlalchemy.engine.Engine [cached since 399.3s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 399.3s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 10:57:49,821 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64636 - "GET /api/companies/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:64636 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 10:57:49,829 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 10:57:49,829 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 10:57:49,829 INFO sqlalchemy.engine.Engine [cached since 406.9s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 406.9s ago] {}
2025-07-06 10:57:49,833 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 10:57:49,833 INFO sqlalchemy.engine.Engine [cached since 399.3s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 399.3s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 10:57:49,835 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 10:57:49,835 INFO sqlalchemy.engine.Engine [cached since 399.3s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 399.3s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 10:57:49,836 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 10:57:49,837 INFO sqlalchemy.engine.Engine [cached since 399.3s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 399.3s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 10:57:49,838 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-07-06 10:57:49,838 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 10:57:49,839 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 10:57:49,839 INFO sqlalchemy.engine.Engine [cached since 406.9s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 406.9s ago] {}
INFO:     127.0.0.1:64632 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 10:57:49,842 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 10:57:49,842 INFO sqlalchemy.engine.Engine [cached since 406.6s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 406.6s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 10:57:49,844 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64632 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:64636 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 10:57:49,848 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 10:57:49,849 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 10:57:49,849 INFO sqlalchemy.engine.Engine [cached since 407s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 407s ago] {}
2025-07-06 10:57:49,850 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 10:57:49,850 INFO sqlalchemy.engine.Engine [cached since 406.6s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 406.6s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 10:57:49,852 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64636 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
INFO:     127.0.0.1:64640 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:64640 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
2025-07-06 10:57:59,051 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 10:57:59,052 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 10:57:59,052 INFO sqlalchemy.engine.Engine [cached since 416.2s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 416.2s ago] {}
2025-07-06 10:57:59,054 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 10:57:59,054 INFO sqlalchemy.engine.Engine [cached since 415.9s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 415.9s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 10:57:59,056 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 10:57:59,056 INFO sqlalchemy.engine.Engine [cached since 415.9s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 415.9s ago] {'param_1': 'admin-001'}
2025-07-06 10:57:59,058 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 10:57:59,058 INFO sqlalchemy.engine.Engine [cached since 415.8s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 415.8s ago] {}
2025-07-06 10:57:59,060 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64642 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 10:57:59,062 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 10:57:59,063 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 10:57:59,063 INFO sqlalchemy.engine.Engine [cached since 416.2s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 416.2s ago] {}
2025-07-06 10:57:59,064 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 10:57:59,064 INFO sqlalchemy.engine.Engine [cached since 415.9s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 415.9s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 10:57:59,065 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 10:57:59,065 INFO sqlalchemy.engine.Engine [cached since 415.9s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 415.9s ago] {'param_1': 'admin-001'}
2025-07-06 10:57:59,066 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 10:57:59,067 INFO sqlalchemy.engine.Engine [cached since 415.8s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 415.8s ago] {}
2025-07-06 10:57:59,068 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64640 - "GET /api/children/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:64702 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:64702 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
2025-07-06 10:59:23,528 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 10:59:23,528 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 10:59:23,528 INFO sqlalchemy.engine.Engine [cached since 500.6s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 500.6s ago] {}
2025-07-06 10:59:23,529 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 10:59:23,529 INFO sqlalchemy.engine.Engine [cached since 500.3s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 500.3s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 10:59:23,529 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 10:59:23,529 INFO sqlalchemy.engine.Engine [cached since 500.3s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 500.3s ago] {'param_1': 'admin-001'}
2025-07-06 10:59:23,530 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 10:59:23,530 INFO sqlalchemy.engine.Engine [cached since 500.3s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 500.3s ago] {}
2025-07-06 10:59:23,531 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64704 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 10:59:23,532 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 10:59:23,532 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 10:59:23,532 INFO sqlalchemy.engine.Engine [cached since 500.6s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 500.6s ago] {}
2025-07-06 10:59:23,532 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 10:59:23,532 INFO sqlalchemy.engine.Engine [cached since 500.3s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 500.3s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 10:59:23,533 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 10:59:23,533 INFO sqlalchemy.engine.Engine [cached since 500.3s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 500.3s ago] {'param_1': 'admin-001'}
2025-07-06 10:59:23,534 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 10:59:23,534 INFO sqlalchemy.engine.Engine [cached since 500.3s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 500.3s ago] {}
2025-07-06 10:59:23,535 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64702 - "GET /api/children/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:64753 - "OPTIONS /api/auth/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:64754 - "OPTIONS /api/auth/me HTTP/1.1" 200 OK
2025-07-06 11:00:52,858 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:00:52,858 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:00:52,858 INFO sqlalchemy.engine.Engine [cached since 589.9s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 589.9s ago] {}
2025-07-06 11:00:52,863 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:00:52,863 INFO sqlalchemy.engine.Engine [cached since 589.7s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 589.7s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:00:52,866 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:00:52,866 INFO sqlalchemy.engine.Engine [cached since 589.7s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 589.7s ago] {'param_1': 'admin-001'}
2025-07-06 11:00:52,870 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:00:52,870 INFO sqlalchemy.engine.Engine [cached since 589.7s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 589.7s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:00:52,871 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:00:52,871 INFO sqlalchemy.engine.Engine [cached since 589.7s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 589.7s ago] {'param_1': 'admin-001'}
2025-07-06 11:00:52,872 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64756 - "GET /api/auth/me HTTP/1.1" 200 OK
2025-07-06 11:00:52,874 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:00:52,874 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:00:52,874 INFO sqlalchemy.engine.Engine [cached since 590s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 590s ago] {}
2025-07-06 11:00:52,875 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:00:52,875 INFO sqlalchemy.engine.Engine [cached since 589.7s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 589.7s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:00:52,876 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:00:52,876 INFO sqlalchemy.engine.Engine [cached since 589.7s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 589.7s ago] {'param_1': 'admin-001'}
2025-07-06 11:00:52,879 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:00:52,879 INFO sqlalchemy.engine.Engine [cached since 589.7s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 589.7s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:00:52,879 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:00:52,879 INFO sqlalchemy.engine.Engine [cached since 589.7s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 589.7s ago] {'param_1': 'admin-001'}
2025-07-06 11:00:52,880 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64756 - "GET /api/auth/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:64754 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:64753 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
2025-07-06 11:00:53,029 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:00:53,030 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:00:53,030 INFO sqlalchemy.engine.Engine [cached since 590.1s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 590.1s ago] {}
2025-07-06 11:00:53,031 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:00:53,031 INFO sqlalchemy.engine.Engine [cached since 589.8s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 589.8s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:00:53,032 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:00:53,033 INFO sqlalchemy.engine.Engine [cached since 589.8s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 589.8s ago] {'param_1': 'admin-001'}
2025-07-06 11:00:53,035 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 11:00:53,035 INFO sqlalchemy.engine.Engine [cached since 589.8s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 589.8s ago] {}
2025-07-06 11:00:53,038 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64753 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 11:00:53,041 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:00:53,041 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:00:53,041 INFO sqlalchemy.engine.Engine [cached since 590.1s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 590.1s ago] {}
2025-07-06 11:00:53,042 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:00:53,042 INFO sqlalchemy.engine.Engine [cached since 589.8s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 589.8s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:00:53,043 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:00:53,043 INFO sqlalchemy.engine.Engine [cached since 589.9s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 589.9s ago] {'param_1': 'admin-001'}
2025-07-06 11:00:53,045 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 11:00:53,045 INFO sqlalchemy.engine.Engine [cached since 589.8s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 589.8s ago] {}
2025-07-06 11:00:53,047 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64754 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 11:02:07,562 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:02:07,563 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:02:07,563 INFO sqlalchemy.engine.Engine [cached since 664.6s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 664.6s ago] {}
2025-07-06 11:02:07,564 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:02:07,564 INFO sqlalchemy.engine.Engine [cached since 657s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 657s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:02:07,567 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:02:07,567 INFO sqlalchemy.engine.Engine [cached since 657s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 657s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:02:07,567 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:02:07,567 INFO sqlalchemy.engine.Engine [cached since 657s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 657s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:02:07,568 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64914 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 11:02:07,569 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:02:07,569 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:02:07,570 INFO sqlalchemy.engine.Engine [cached since 664.7s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 664.7s ago] {}
2025-07-06 11:02:07,571 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:02:07,571 INFO sqlalchemy.engine.Engine [cached since 657s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 657s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:02:07,571 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:02:07,571 INFO sqlalchemy.engine.Engine [cached since 657s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 657s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:02:07,573 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:02:07,573 INFO sqlalchemy.engine.Engine [cached since 657s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 657s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:     127.0.0.1:64916 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 11:02:07,573 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64914 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 11:02:07,576 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:02:07,576 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:02:07,576 INFO sqlalchemy.engine.Engine [cached since 664.7s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 664.7s ago] {}
INFO:     127.0.0.1:64914 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 11:02:07,577 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:02:07,578 INFO sqlalchemy.engine.Engine [cached since 664.3s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 664.3s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:02:07,578 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64916 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 11:02:07,580 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:02:07,580 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:02:07,580 INFO sqlalchemy.engine.Engine [cached since 664.7s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 664.7s ago] {}
2025-07-06 11:02:07,581 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:02:07,581 INFO sqlalchemy.engine.Engine [cached since 664.4s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 664.4s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:02:07,581 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64914 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
INFO:     127.0.0.1:64948 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:64950 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 11:02:32,250 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:02:32,251 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:02:32,251 INFO sqlalchemy.engine.Engine [cached since 689.3s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 689.3s ago] {}
2025-07-06 11:02:32,252 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:02:32,252 INFO sqlalchemy.engine.Engine [cached since 689s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 689s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:02:32,253 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64948 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 11:02:32,254 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:02:32,254 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:02:32,254 INFO sqlalchemy.engine.Engine [cached since 689.3s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 689.3s ago] {}
2025-07-06 11:02:32,255 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:02:32,255 INFO sqlalchemy.engine.Engine [cached since 689s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 689s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:02:32,256 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64950 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 11:02:35,862 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:02:35,863 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:02:35,863 INFO sqlalchemy.engine.Engine [cached since 692.9s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 692.9s ago] {}
2025-07-06 11:02:35,864 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:02:35,864 INFO sqlalchemy.engine.Engine [cached since 692.7s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 692.7s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:02:35,865 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:02:35,865 INFO sqlalchemy.engine.Engine [cached since 692.7s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 692.7s ago] {'param_1': 'admin-001'}
2025-07-06 11:02:35,866 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:02:35,866 INFO sqlalchemy.engine.Engine [cached since 692.7s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 692.7s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:02:35,867 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:02:35,867 INFO sqlalchemy.engine.Engine [cached since 692.7s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 692.7s ago] {'param_1': 'admin-001'}
2025-07-06 11:02:35,868 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64964 - "GET /api/auth/me HTTP/1.1" 200 OK
2025-07-06 11:02:35,869 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:02:35,869 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:02:35,869 INFO sqlalchemy.engine.Engine [cached since 693s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 693s ago] {}
2025-07-06 11:02:35,870 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:02:35,870 INFO sqlalchemy.engine.Engine [cached since 692.7s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 692.7s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:02:35,870 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:02:35,870 INFO sqlalchemy.engine.Engine [cached since 692.7s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 692.7s ago] {'param_1': 'admin-001'}
2025-07-06 11:02:35,871 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:02:35,871 INFO sqlalchemy.engine.Engine [cached since 692.7s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 692.7s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:02:35,871 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:02:35,871 INFO sqlalchemy.engine.Engine [cached since 692.7s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 692.7s ago] {'param_1': 'admin-001'}
2025-07-06 11:02:35,872 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64964 - "GET /api/auth/me HTTP/1.1" 200 OK
2025-07-06 11:02:35,920 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:02:35,920 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:02:35,920 INFO sqlalchemy.engine.Engine [cached since 693s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 693s ago] {}
2025-07-06 11:02:35,922 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:02:35,922 INFO sqlalchemy.engine.Engine [cached since 685.4s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 685.4s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:02:35,925 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:02:35,926 INFO sqlalchemy.engine.Engine [cached since 685.4s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 685.4s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:02:35,926 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:02:35,927 INFO sqlalchemy.engine.Engine [cached since 685.4s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 685.4s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:02:35,928 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64950 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 11:02:35,930 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:02:35,930 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:02:35,933 INFO sqlalchemy.engine.Engine [cached since 693s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 693s ago] {}
INFO:     127.0.0.1:64950 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 11:02:35,935 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:02:35,935 INFO sqlalchemy.engine.Engine [cached since 685.4s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 685.4s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:02:35,937 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:02:35,937 INFO sqlalchemy.engine.Engine [cached since 685.4s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 685.4s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:02:35,938 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:02:35,938 INFO sqlalchemy.engine.Engine [cached since 685.4s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 685.4s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:02:35,939 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-07-06 11:02:35,940 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:02:35,940 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:02:35,940 INFO sqlalchemy.engine.Engine [cached since 693s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 693s ago] {}
INFO:     127.0.0.1:64948 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 11:02:35,942 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:02:35,942 INFO sqlalchemy.engine.Engine [cached since 692.7s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 692.7s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:02:35,943 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64948 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:64950 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 11:02:35,945 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:02:35,945 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:02:35,945 INFO sqlalchemy.engine.Engine [cached since 693s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 693s ago] {}
2025-07-06 11:02:35,945 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:02:35,945 INFO sqlalchemy.engine.Engine [cached since 692.7s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 692.7s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:02:35,946 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64948 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 11:03:42,764 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:03:42,765 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:03:42,765 INFO sqlalchemy.engine.Engine [cached since 759.8s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 759.8s ago] {}
2025-07-06 11:03:42,766 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users) AS anon_1
2025-07-06 11:03:42,766 INFO sqlalchemy.engine.Engine [cached since 759.5s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 759.5s ago] {}
2025-07-06 11:03:42,767 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.is_active = true) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.is_active = true) AS anon_1
2025-07-06 11:03:42,767 INFO sqlalchemy.engine.Engine [cached since 759.5s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 759.5s ago] {}
2025-07-06 11:03:42,768 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:03:42,768 INFO sqlalchemy.engine.Engine [cached since 759.5s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 759.5s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:03:42,769 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies) AS anon_1
2025-07-06 11:03:42,769 INFO sqlalchemy.engine.Engine [cached since 759.5s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 759.5s ago] {}
2025-07-06 11:03:42,770 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.is_active = true) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.is_active = true) AS anon_1
2025-07-06 11:03:42,770 INFO sqlalchemy.engine.Engine [cached since 759.5s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 759.5s ago] {}
2025-07-06 11:03:42,771 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 11:03:42,771 INFO sqlalchemy.engine.Engine [cached since 759.5s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 759.5s ago] {}
2025-07-06 11:03:42,773 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65004 - "GET /api/admin/dashboard/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:65006 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:65006 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
2025-07-06 11:03:44,304 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:03:44,304 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:03:44,304 INFO sqlalchemy.engine.Engine [cached since 761.4s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 761.4s ago] {}
2025-07-06 11:03:44,305 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:03:44,305 INFO sqlalchemy.engine.Engine [cached since 761.1s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 761.1s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:03:44,306 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:03:44,306 INFO sqlalchemy.engine.Engine [cached since 761.1s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 761.1s ago] {'param_1': 'admin-001'}
2025-07-06 11:03:44,308 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 11:03:44,308 INFO sqlalchemy.engine.Engine [cached since 761.1s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 761.1s ago] {}
2025-07-06 11:03:44,309 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65008 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 11:03:44,310 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:03:44,311 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:03:44,311 INFO sqlalchemy.engine.Engine [cached since 761.4s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 761.4s ago] {}
2025-07-06 11:03:44,312 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:03:44,312 INFO sqlalchemy.engine.Engine [cached since 761.1s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 761.1s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:03:44,312 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:03:44,312 INFO sqlalchemy.engine.Engine [cached since 761.1s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 761.1s ago] {'param_1': 'admin-001'}
2025-07-06 11:03:44,313 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 11:03:44,313 INFO sqlalchemy.engine.Engine [cached since 761.1s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 761.1s ago] {}
2025-07-06 11:03:44,314 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65006 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 11:03:45,216 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:03:45,216 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:03:45,216 INFO sqlalchemy.engine.Engine [cached since 762.3s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 762.3s ago] {}
2025-07-06 11:03:45,218 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:03:45,218 INFO sqlalchemy.engine.Engine [cached since 754.6s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 754.6s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:03:45,220 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:03:45,220 INFO sqlalchemy.engine.Engine [cached since 754.6s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 754.6s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:03:45,221 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:03:45,221 INFO sqlalchemy.engine.Engine [cached since 754.6s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 754.6s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:03:45,222 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65006 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 11:03:45,225 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:03:45,225 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:03:45,225 INFO sqlalchemy.engine.Engine [cached since 762.3s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 762.3s ago] {}
2025-07-06 11:03:45,227 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:03:45,227 INFO sqlalchemy.engine.Engine [cached since 754.7s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 754.7s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:03:45,229 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:03:45,229 INFO sqlalchemy.engine.Engine [cached since 754.7s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 754.7s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:03:45,230 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:03:45,230 INFO sqlalchemy.engine.Engine [cached since 754.7s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 754.7s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:     127.0.0.1:65006 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 11:03:45,231 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65008 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 11:03:45,235 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
INFO:     127.0.0.1:65008 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 11:03:45,235 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:03:45,235 INFO sqlalchemy.engine.Engine [cached since 762.3s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 762.3s ago] {}
2025-07-06 11:03:45,237 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:03:45,237 INFO sqlalchemy.engine.Engine [cached since 762s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 762s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:03:45,238 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65006 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 11:03:45,240 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:03:45,240 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:03:45,240 INFO sqlalchemy.engine.Engine [cached since 762.3s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 762.3s ago] {}
2025-07-06 11:03:45,241 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:03:45,242 INFO sqlalchemy.engine.Engine [cached since 762s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 762s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:03:45,244 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65008 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 11:03:49,712 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:03:49,713 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:03:49,713 INFO sqlalchemy.engine.Engine [cached since 766.8s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 766.8s ago] {}
2025-07-06 11:03:49,715 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:03:49,715 INFO sqlalchemy.engine.Engine [cached since 759.1s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 759.1s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:03:49,716 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:03:49,716 INFO sqlalchemy.engine.Engine [cached since 759.1s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 759.1s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:03:49,716 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:03:49,716 INFO sqlalchemy.engine.Engine [cached since 759.1s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 759.1s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:03:49,717 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65008 - "GET /api/companies/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:65008 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 11:03:49,720 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:03:49,720 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:03:49,720 INFO sqlalchemy.engine.Engine [cached since 766.8s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 766.8s ago] {}
2025-07-06 11:03:49,721 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:03:49,721 INFO sqlalchemy.engine.Engine [cached since 766.5s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 766.5s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:03:49,722 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65008 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
INFO:     127.0.0.1:65071 - "OPTIONS /api/companies/ HTTP/1.1" 200 OK
2025-07-06 11:05:25,030 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:05:25,030 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:05:25,030 INFO sqlalchemy.engine.Engine [cached since 862.1s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 862.1s ago] {}
2025-07-06 11:05:25,031 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:05:25,031 INFO sqlalchemy.engine.Engine [cached since 854.5s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 854.5s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:05:25,031 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:05:25,031 INFO sqlalchemy.engine.Engine [cached since 854.5s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 854.5s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:05:25,032 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:05:25,032 INFO sqlalchemy.engine.Engine [cached since 854.5s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 854.5s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:05:25,032 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65071 - "GET /api/companies/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:65071 - "OPTIONS /api/companies/drivers/available/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:65071 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:65071 - "OPTIONS /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 11:05:25,038 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:05:25,038 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:05:25,038 INFO sqlalchemy.engine.Engine [cached since 862.1s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 862.1s ago] {}
2025-07-06 11:05:25,038 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:05:25,038 INFO sqlalchemy.engine.Engine [cached since 861.8s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 861.8s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:05:25,039 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65071 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 11:07:11,610 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:07:11,610 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:07:11,611 INFO sqlalchemy.engine.Engine [cached since 968.7s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 968.7s ago] {}
2025-07-06 11:07:11,615 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:07:11,615 INFO sqlalchemy.engine.Engine [cached since 961s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 961s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:07:11,620 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:07:11,620 INFO sqlalchemy.engine.Engine [cached since 961s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 961s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:07:11,621 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:07:11,621 INFO sqlalchemy.engine.Engine [cached since 961s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 961s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:07:11,622 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65485 - "GET /api/companies/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:65485 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 11:07:11,630 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:07:11,630 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:07:11,630 INFO sqlalchemy.engine.Engine [cached since 968.7s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 968.7s ago] {}
2025-07-06 11:07:11,631 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:07:11,631 INFO sqlalchemy.engine.Engine [cached since 968.4s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 968.4s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:07:11,632 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65485 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 11:07:34,854 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:07:34,855 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:07:34,855 INFO sqlalchemy.engine.Engine [cached since 991.9s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 991.9s ago] {}
2025-07-06 11:07:34,858 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:07:34,858 INFO sqlalchemy.engine.Engine [cached since 991.7s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 991.7s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:07:34,859 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:07:34,859 INFO sqlalchemy.engine.Engine [cached since 991.7s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 991.7s ago] {'param_1': 'admin-001'}
2025-07-06 11:07:34,862 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:07:34,862 INFO sqlalchemy.engine.Engine [cached since 991.7s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 991.7s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:07:34,863 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:07:34,863 INFO sqlalchemy.engine.Engine [cached since 991.7s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 991.7s ago] {'param_1': 'admin-001'}
2025-07-06 11:07:34,864 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65530 - "GET /api/auth/me HTTP/1.1" 200 OK
2025-07-06 11:07:34,866 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:07:34,866 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:07:34,866 INFO sqlalchemy.engine.Engine [cached since 991.9s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 991.9s ago] {}
2025-07-06 11:07:34,866 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:07:34,866 INFO sqlalchemy.engine.Engine [cached since 991.7s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 991.7s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:07:34,867 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:07:34,867 INFO sqlalchemy.engine.Engine [cached since 991.7s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 991.7s ago] {'param_1': 'admin-001'}
2025-07-06 11:07:34,868 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:07:34,868 INFO sqlalchemy.engine.Engine [cached since 991.7s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 991.7s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:07:34,868 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:07:34,868 INFO sqlalchemy.engine.Engine [cached since 991.7s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 991.7s ago] {'param_1': 'admin-001'}
2025-07-06 11:07:34,869 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65530 - "GET /api/auth/me HTTP/1.1" 200 OK
2025-07-06 11:07:34,955 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:07:34,955 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:07:34,955 INFO sqlalchemy.engine.Engine [cached since 992s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 992s ago] {}
2025-07-06 11:07:34,957 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:07:34,957 INFO sqlalchemy.engine.Engine [cached since 984.4s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 984.4s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:07:34,961 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:07:34,961 INFO sqlalchemy.engine.Engine [cached since 984.4s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 984.4s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:07:34,962 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:07:34,962 INFO sqlalchemy.engine.Engine [cached since 984.4s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 984.4s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:07:34,963 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65534 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 11:07:34,965 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:07:34,965 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:07:34,965 INFO sqlalchemy.engine.Engine [cached since 992s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 992s ago] {}
2025-07-06 11:07:34,966 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:07:34,966 INFO sqlalchemy.engine.Engine [cached since 984.4s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 984.4s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:07:34,966 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:07:34,966 INFO sqlalchemy.engine.Engine [cached since 984.4s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 984.4s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:07:34,967 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:07:34,967 INFO sqlalchemy.engine.Engine [cached since 984.4s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 984.4s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:07:34,967 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65534 - "GET /api/companies/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:65534 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:49153 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 11:07:34,997 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:07:34,997 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:07:34,997 INFO sqlalchemy.engine.Engine [cached since 992.1s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 992.1s ago] {}
2025-07-06 11:07:34,998 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:07:34,998 INFO sqlalchemy.engine.Engine [cached since 991.8s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 991.8s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:07:34,999 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49153 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 11:07:35,001 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:07:35,002 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:07:35,002 INFO sqlalchemy.engine.Engine [cached since 992.1s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 992.1s ago] {}
2025-07-06 11:07:35,002 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:07:35,002 INFO sqlalchemy.engine.Engine [cached since 991.8s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 991.8s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:07:35,003 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65534 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 11:07:39,661 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:07:39,661 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:07:39,661 INFO sqlalchemy.engine.Engine [cached since 996.7s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 996.7s ago] {}
2025-07-06 11:07:39,664 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:07:39,664 INFO sqlalchemy.engine.Engine [cached since 996.5s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 996.5s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:07:39,665 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:07:39,665 INFO sqlalchemy.engine.Engine [cached since 996.5s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 996.5s ago] {'param_1': 'admin-001'}
2025-07-06 11:07:39,667 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:07:39,667 INFO sqlalchemy.engine.Engine [cached since 996.5s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 996.5s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:07:39,667 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:07:39,668 INFO sqlalchemy.engine.Engine [cached since 996.5s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 996.5s ago] {'param_1': 'admin-001'}
2025-07-06 11:07:39,670 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65530 - "GET /api/auth/me HTTP/1.1" 200 OK
2025-07-06 11:07:39,673 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:07:39,673 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:07:39,673 INFO sqlalchemy.engine.Engine [cached since 996.7s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 996.7s ago] {}
2025-07-06 11:07:39,674 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:07:39,674 INFO sqlalchemy.engine.Engine [cached since 996.5s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 996.5s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:07:39,675 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:07:39,675 INFO sqlalchemy.engine.Engine [cached since 996.5s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 996.5s ago] {'param_1': 'admin-001'}
2025-07-06 11:07:39,676 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:07:39,676 INFO sqlalchemy.engine.Engine [cached since 996.5s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 996.5s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:07:39,677 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:07:39,677 INFO sqlalchemy.engine.Engine [cached since 996.5s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 996.5s ago] {'param_1': 'admin-001'}
2025-07-06 11:07:39,678 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65532 - "GET /api/auth/me HTTP/1.1" 200 OK
2025-07-06 11:07:39,710 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:07:39,710 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:07:39,710 INFO sqlalchemy.engine.Engine [cached since 996.8s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 996.8s ago] {}
2025-07-06 11:07:39,712 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:07:39,712 INFO sqlalchemy.engine.Engine [cached since 989.1s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 989.1s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:07:39,717 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:07:39,717 INFO sqlalchemy.engine.Engine [cached since 989.1s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 989.1s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:07:39,718 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:07:39,718 INFO sqlalchemy.engine.Engine [cached since 989.1s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 989.1s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:07:39,719 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65534 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 11:07:39,721 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:07:39,721 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:07:39,721 INFO sqlalchemy.engine.Engine [cached since 996.8s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 996.8s ago] {}
2025-07-06 11:07:39,722 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:07:39,722 INFO sqlalchemy.engine.Engine [cached since 989.1s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 989.1s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:07:39,723 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:07:39,723 INFO sqlalchemy.engine.Engine [cached since 989.1s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 989.1s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:07:39,724 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:07:39,724 INFO sqlalchemy.engine.Engine [cached since 989.1s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 989.1s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:07:39,725 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49153 - "GET /api/companies/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:49153 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:65534 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 11:07:39,734 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:07:39,735 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:07:39,735 INFO sqlalchemy.engine.Engine [cached since 996.8s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 996.8s ago] {}
2025-07-06 11:07:39,736 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:07:39,736 INFO sqlalchemy.engine.Engine [cached since 996.5s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 996.5s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:07:39,737 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65534 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 11:07:39,739 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:07:39,740 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:07:39,740 INFO sqlalchemy.engine.Engine [cached since 996.8s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 996.8s ago] {}
2025-07-06 11:07:39,741 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:07:39,742 INFO sqlalchemy.engine.Engine [cached since 996.5s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 996.5s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:07:39,743 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49153 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 11:07:50,297 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:07:50,297 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:07:50,297 INFO sqlalchemy.engine.Engine [cached since 1007s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1007s ago] {}
2025-07-06 11:07:50,299 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:07:50,299 INFO sqlalchemy.engine.Engine [cached since 1007s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1007s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:07:50,300 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:07:50,300 INFO sqlalchemy.engine.Engine [cached since 1007s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1007s ago] {'param_1': 'admin-001'}
2025-07-06 11:07:50,301 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:07:50,301 INFO sqlalchemy.engine.Engine [cached since 1007s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1007s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:07:50,302 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:07:50,302 INFO sqlalchemy.engine.Engine [cached since 1007s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1007s ago] {'param_1': 'admin-001'}
2025-07-06 11:07:50,303 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49174 - "GET /api/auth/me HTTP/1.1" 200 OK
2025-07-06 11:07:50,305 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:07:50,305 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:07:50,306 INFO sqlalchemy.engine.Engine [cached since 1007s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1007s ago] {}
2025-07-06 11:07:50,307 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:07:50,307 INFO sqlalchemy.engine.Engine [cached since 1007s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1007s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:07:50,308 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:07:50,308 INFO sqlalchemy.engine.Engine [cached since 1007s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1007s ago] {'param_1': 'admin-001'}
2025-07-06 11:07:50,309 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:07:50,309 INFO sqlalchemy.engine.Engine [cached since 1007s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1007s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:07:50,310 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:07:50,310 INFO sqlalchemy.engine.Engine [cached since 1007s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1007s ago] {'param_1': 'admin-001'}
2025-07-06 11:07:50,311 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49174 - "GET /api/auth/me HTTP/1.1" 200 OK
2025-07-06 11:07:50,348 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:07:50,348 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:07:50,348 INFO sqlalchemy.engine.Engine [cached since 1007s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1007s ago] {}
2025-07-06 11:07:50,350 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:07:50,350 INFO sqlalchemy.engine.Engine [cached since 999.8s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 999.8s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:07:50,353 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:07:50,354 INFO sqlalchemy.engine.Engine [cached since 999.8s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 999.8s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:07:50,357 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:07:50,357 INFO sqlalchemy.engine.Engine [cached since 999.8s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 999.8s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:07:50,358 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49178 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 11:07:50,362 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:07:50,362 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:07:50,362 INFO sqlalchemy.engine.Engine [cached since 1007s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1007s ago] {}
2025-07-06 11:07:50,363 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:07:50,363 INFO sqlalchemy.engine.Engine [cached since 999.8s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 999.8s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:07:50,365 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:07:50,365 INFO sqlalchemy.engine.Engine [cached since 999.8s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 999.8s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:07:50,366 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:07:50,366 INFO sqlalchemy.engine.Engine [cached since 999.8s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 999.8s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:07:50,368 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49178 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:49180 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 11:07:50,370 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
INFO:     127.0.0.1:49180 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 11:07:50,371 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:07:50,371 INFO sqlalchemy.engine.Engine [cached since 1007s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1007s ago] {}
2025-07-06 11:07:50,374 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:07:50,374 INFO sqlalchemy.engine.Engine [cached since 1007s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1007s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:07:50,375 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49178 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 11:07:50,377 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:07:50,377 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:07:50,377 INFO sqlalchemy.engine.Engine [cached since 1007s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1007s ago] {}
2025-07-06 11:07:50,378 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:07:50,378 INFO sqlalchemy.engine.Engine [cached since 1007s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1007s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:07:50,379 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49180 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
INFO:     127.0.0.1:49180 - "OPTIONS /api/children HTTP/1.1" 200 OK
INFO:     127.0.0.1:49178 - "OPTIONS /api/children HTTP/1.1" 200 OK
INFO:     127.0.0.1:49178 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:49180 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:49178 - "OPTIONS /api/children/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:49180 - "OPTIONS /api/children/ HTTP/1.1" 200 OK
2025-07-06 11:07:52,740 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:07:52,740 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:07:52,740 INFO sqlalchemy.engine.Engine [cached since 1010s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1010s ago] {}
2025-07-06 11:07:52,741 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:07:52,741 INFO sqlalchemy.engine.Engine [cached since 1010s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1010s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:07:52,742 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:07:52,742 INFO sqlalchemy.engine.Engine [cached since 1010s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1010s ago] {'param_1': 'admin-001'}
2025-07-06 11:07:52,744 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 11:07:52,744 INFO sqlalchemy.engine.Engine [cached since 1010s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1010s ago] {}
2025-07-06 11:07:52,745 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49178 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 11:07:52,747 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:07:52,747 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:07:52,747 INFO sqlalchemy.engine.Engine [cached since 1010s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1010s ago] {}
2025-07-06 11:07:52,748 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:07:52,748 INFO sqlalchemy.engine.Engine [cached since 1010s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1010s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:07:52,749 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:07:52,749 INFO sqlalchemy.engine.Engine [cached since 1010s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1010s ago] {'param_1': 'admin-001'}
2025-07-06 11:07:52,750 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 11:07:52,750 INFO sqlalchemy.engine.Engine [cached since 1010s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1010s ago] {}
2025-07-06 11:07:52,751 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49180 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 11:07:53,374 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:07:53,374 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:07:53,375 INFO sqlalchemy.engine.Engine [cached since 1010s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1010s ago] {}
2025-07-06 11:07:53,376 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:07:53,377 INFO sqlalchemy.engine.Engine [cached since 1003s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1003s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:07:53,378 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:07:53,378 INFO sqlalchemy.engine.Engine [cached since 1003s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1003s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:07:53,379 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:07:53,379 INFO sqlalchemy.engine.Engine [cached since 1003s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1003s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:07:53,380 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49180 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 11:07:53,383 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:07:53,383 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:07:53,384 INFO sqlalchemy.engine.Engine [cached since 1010s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1010s ago] {}
2025-07-06 11:07:53,385 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:07:53,385 INFO sqlalchemy.engine.Engine [cached since 1003s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1003s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:07:53,386 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:07:53,386 INFO sqlalchemy.engine.Engine [cached since 1003s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1003s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:07:53,387 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:07:53,387 INFO sqlalchemy.engine.Engine [cached since 1003s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1003s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:07:53,388 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49180 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:49178 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 11:07:53,392 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:07:53,393 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
INFO:     127.0.0.1:49180 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 11:07:53,393 INFO sqlalchemy.engine.Engine [cached since 1010s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1010s ago] {}
2025-07-06 11:07:53,395 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:07:53,395 INFO sqlalchemy.engine.Engine [cached since 1010s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1010s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:07:53,397 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49178 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 11:07:53,399 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:07:53,399 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:07:53,399 INFO sqlalchemy.engine.Engine [cached since 1010s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1010s ago] {}
2025-07-06 11:07:53,400 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:07:53,400 INFO sqlalchemy.engine.Engine [cached since 1010s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1010s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:07:53,401 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49180 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
INFO:     127.0.0.1:49187 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:49187 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
2025-07-06 11:08:04,412 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:08:04,413 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:08:04,413 INFO sqlalchemy.engine.Engine [cached since 1021s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1021s ago] {}
2025-07-06 11:08:04,415 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:08:04,415 INFO sqlalchemy.engine.Engine [cached since 1021s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1021s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:08:04,416 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:08:04,416 INFO sqlalchemy.engine.Engine [cached since 1021s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1021s ago] {'param_1': 'admin-001'}
2025-07-06 11:08:04,419 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 11:08:04,419 INFO sqlalchemy.engine.Engine [cached since 1021s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1021s ago] {}
2025-07-06 11:08:04,420 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49187 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 11:08:04,423 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:08:04,423 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:08:04,423 INFO sqlalchemy.engine.Engine [cached since 1021s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1021s ago] {}
2025-07-06 11:08:04,424 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:08:04,425 INFO sqlalchemy.engine.Engine [cached since 1021s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1021s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:08:04,426 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:08:04,426 INFO sqlalchemy.engine.Engine [cached since 1021s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1021s ago] {'param_1': 'admin-001'}
2025-07-06 11:08:04,427 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 11:08:04,427 INFO sqlalchemy.engine.Engine [cached since 1021s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1021s ago] {}
2025-07-06 11:08:04,429 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49189 - "GET /api/children/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:49251 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
2025-07-06 11:08:33,983 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:08:33,983 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:08:33,984 INFO sqlalchemy.engine.Engine [cached since 1051s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1051s ago] {}
2025-07-06 11:08:33,985 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:08:33,986 INFO sqlalchemy.engine.Engine [cached since 1051s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1051s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:08:33,987 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:08:33,987 INFO sqlalchemy.engine.Engine [cached since 1051s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1051s ago] {'param_1': 'admin-001'}
2025-07-06 11:08:33,988 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 11:08:33,988 INFO sqlalchemy.engine.Engine [cached since 1051s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1051s ago] {}
2025-07-06 11:08:33,991 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49251 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 11:09:16,049 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:09:16,051 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:09:16,054 INFO sqlalchemy.engine.Engine [cached since 1093s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1093s ago] {}
2025-07-06 11:09:16,067 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:09:16,068 INFO sqlalchemy.engine.Engine [cached since 1093s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1093s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:09:16,069 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:09:16,069 INFO sqlalchemy.engine.Engine [cached since 1093s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1093s ago] {'param_1': 'admin-001'}
2025-07-06 11:09:16,071 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:09:16,071 INFO sqlalchemy.engine.Engine [cached since 1093s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1093s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:09:16,072 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:09:16,072 INFO sqlalchemy.engine.Engine [cached since 1093s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1093s ago] {'param_1': 'admin-001'}
2025-07-06 11:09:16,076 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49386 - "GET /api/auth/me HTTP/1.1" 200 OK
2025-07-06 11:09:16,082 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:09:16,082 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:09:16,082 INFO sqlalchemy.engine.Engine [cached since 1093s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1093s ago] {}
2025-07-06 11:09:16,084 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:09:16,084 INFO sqlalchemy.engine.Engine [cached since 1093s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1093s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:09:16,086 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:09:16,086 INFO sqlalchemy.engine.Engine [cached since 1093s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1093s ago] {'param_1': 'admin-001'}
2025-07-06 11:09:16,088 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:09:16,088 INFO sqlalchemy.engine.Engine [cached since 1093s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1093s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:09:16,088 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:09:16,088 INFO sqlalchemy.engine.Engine [cached since 1093s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1093s ago] {'param_1': 'admin-001'}
2025-07-06 11:09:16,091 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49386 - "GET /api/auth/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:49390 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:49390 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
2025-07-06 11:09:16,146 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:09:16,146 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:09:16,146 INFO sqlalchemy.engine.Engine [cached since 1093s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1093s ago] {}
2025-07-06 11:09:16,147 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:09:16,147 INFO sqlalchemy.engine.Engine [cached since 1093s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1093s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:09:16,150 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:09:16,150 INFO sqlalchemy.engine.Engine [cached since 1093s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1093s ago] {'param_1': 'admin-001'}
2025-07-06 11:09:16,151 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 11:09:16,151 INFO sqlalchemy.engine.Engine [cached since 1093s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1093s ago] {}
2025-07-06 11:09:16,152 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49390 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 11:09:16,154 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:09:16,154 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:09:16,154 INFO sqlalchemy.engine.Engine [cached since 1093s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1093s ago] {}
2025-07-06 11:09:16,155 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:09:16,155 INFO sqlalchemy.engine.Engine [cached since 1093s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1093s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:09:16,156 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:09:16,156 INFO sqlalchemy.engine.Engine [cached since 1093s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1093s ago] {'param_1': 'admin-001'}
2025-07-06 11:09:16,157 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 11:09:16,157 INFO sqlalchemy.engine.Engine [cached since 1093s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1093s ago] {}
2025-07-06 11:09:16,157 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49392 - "GET /api/children/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:49481 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
2025-07-06 11:09:34,619 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:09:34,619 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:09:34,619 INFO sqlalchemy.engine.Engine [cached since 1112s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1112s ago] {}
2025-07-06 11:09:34,620 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:09:34,620 INFO sqlalchemy.engine.Engine [cached since 1111s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1111s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:09:34,621 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:09:34,621 INFO sqlalchemy.engine.Engine [cached since 1111s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1111s ago] {'param_1': 'admin-001'}
2025-07-06 11:09:34,622 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 11:09:34,622 INFO sqlalchemy.engine.Engine [cached since 1111s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1111s ago] {}
2025-07-06 11:09:34,623 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49481 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 11:09:41,398 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:09:41,399 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:09:41,400 INFO sqlalchemy.engine.Engine [cached since 1118s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1118s ago] {}
2025-07-06 11:09:41,402 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:09:41,402 INFO sqlalchemy.engine.Engine [cached since 1118s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1118s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:09:41,404 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:09:41,404 INFO sqlalchemy.engine.Engine [cached since 1118s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1118s ago] {'param_1': 'admin-001'}
2025-07-06 11:09:41,405 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:09:41,405 INFO sqlalchemy.engine.Engine [cached since 1118s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1118s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:09:41,405 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:09:41,405 INFO sqlalchemy.engine.Engine [cached since 1118s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1118s ago] {'param_1': 'admin-001'}
2025-07-06 11:09:41,406 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49512 - "GET /api/auth/me HTTP/1.1" 200 OK
2025-07-06 11:09:41,410 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:09:41,410 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:09:41,410 INFO sqlalchemy.engine.Engine [cached since 1118s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1118s ago] {}
2025-07-06 11:09:41,411 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:09:41,411 INFO sqlalchemy.engine.Engine [cached since 1118s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1118s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:09:41,412 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:09:41,412 INFO sqlalchemy.engine.Engine [cached since 1118s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1118s ago] {'param_1': 'admin-001'}
2025-07-06 11:09:41,413 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:09:41,413 INFO sqlalchemy.engine.Engine [cached since 1118s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1118s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:09:41,414 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:09:41,414 INFO sqlalchemy.engine.Engine [cached since 1118s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1118s ago] {'param_1': 'admin-001'}
2025-07-06 11:09:41,415 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49512 - "GET /api/auth/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:49516 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:49518 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
2025-07-06 11:09:41,494 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:09:41,495 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:09:41,495 INFO sqlalchemy.engine.Engine [cached since 1119s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1119s ago] {}
2025-07-06 11:09:41,496 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:09:41,506 INFO sqlalchemy.engine.Engine [cached since 1118s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1118s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:09:41,507 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:09:41,507 INFO sqlalchemy.engine.Engine [cached since 1118s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1118s ago] {'param_1': 'admin-001'}
2025-07-06 11:09:41,509 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 11:09:41,509 INFO sqlalchemy.engine.Engine [cached since 1118s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1118s ago] {}
2025-07-06 11:09:41,511 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49516 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 11:09:41,513 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:09:41,513 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:09:41,513 INFO sqlalchemy.engine.Engine [cached since 1119s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1119s ago] {}
2025-07-06 11:09:41,514 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:09:41,514 INFO sqlalchemy.engine.Engine [cached since 1118s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1118s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:09:41,515 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:09:41,515 INFO sqlalchemy.engine.Engine [cached since 1118s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1118s ago] {'param_1': 'admin-001'}
2025-07-06 11:09:41,515 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 11:09:41,515 INFO sqlalchemy.engine.Engine [cached since 1118s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1118s ago] {}
2025-07-06 11:09:41,516 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49518 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 11:10:46,612 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:10:46,615 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:10:46,616 INFO sqlalchemy.engine.Engine [cached since 1184s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1184s ago] {}
2025-07-06 11:10:46,620 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:10:46,620 INFO sqlalchemy.engine.Engine [cached since 1176s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1176s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:10:46,623 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:10:46,623 INFO sqlalchemy.engine.Engine [cached since 1176s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1176s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:10:46,624 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:10:46,624 INFO sqlalchemy.engine.Engine [cached since 1176s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1176s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:10:46,625 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49598 - "GET /api/companies/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:49598 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 11:10:46,634 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:10:46,635 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:10:46,635 INFO sqlalchemy.engine.Engine [cached since 1184s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1184s ago] {}
2025-07-06 11:10:46,636 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:10:46,637 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:10:46,637 INFO sqlalchemy.engine.Engine [cached since 1184s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1184s ago] {}
2025-07-06 11:10:46,637 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:10:46,637 INFO sqlalchemy.engine.Engine [cached since 1176s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1176s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:10:46,638 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:10:46,638 INFO sqlalchemy.engine.Engine [cached since 1176s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1176s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:10:46,639 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:10:46,639 INFO sqlalchemy.engine.Engine [cached since 1176s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1176s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:10:46,639 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-07-06 11:10:46,639 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:10:46,639 INFO sqlalchemy.engine.Engine [cached since 1183s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1183s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:10:46,640 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49600 - "GET /api/companies/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:49598 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
INFO:     127.0.0.1:49598 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 11:10:46,662 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:10:46,662 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:10:46,662 INFO sqlalchemy.engine.Engine [cached since 1184s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1184s ago] {}
2025-07-06 11:10:46,664 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:10:46,664 INFO sqlalchemy.engine.Engine [cached since 1183s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1183s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:10:46,666 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49598 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
INFO:     127.0.0.1:49606 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:49606 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
2025-07-06 11:10:48,479 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:10:48,479 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:10:48,479 INFO sqlalchemy.engine.Engine [cached since 1186s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1186s ago] {}
2025-07-06 11:10:48,480 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:10:48,480 INFO sqlalchemy.engine.Engine [cached since 1185s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1185s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:10:48,482 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:10:48,482 INFO sqlalchemy.engine.Engine [cached since 1185s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1185s ago] {'param_1': 'admin-001'}
2025-07-06 11:10:48,485 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 11:10:48,485 INFO sqlalchemy.engine.Engine [cached since 1185s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1185s ago] {}
2025-07-06 11:10:48,487 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49606 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 11:10:48,488 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:10:48,488 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:10:48,488 INFO sqlalchemy.engine.Engine [cached since 1186s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1186s ago] {}
2025-07-06 11:10:48,489 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:10:48,489 INFO sqlalchemy.engine.Engine [cached since 1185s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1185s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:10:48,490 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:10:48,490 INFO sqlalchemy.engine.Engine [cached since 1185s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1185s ago] {'param_1': 'admin-001'}
2025-07-06 11:10:48,491 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 11:10:48,491 INFO sqlalchemy.engine.Engine [cached since 1185s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1185s ago] {}
2025-07-06 11:10:48,492 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49608 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 11:10:49,054 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:10:49,054 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:10:49,054 INFO sqlalchemy.engine.Engine [cached since 1186s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1186s ago] {}
2025-07-06 11:10:49,055 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:10:49,055 INFO sqlalchemy.engine.Engine [cached since 1178s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1178s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:10:49,055 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:10:49,055 INFO sqlalchemy.engine.Engine [cached since 1178s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1178s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:10:49,056 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:10:49,056 INFO sqlalchemy.engine.Engine [cached since 1178s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1178s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:10:49,056 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49608 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 11:10:49,058 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:10:49,058 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:10:49,058 INFO sqlalchemy.engine.Engine [cached since 1186s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1186s ago] {}
2025-07-06 11:10:49,058 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:10:49,058 INFO sqlalchemy.engine.Engine [cached since 1178s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1178s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:10:49,060 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:10:49,060 INFO sqlalchemy.engine.Engine [cached since 1178s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1178s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:10:49,060 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:10:49,060 INFO sqlalchemy.engine.Engine [cached since 1178s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1178s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:10:49,061 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49608 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:49606 - "GET /api/companies/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:49608 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 11:10:49,063 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:10:49,063 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:10:49,063 INFO sqlalchemy.engine.Engine [cached since 1186s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1186s ago] {}
2025-07-06 11:10:49,064 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:10:49,064 INFO sqlalchemy.engine.Engine [cached since 1186s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1186s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:10:49,065 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49606 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 11:10:49,066 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:10:49,066 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:10:49,066 INFO sqlalchemy.engine.Engine [cached since 1186s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1186s ago] {}
2025-07-06 11:10:49,066 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:10:49,066 INFO sqlalchemy.engine.Engine [cached since 1186s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1186s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:10:49,067 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49608 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
INFO:     127.0.0.1:49608 - "OPTIONS /api/admin/dashboard/metrics HTTP/1.1" 200 OK
2025-07-06 11:10:50,891 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:10:50,891 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:10:50,892 INFO sqlalchemy.engine.Engine [cached since 1188s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1188s ago] {}
2025-07-06 11:10:50,894 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users) AS anon_1
2025-07-06 11:10:50,895 INFO sqlalchemy.engine.Engine [cached since 1188s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1188s ago] {}
2025-07-06 11:10:50,896 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.is_active = true) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.is_active = true) AS anon_1
2025-07-06 11:10:50,896 INFO sqlalchemy.engine.Engine [cached since 1188s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1188s ago] {}
2025-07-06 11:10:50,898 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:10:50,899 INFO sqlalchemy.engine.Engine [cached since 1188s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1188s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:10:50,901 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies) AS anon_1
2025-07-06 11:10:50,901 INFO sqlalchemy.engine.Engine [cached since 1188s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1188s ago] {}
2025-07-06 11:10:50,903 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.is_active = true) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.is_active = true) AS anon_1
2025-07-06 11:10:50,903 INFO sqlalchemy.engine.Engine [cached since 1188s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1188s ago] {}
2025-07-06 11:10:50,904 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 11:10:50,904 INFO sqlalchemy.engine.Engine [cached since 1188s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1188s ago] {}
2025-07-06 11:10:50,906 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49614 - "GET /api/admin/dashboard/metrics HTTP/1.1" 200 OK
2025-07-06 11:11:03,682 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:11:03,682 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:11:03,683 INFO sqlalchemy.engine.Engine [cached since 1201s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1201s ago] {}
2025-07-06 11:11:03,683 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users) AS anon_1
2025-07-06 11:11:03,683 INFO sqlalchemy.engine.Engine [cached since 1200s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1200s ago] {}
2025-07-06 11:11:03,684 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.is_active = true) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.is_active = true) AS anon_1
2025-07-06 11:11:03,684 INFO sqlalchemy.engine.Engine [cached since 1200s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1200s ago] {}
2025-07-06 11:11:03,684 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:11:03,685 INFO sqlalchemy.engine.Engine [cached since 1200s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1200s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:11:03,685 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies) AS anon_1
2025-07-06 11:11:03,685 INFO sqlalchemy.engine.Engine [cached since 1200s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1200s ago] {}
2025-07-06 11:11:03,686 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.is_active = true) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.is_active = true) AS anon_1
2025-07-06 11:11:03,686 INFO sqlalchemy.engine.Engine [cached since 1200s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1200s ago] {}
2025-07-06 11:11:03,686 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 11:11:03,686 INFO sqlalchemy.engine.Engine [cached since 1200s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1200s ago] {}
2025-07-06 11:11:03,687 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49638 - "GET /api/admin/dashboard/metrics HTTP/1.1" 200 OK
2025-07-06 11:11:03,719 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:11:03,719 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:11:03,719 INFO sqlalchemy.engine.Engine [cached since 1201s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1201s ago] {}
2025-07-06 11:11:03,720 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:11:03,720 INFO sqlalchemy.engine.Engine [cached since 1193s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1193s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:11:03,720 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:11:03,720 INFO sqlalchemy.engine.Engine [cached since 1193s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1193s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:11:03,721 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:11:03,721 INFO sqlalchemy.engine.Engine [cached since 1193s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1193s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:11:03,721 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49640 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 11:11:03,723 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:11:03,724 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:11:03,724 INFO sqlalchemy.engine.Engine [cached since 1201s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1201s ago] {}
INFO:     127.0.0.1:49642 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 11:11:03,725 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:11:03,725 INFO sqlalchemy.engine.Engine [cached since 1193s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1193s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:11:03,725 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:11:03,725 INFO sqlalchemy.engine.Engine [cached since 1193s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1193s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:11:03,725 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:11:03,725 INFO sqlalchemy.engine.Engine [cached since 1193s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1193s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:11:03,726 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49640 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 11:11:03,726 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:11:03,726 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:11:03,726 INFO sqlalchemy.engine.Engine [cached since 1201s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1201s ago] {}
2025-07-06 11:11:03,728 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:11:03,728 INFO sqlalchemy.engine.Engine [cached since 1200s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1200s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:11:03,728 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49640 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:49642 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 11:11:03,730 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:11:03,730 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:11:03,730 INFO sqlalchemy.engine.Engine [cached since 1201s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1201s ago] {}
2025-07-06 11:11:03,732 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:11:03,732 INFO sqlalchemy.engine.Engine [cached since 1200s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1200s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:11:03,733 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49642 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
INFO:     127.0.0.1:49642 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:49640 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
2025-07-06 11:11:04,942 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:11:04,943 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:11:04,943 INFO sqlalchemy.engine.Engine [cached since 1202s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1202s ago] {}
2025-07-06 11:11:04,943 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:11:04,943 INFO sqlalchemy.engine.Engine [cached since 1202s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1202s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:11:04,944 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:11:04,944 INFO sqlalchemy.engine.Engine [cached since 1202s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1202s ago] {'param_1': 'admin-001'}
2025-07-06 11:11:04,945 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 11:11:04,945 INFO sqlalchemy.engine.Engine [cached since 1202s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1202s ago] {}
2025-07-06 11:11:04,946 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49640 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 11:11:04,947 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:11:04,947 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:11:04,947 INFO sqlalchemy.engine.Engine [cached since 1202s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1202s ago] {}
2025-07-06 11:11:04,948 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:11:04,948 INFO sqlalchemy.engine.Engine [cached since 1202s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1202s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:11:04,949 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:11:04,949 INFO sqlalchemy.engine.Engine [cached since 1202s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1202s ago] {'param_1': 'admin-001'}
2025-07-06 11:11:04,949 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 11:11:04,949 INFO sqlalchemy.engine.Engine [cached since 1202s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1202s ago] {}
2025-07-06 11:11:04,950 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49642 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 11:11:05,572 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:11:05,572 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:11:05,572 INFO sqlalchemy.engine.Engine [cached since 1203s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1203s ago] {}
2025-07-06 11:11:05,573 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:11:05,573 INFO sqlalchemy.engine.Engine [cached since 1195s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1195s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:11:05,573 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:11:05,573 INFO sqlalchemy.engine.Engine [cached since 1195s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1195s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:11:05,574 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:11:05,574 INFO sqlalchemy.engine.Engine [cached since 1195s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1195s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:11:05,574 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49642 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 11:11:05,578 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:11:05,578 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:11:05,578 INFO sqlalchemy.engine.Engine [cached since 1203s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1203s ago] {}
2025-07-06 11:11:05,578 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:11:05,578 INFO sqlalchemy.engine.Engine [cached since 1195s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1195s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:11:05,579 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:11:05,579 INFO sqlalchemy.engine.Engine [cached since 1195s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1195s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:11:05,579 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:11:05,579 INFO sqlalchemy.engine.Engine [cached since 1195s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1195s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:11:05,580 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49640 - "GET /api/companies/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:49640 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:49642 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 11:11:05,587 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:11:05,587 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:11:05,587 INFO sqlalchemy.engine.Engine [cached since 1203s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1203s ago] {}
2025-07-06 11:11:05,588 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:11:05,588 INFO sqlalchemy.engine.Engine [cached since 1202s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1202s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:11:05,589 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49640 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 11:11:05,590 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:11:05,590 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:11:05,590 INFO sqlalchemy.engine.Engine [cached since 1203s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1203s ago] {}
2025-07-06 11:11:05,591 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:11:05,591 INFO sqlalchemy.engine.Engine [cached since 1202s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1202s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:11:05,592 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49642 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
INFO:     127.0.0.1:49649 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:49649 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
2025-07-06 11:11:08,492 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:11:08,492 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:11:08,492 INFO sqlalchemy.engine.Engine [cached since 1206s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1206s ago] {}
2025-07-06 11:11:08,493 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:11:08,493 INFO sqlalchemy.engine.Engine [cached since 1205s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1205s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:11:08,494 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:11:08,494 INFO sqlalchemy.engine.Engine [cached since 1205s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1205s ago] {'param_1': 'admin-001'}
2025-07-06 11:11:08,495 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 11:11:08,495 INFO sqlalchemy.engine.Engine [cached since 1205s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1205s ago] {}
2025-07-06 11:11:08,495 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49649 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 11:11:08,497 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:11:08,497 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:11:08,497 INFO sqlalchemy.engine.Engine [cached since 1206s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1206s ago] {}
2025-07-06 11:11:08,498 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:11:08,498 INFO sqlalchemy.engine.Engine [cached since 1205s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1205s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:11:08,499 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:11:08,499 INFO sqlalchemy.engine.Engine [cached since 1205s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1205s ago] {'param_1': 'admin-001'}
2025-07-06 11:11:08,500 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 11:11:08,500 INFO sqlalchemy.engine.Engine [cached since 1205s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1205s ago] {}
2025-07-06 11:11:08,501 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49651 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 11:11:52,380 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:11:52,382 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:11:52,383 INFO sqlalchemy.engine.Engine [cached since 1249s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1249s ago] {}
2025-07-06 11:11:52,387 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:11:52,387 INFO sqlalchemy.engine.Engine [cached since 1242s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1242s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:11:52,390 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:11:52,390 INFO sqlalchemy.engine.Engine [cached since 1242s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1242s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:11:52,391 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:11:52,391 INFO sqlalchemy.engine.Engine [cached since 1242s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1242s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:11:52,392 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49726 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 11:11:52,396 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:11:52,396 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:11:52,396 INFO sqlalchemy.engine.Engine [cached since 1249s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1249s ago] {}
INFO:     127.0.0.1:49728 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 11:11:52,397 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:11:52,397 INFO sqlalchemy.engine.Engine [cached since 1242s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1242s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:11:52,400 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:11:52,400 INFO sqlalchemy.engine.Engine [cached since 1242s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1242s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:11:52,401 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:11:52,402 INFO sqlalchemy.engine.Engine [cached since 1242s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1242s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:11:52,403 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49726 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 11:11:52,403 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:11:52,404 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:11:52,404 INFO sqlalchemy.engine.Engine [cached since 1249s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1249s ago] {}
2025-07-06 11:11:52,405 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:11:52,405 INFO sqlalchemy.engine.Engine [cached since 1249s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1249s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:11:52,407 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49726 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:49728 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 11:11:52,409 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:11:52,409 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:11:52,409 INFO sqlalchemy.engine.Engine [cached since 1249s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1249s ago] {}
2025-07-06 11:11:52,410 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:11:52,410 INFO sqlalchemy.engine.Engine [cached since 1249s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1249s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:11:52,411 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49726 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 11:12:53,186 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:12:53,187 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:12:53,187 INFO sqlalchemy.engine.Engine [cached since 1310s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1310s ago] {}
2025-07-06 11:12:53,188 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users) AS anon_1
2025-07-06 11:12:53,188 INFO sqlalchemy.engine.Engine [cached since 1310s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1310s ago] {}
2025-07-06 11:12:53,191 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.is_active = true) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.is_active = true) AS anon_1
2025-07-06 11:12:53,191 INFO sqlalchemy.engine.Engine [cached since 1310s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1310s ago] {}
2025-07-06 11:12:53,192 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:12:53,192 INFO sqlalchemy.engine.Engine [cached since 1310s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1310s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:12:53,193 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies) AS anon_1
2025-07-06 11:12:53,193 INFO sqlalchemy.engine.Engine [cached since 1310s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1310s ago] {}
2025-07-06 11:12:53,194 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.is_active = true) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.is_active = true) AS anon_1
2025-07-06 11:12:53,194 INFO sqlalchemy.engine.Engine [cached since 1310s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1310s ago] {}
2025-07-06 11:12:53,194 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 11:12:53,194 INFO sqlalchemy.engine.Engine [cached since 1310s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1310s ago] {}
2025-07-06 11:12:53,196 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49752 - "GET /api/admin/dashboard/metrics HTTP/1.1" 200 OK
2025-07-06 11:12:54,003 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:12:54,003 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:12:54,003 INFO sqlalchemy.engine.Engine [cached since 1311s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1311s ago] {}
2025-07-06 11:12:54,004 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:12:54,004 INFO sqlalchemy.engine.Engine [cached since 1303s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1303s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:12:54,005 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:12:54,005 INFO sqlalchemy.engine.Engine [cached since 1303s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1303s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:12:54,005 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:12:54,005 INFO sqlalchemy.engine.Engine [cached since 1303s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1303s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:12:54,006 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49754 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 11:12:54,008 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:12:54,008 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:12:54,008 INFO sqlalchemy.engine.Engine [cached since 1311s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1311s ago] {}
2025-07-06 11:12:54,009 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:12:54,009 INFO sqlalchemy.engine.Engine [cached since 1303s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1303s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:12:54,010 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:12:54,010 INFO sqlalchemy.engine.Engine [cached since 1303s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1303s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:12:54,011 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:12:54,011 INFO sqlalchemy.engine.Engine [cached since 1303s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1303s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:12:54,012 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49756 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:49754 - "GET /api/companies/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:49756 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 11:12:54,016 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:12:54,016 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:12:54,016 INFO sqlalchemy.engine.Engine [cached since 1311s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1311s ago] {}
2025-07-06 11:12:54,018 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:12:54,018 INFO sqlalchemy.engine.Engine [cached since 1311s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1311s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:12:54,019 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49754 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 11:12:54,020 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:12:54,021 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:12:54,021 INFO sqlalchemy.engine.Engine [cached since 1311s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1311s ago] {}
2025-07-06 11:12:54,021 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:12:54,021 INFO sqlalchemy.engine.Engine [cached since 1311s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1311s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:12:54,023 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49756 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
INFO:     127.0.0.1:49777 - "OPTIONS /api/auth/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:49779 - "OPTIONS /api/auth/me HTTP/1.1" 200 OK
2025-07-06 11:13:01,562 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:13:01,562 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:13:01,562 INFO sqlalchemy.engine.Engine [cached since 1319s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1319s ago] {}
2025-07-06 11:13:01,574 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:13:01,574 INFO sqlalchemy.engine.Engine [cached since 1318s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1318s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:13:01,576 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:13:01,576 INFO sqlalchemy.engine.Engine [cached since 1318s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1318s ago] {'param_1': 'admin-001'}
2025-07-06 11:13:01,577 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:13:01,577 INFO sqlalchemy.engine.Engine [cached since 1318s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1318s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:13:01,578 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:13:01,578 INFO sqlalchemy.engine.Engine [cached since 1318s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1318s ago] {'param_1': 'admin-001'}
2025-07-06 11:13:01,579 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49781 - "GET /api/auth/me HTTP/1.1" 200 OK
2025-07-06 11:13:01,582 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:13:01,582 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:13:01,582 INFO sqlalchemy.engine.Engine [cached since 1319s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1319s ago] {}
2025-07-06 11:13:01,583 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:13:01,583 INFO sqlalchemy.engine.Engine [cached since 1318s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1318s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:13:01,584 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:13:01,584 INFO sqlalchemy.engine.Engine [cached since 1318s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1318s ago] {'param_1': 'admin-001'}
2025-07-06 11:13:01,585 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:13:01,585 INFO sqlalchemy.engine.Engine [cached since 1318s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1318s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:13:01,585 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:13:01,585 INFO sqlalchemy.engine.Engine [cached since 1318s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1318s ago] {'param_1': 'admin-001'}
2025-07-06 11:13:01,586 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49783 - "GET /api/auth/me HTTP/1.1" 200 OK
2025-07-06 11:13:01,641 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:13:01,641 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:13:01,641 INFO sqlalchemy.engine.Engine [cached since 1319s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1319s ago] {}
2025-07-06 11:13:01,650 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:13:01,651 INFO sqlalchemy.engine.Engine [cached since 1311s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1311s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:13:01,652 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:13:01,652 INFO sqlalchemy.engine.Engine [cached since 1311s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1311s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:13:01,653 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:13:01,653 INFO sqlalchemy.engine.Engine [cached since 1311s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1311s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:13:01,654 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49785 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 11:13:01,656 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:13:01,657 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:13:01,657 INFO sqlalchemy.engine.Engine [cached since 1319s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1319s ago] {}
2025-07-06 11:13:01,658 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:13:01,658 INFO sqlalchemy.engine.Engine [cached since 1311s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1311s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:13:01,659 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:13:01,659 INFO sqlalchemy.engine.Engine [cached since 1311s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1311s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:13:01,660 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:13:01,660 INFO sqlalchemy.engine.Engine [cached since 1311s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1311s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:13:01,661 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49787 - "GET /api/companies/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:49787 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:49785 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 11:13:01,679 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:13:01,679 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:13:01,679 INFO sqlalchemy.engine.Engine [cached since 1319s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1319s ago] {}
2025-07-06 11:13:01,680 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:13:01,681 INFO sqlalchemy.engine.Engine [cached since 1318s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1318s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:13:01,681 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49785 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 11:13:01,684 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:13:01,684 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:13:01,684 INFO sqlalchemy.engine.Engine [cached since 1319s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1319s ago] {}
2025-07-06 11:13:01,685 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:13:01,685 INFO sqlalchemy.engine.Engine [cached since 1318s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1318s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:13:01,686 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49787 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 11:13:49,384 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:13:49,386 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:13:49,386 INFO sqlalchemy.engine.Engine [cached since 1366s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1366s ago] {}
2025-07-06 11:13:49,391 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:13:49,391 INFO sqlalchemy.engine.Engine [cached since 1359s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1359s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:13:49,393 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:13:49,393 INFO sqlalchemy.engine.Engine [cached since 1359s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1359s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:13:49,394 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:13:49,394 INFO sqlalchemy.engine.Engine [cached since 1359s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1359s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:13:49,394 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49864 - "GET /api/companies/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:49864 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 11:13:49,408 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:13:49,408 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:13:49,408 INFO sqlalchemy.engine.Engine [cached since 1366s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1366s ago] {}
2025-07-06 11:13:49,409 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:13:49,409 INFO sqlalchemy.engine.Engine [cached since 1366s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1366s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:13:49,411 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49864 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 11:14:13,281 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:14:13,283 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:14:13,283 INFO sqlalchemy.engine.Engine [cached since 1390s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1390s ago] {}
2025-07-06 11:14:13,291 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:14:13,291 INFO sqlalchemy.engine.Engine [cached since 1390s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1390s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:14:13,292 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:14:13,292 INFO sqlalchemy.engine.Engine [cached since 1390s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1390s ago] {'param_1': 'admin-001'}
2025-07-06 11:14:13,295 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:14:13,296 INFO sqlalchemy.engine.Engine [cached since 1390s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1390s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:14:13,297 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:14:13,297 INFO sqlalchemy.engine.Engine [cached since 1390s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1390s ago] {'param_1': 'admin-001'}
2025-07-06 11:14:13,298 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49897 - "GET /api/auth/me HTTP/1.1" 200 OK
2025-07-06 11:14:13,305 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:14:13,306 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:14:13,306 INFO sqlalchemy.engine.Engine [cached since 1390s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1390s ago] {}
2025-07-06 11:14:13,311 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:14:13,323 INFO sqlalchemy.engine.Engine [cached since 1390s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1390s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:14:13,325 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:14:13,325 INFO sqlalchemy.engine.Engine [cached since 1390s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1390s ago] {'param_1': 'admin-001'}
2025-07-06 11:14:13,327 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:14:13,327 INFO sqlalchemy.engine.Engine [cached since 1390s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1390s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:14:13,329 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:14:13,329 INFO sqlalchemy.engine.Engine [cached since 1390s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1390s ago] {'param_1': 'admin-001'}
2025-07-06 11:14:13,331 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49897 - "GET /api/auth/me HTTP/1.1" 200 OK
2025-07-06 11:14:13,335 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:14:13,335 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:14:13,336 INFO sqlalchemy.engine.Engine [cached since 1390s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1390s ago] {}
2025-07-06 11:14:13,338 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:14:13,339 INFO sqlalchemy.engine.Engine [cached since 1383s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1383s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:14:13,339 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:14:13,339 INFO sqlalchemy.engine.Engine [cached since 1383s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1383s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:14:13,340 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:14:13,340 INFO sqlalchemy.engine.Engine [cached since 1383s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1383s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:14:13,341 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49901 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 11:14:13,343 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:14:13,343 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:14:13,343 INFO sqlalchemy.engine.Engine [cached since 1390s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1390s ago] {}
2025-07-06 11:14:13,344 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:14:13,344 INFO sqlalchemy.engine.Engine [cached since 1383s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1383s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:14:13,345 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:14:13,345 INFO sqlalchemy.engine.Engine [cached since 1383s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1383s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:14:13,345 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:14:13,345 INFO sqlalchemy.engine.Engine [cached since 1383s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1383s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:14:13,346 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49903 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:49901 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 11:14:13,348 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:14:13,348 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
INFO:     127.0.0.1:49901 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 11:14:13,348 INFO sqlalchemy.engine.Engine [cached since 1390s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1390s ago] {}
2025-07-06 11:14:13,348 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:14:13,348 INFO sqlalchemy.engine.Engine [cached since 1390s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1390s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:14:13,349 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49903 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 11:14:13,350 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:14:13,350 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:14:13,350 INFO sqlalchemy.engine.Engine [cached since 1390s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1390s ago] {}
2025-07-06 11:14:13,351 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:14:13,351 INFO sqlalchemy.engine.Engine [cached since 1390s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1390s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:14:13,351 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49901 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
INFO:     127.0.0.1:49901 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:49903 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
2025-07-06 11:14:16,311 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:14:16,311 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:14:16,311 INFO sqlalchemy.engine.Engine [cached since 1393s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1393s ago] {}
2025-07-06 11:14:16,312 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:14:16,312 INFO sqlalchemy.engine.Engine [cached since 1393s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1393s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:14:16,314 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:14:16,314 INFO sqlalchemy.engine.Engine [cached since 1393s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1393s ago] {'param_1': 'admin-001'}
2025-07-06 11:14:16,315 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 11:14:16,315 INFO sqlalchemy.engine.Engine [cached since 1393s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1393s ago] {}
2025-07-06 11:14:16,317 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49903 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 11:14:16,320 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:14:16,320 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:14:16,320 INFO sqlalchemy.engine.Engine [cached since 1393s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1393s ago] {}
2025-07-06 11:14:16,321 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:14:16,321 INFO sqlalchemy.engine.Engine [cached since 1393s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1393s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:14:16,322 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:14:16,322 INFO sqlalchemy.engine.Engine [cached since 1393s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1393s ago] {'param_1': 'admin-001'}
2025-07-06 11:14:16,323 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 11:14:16,323 INFO sqlalchemy.engine.Engine [cached since 1393s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1393s ago] {}
2025-07-06 11:14:16,324 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49901 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 11:14:16,880 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:14:16,880 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:14:16,880 INFO sqlalchemy.engine.Engine [cached since 1394s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1394s ago] {}
2025-07-06 11:14:16,882 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:14:16,882 INFO sqlalchemy.engine.Engine [cached since 1386s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1386s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:14:16,884 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:14:16,884 INFO sqlalchemy.engine.Engine [cached since 1386s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1386s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:14:16,885 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:14:16,885 INFO sqlalchemy.engine.Engine [cached since 1386s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1386s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:14:16,886 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49901 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 11:14:16,890 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:14:16,890 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:14:16,890 INFO sqlalchemy.engine.Engine [cached since 1394s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1394s ago] {}
INFO:     127.0.0.1:49901 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 11:14:16,892 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:14:16,892 INFO sqlalchemy.engine.Engine [cached since 1386s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1386s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:14:16,894 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:14:16,894 INFO sqlalchemy.engine.Engine [cached since 1386s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1386s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:14:16,895 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:14:16,895 INFO sqlalchemy.engine.Engine [cached since 1386s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1386s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:14:16,896 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-07-06 11:14:16,898 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
INFO:     127.0.0.1:49903 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 11:14:16,898 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:14:16,898 INFO sqlalchemy.engine.Engine [cached since 1394s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1394s ago] {}
2025-07-06 11:14:16,900 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:14:16,900 INFO sqlalchemy.engine.Engine [cached since 1394s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1394s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:14:16,903 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49903 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:49901 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 11:14:16,907 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:14:16,907 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:14:16,907 INFO sqlalchemy.engine.Engine [cached since 1394s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1394s ago] {}
2025-07-06 11:14:16,908 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:14:16,909 INFO sqlalchemy.engine.Engine [cached since 1394s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1394s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:14:16,910 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49901 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 11:15:02,760 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:15:02,761 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:15:02,761 INFO sqlalchemy.engine.Engine [cached since 1440s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1440s ago] {}
2025-07-06 11:15:02,763 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users) AS anon_1
2025-07-06 11:15:02,763 INFO sqlalchemy.engine.Engine [cached since 1440s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1440s ago] {}
2025-07-06 11:15:02,764 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.is_active = true) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.is_active = true) AS anon_1
2025-07-06 11:15:02,764 INFO sqlalchemy.engine.Engine [cached since 1440s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1440s ago] {}
2025-07-06 11:15:02,765 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:15:02,765 INFO sqlalchemy.engine.Engine [cached since 1440s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1440s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:15:02,767 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies) AS anon_1
2025-07-06 11:15:02,767 INFO sqlalchemy.engine.Engine [cached since 1440s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1440s ago] {}
2025-07-06 11:15:02,768 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.is_active = true) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.is_active = true) AS anon_1
2025-07-06 11:15:02,768 INFO sqlalchemy.engine.Engine [cached since 1440s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1440s ago] {}
2025-07-06 11:15:02,769 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 11:15:02,769 INFO sqlalchemy.engine.Engine [cached since 1440s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1440s ago] {}
2025-07-06 11:15:02,771 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49945 - "GET /api/admin/dashboard/metrics HTTP/1.1" 200 OK
2025-07-06 11:15:03,692 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:15:03,692 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:15:03,692 INFO sqlalchemy.engine.Engine [cached since 1441s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1441s ago] {}
2025-07-06 11:15:03,696 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:15:03,696 INFO sqlalchemy.engine.Engine [cached since 1433s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1433s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:15:03,697 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:15:03,697 INFO sqlalchemy.engine.Engine [cached since 1433s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1433s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:15:03,698 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:15:03,698 INFO sqlalchemy.engine.Engine [cached since 1433s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1433s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:15:03,698 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49947 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 11:15:03,700 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:15:03,700 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:15:03,700 INFO sqlalchemy.engine.Engine [cached since 1441s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1441s ago] {}
2025-07-06 11:15:03,701 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:15:03,701 INFO sqlalchemy.engine.Engine [cached since 1433s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1433s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:15:03,702 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:15:03,702 INFO sqlalchemy.engine.Engine [cached since 1433s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1433s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:15:03,702 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:15:03,702 INFO sqlalchemy.engine.Engine [cached since 1433s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1433s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:15:03,703 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49947 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:49949 - "GET /api/companies/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:49947 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 11:15:03,706 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:15:03,706 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:15:03,706 INFO sqlalchemy.engine.Engine [cached since 1441s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1441s ago] {}
2025-07-06 11:15:03,707 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:15:03,707 INFO sqlalchemy.engine.Engine [cached since 1440s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1440s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:15:03,707 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49949 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 11:15:03,708 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:15:03,708 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:15:03,708 INFO sqlalchemy.engine.Engine [cached since 1441s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1441s ago] {}
2025-07-06 11:15:03,709 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:15:03,709 INFO sqlalchemy.engine.Engine [cached since 1440s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1440s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:15:03,710 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49947 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
INFO:     127.0.0.1:49947 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:49949 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
2025-07-06 11:15:04,402 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:15:04,402 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:15:04,402 INFO sqlalchemy.engine.Engine [cached since 1441s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1441s ago] {}
2025-07-06 11:15:04,404 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:15:04,404 INFO sqlalchemy.engine.Engine [cached since 1441s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1441s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:15:04,405 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:15:04,405 INFO sqlalchemy.engine.Engine [cached since 1441s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1441s ago] {'param_1': 'admin-001'}
2025-07-06 11:15:04,407 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 11:15:04,407 INFO sqlalchemy.engine.Engine [cached since 1441s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1441s ago] {}
2025-07-06 11:15:04,408 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49949 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 11:15:04,410 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:15:04,410 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:15:04,410 INFO sqlalchemy.engine.Engine [cached since 1441s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1441s ago] {}
2025-07-06 11:15:04,411 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:15:04,411 INFO sqlalchemy.engine.Engine [cached since 1441s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1441s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:15:04,411 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:15:04,412 INFO sqlalchemy.engine.Engine [cached since 1441s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1441s ago] {'param_1': 'admin-001'}
2025-07-06 11:15:04,412 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 11:15:04,412 INFO sqlalchemy.engine.Engine [cached since 1441s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1441s ago] {}
2025-07-06 11:15:04,413 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49947 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 11:15:05,257 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:15:05,258 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:15:05,258 INFO sqlalchemy.engine.Engine [cached since 1442s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1442s ago] {}
2025-07-06 11:15:05,259 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:15:05,259 INFO sqlalchemy.engine.Engine [cached since 1435s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1435s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:15:05,260 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:15:05,260 INFO sqlalchemy.engine.Engine [cached since 1435s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1435s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:15:05,261 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:15:05,261 INFO sqlalchemy.engine.Engine [cached since 1435s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1435s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:15:05,262 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49947 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 11:15:05,265 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:15:05,265 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:15:05,265 INFO sqlalchemy.engine.Engine [cached since 1442s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1442s ago] {}
2025-07-06 11:15:05,267 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:15:05,267 INFO sqlalchemy.engine.Engine [cached since 1435s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1435s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:15:05,268 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:15:05,268 INFO sqlalchemy.engine.Engine [cached since 1435s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1435s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:15:05,269 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:15:05,269 INFO sqlalchemy.engine.Engine [cached since 1435s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1435s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:     127.0.0.1:49947 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 11:15:05,270 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49949 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 11:15:05,274 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:15:05,274 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:15:05,274 INFO sqlalchemy.engine.Engine [cached since 1442s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1442s ago] {}
INFO:     127.0.0.1:49947 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 11:15:05,276 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:15:05,276 INFO sqlalchemy.engine.Engine [cached since 1442s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1442s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:15:05,277 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49949 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 11:15:05,278 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:15:05,278 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:15:05,278 INFO sqlalchemy.engine.Engine [cached since 1442s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1442s ago] {}
2025-07-06 11:15:05,279 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:15:05,279 INFO sqlalchemy.engine.Engine [cached since 1442s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1442s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:15:05,280 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49947 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
INFO:     127.0.0.1:49947 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:49949 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
2025-07-06 11:15:06,118 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:15:06,119 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:15:06,119 INFO sqlalchemy.engine.Engine [cached since 1443s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1443s ago] {}
2025-07-06 11:15:06,121 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:15:06,121 INFO sqlalchemy.engine.Engine [cached since 1443s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1443s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:15:06,122 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:15:06,122 INFO sqlalchemy.engine.Engine [cached since 1443s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1443s ago] {'param_1': 'admin-001'}
2025-07-06 11:15:06,124 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 11:15:06,124 INFO sqlalchemy.engine.Engine [cached since 1443s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1443s ago] {}
2025-07-06 11:15:06,125 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49949 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 11:15:06,129 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:15:06,129 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:15:06,129 INFO sqlalchemy.engine.Engine [cached since 1443s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1443s ago] {}
2025-07-06 11:15:06,130 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:15:06,130 INFO sqlalchemy.engine.Engine [cached since 1443s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1443s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:15:06,131 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:15:06,131 INFO sqlalchemy.engine.Engine [cached since 1443s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1443s ago] {'param_1': 'admin-001'}
2025-07-06 11:15:06,132 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 11:15:06,132 INFO sqlalchemy.engine.Engine [cached since 1443s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1443s ago] {}
2025-07-06 11:15:06,133 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49947 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 11:15:13,016 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:15:13,017 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:15:13,017 INFO sqlalchemy.engine.Engine [cached since 1450s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1450s ago] {}
2025-07-06 11:15:13,019 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:15:13,020 INFO sqlalchemy.engine.Engine [cached since 1450s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1450s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:15:13,022 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:15:13,022 INFO sqlalchemy.engine.Engine [cached since 1450s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1450s ago] {'param_1': 'admin-001'}
2025-07-06 11:15:13,024 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:15:13,024 INFO sqlalchemy.engine.Engine [cached since 1450s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1450s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:15:13,025 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:15:13,025 INFO sqlalchemy.engine.Engine [cached since 1450s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1450s ago] {'param_1': 'admin-001'}
2025-07-06 11:15:13,027 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49964 - "GET /api/auth/me HTTP/1.1" 200 OK
2025-07-06 11:15:13,033 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:15:13,034 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:15:13,034 INFO sqlalchemy.engine.Engine [cached since 1450s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1450s ago] {}
2025-07-06 11:15:13,036 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:15:13,037 INFO sqlalchemy.engine.Engine [cached since 1450s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1450s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:15:13,048 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:15:13,048 INFO sqlalchemy.engine.Engine [cached since 1450s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1450s ago] {'param_1': 'admin-001'}
2025-07-06 11:15:13,051 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:15:13,051 INFO sqlalchemy.engine.Engine [cached since 1450s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1450s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:15:13,052 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:15:13,052 INFO sqlalchemy.engine.Engine [cached since 1450s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1450s ago] {'param_1': 'admin-001'}
2025-07-06 11:15:13,056 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49964 - "GET /api/auth/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:49968 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:49968 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
2025-07-06 11:15:13,110 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:15:13,110 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:15:13,110 INFO sqlalchemy.engine.Engine [cached since 1450s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1450s ago] {}
2025-07-06 11:15:13,111 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:15:13,111 INFO sqlalchemy.engine.Engine [cached since 1450s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1450s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:15:13,114 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:15:13,114 INFO sqlalchemy.engine.Engine [cached since 1450s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1450s ago] {'param_1': 'admin-001'}
2025-07-06 11:15:13,115 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 11:15:13,115 INFO sqlalchemy.engine.Engine [cached since 1450s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1450s ago] {}
2025-07-06 11:15:13,117 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49968 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 11:15:13,119 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:15:13,120 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:15:13,120 INFO sqlalchemy.engine.Engine [cached since 1450s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1450s ago] {}
2025-07-06 11:15:13,121 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:15:13,121 INFO sqlalchemy.engine.Engine [cached since 1450s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1450s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:15:13,126 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:15:13,126 INFO sqlalchemy.engine.Engine [cached since 1450s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1450s ago] {'param_1': 'admin-001'}
2025-07-06 11:15:13,128 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 11:15:13,128 INFO sqlalchemy.engine.Engine [cached since 1450s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1450s ago] {}
2025-07-06 11:15:13,139 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49970 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 11:15:15,360 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:15:15,360 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:15:15,360 INFO sqlalchemy.engine.Engine [cached since 1452s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1452s ago] {}
2025-07-06 11:15:15,361 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:15:15,361 INFO sqlalchemy.engine.Engine [cached since 1445s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1445s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:15:15,362 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:15:15,362 INFO sqlalchemy.engine.Engine [cached since 1445s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1445s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:15:15,362 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:15:15,362 INFO sqlalchemy.engine.Engine [cached since 1445s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1445s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:15:15,365 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49970 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 11:15:15,367 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:15:15,368 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:15:15,368 INFO sqlalchemy.engine.Engine [cached since 1452s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1452s ago] {}
INFO:     127.0.0.1:49970 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 11:15:15,369 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:15:15,369 INFO sqlalchemy.engine.Engine [cached since 1445s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1445s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:15:15,370 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:15:15,370 INFO sqlalchemy.engine.Engine [cached since 1445s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1445s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:15:15,370 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:15:15,370 INFO sqlalchemy.engine.Engine [cached since 1445s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1445s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:15:15,371 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-07-06 11:15:15,371 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
INFO:     127.0.0.1:49968 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 11:15:15,371 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:15:15,371 INFO sqlalchemy.engine.Engine [cached since 1452s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1452s ago] {}
2025-07-06 11:15:15,373 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:15:15,373 INFO sqlalchemy.engine.Engine [cached since 1452s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1452s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:15:15,373 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49968 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:49970 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 11:15:15,375 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:15:15,375 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:15:15,375 INFO sqlalchemy.engine.Engine [cached since 1452s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1452s ago] {}
2025-07-06 11:15:15,375 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:15:15,375 INFO sqlalchemy.engine.Engine [cached since 1452s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1452s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:15:15,376 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49968 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
INFO:     127.0.0.1:49968 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:49970 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
2025-07-06 11:15:16,197 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:15:16,197 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:15:16,197 INFO sqlalchemy.engine.Engine [cached since 1453s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1453s ago] {}
2025-07-06 11:15:16,198 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:15:16,198 INFO sqlalchemy.engine.Engine [cached since 1453s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1453s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:15:16,199 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:15:16,199 INFO sqlalchemy.engine.Engine [cached since 1453s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1453s ago] {'param_1': 'admin-001'}
2025-07-06 11:15:16,199 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 11:15:16,200 INFO sqlalchemy.engine.Engine [cached since 1453s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1453s ago] {}
2025-07-06 11:15:16,200 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49970 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 11:15:16,201 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:15:16,202 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:15:16,202 INFO sqlalchemy.engine.Engine [cached since 1453s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1453s ago] {}
2025-07-06 11:15:16,202 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:15:16,202 INFO sqlalchemy.engine.Engine [cached since 1453s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1453s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:15:16,203 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:15:16,203 INFO sqlalchemy.engine.Engine [cached since 1453s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1453s ago] {'param_1': 'admin-001'}
2025-07-06 11:15:16,204 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 11:15:16,204 INFO sqlalchemy.engine.Engine [cached since 1453s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1453s ago] {}
2025-07-06 11:15:16,204 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49968 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 11:15:17,042 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:15:17,043 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:15:17,043 INFO sqlalchemy.engine.Engine [cached since 1454s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1454s ago] {}
2025-07-06 11:15:17,044 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:15:17,044 INFO sqlalchemy.engine.Engine [cached since 1446s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1446s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:15:17,044 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:15:17,044 INFO sqlalchemy.engine.Engine [cached since 1446s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1446s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:15:17,045 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:15:17,045 INFO sqlalchemy.engine.Engine [cached since 1446s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1446s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:15:17,045 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49968 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 11:15:17,046 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:15:17,046 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:15:17,046 INFO sqlalchemy.engine.Engine [cached since 1454s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1454s ago] {}
2025-07-06 11:15:17,047 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:15:17,047 INFO sqlalchemy.engine.Engine [cached since 1446s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1446s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:15:17,047 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:15:17,047 INFO sqlalchemy.engine.Engine [cached since 1446s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1446s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:15:17,048 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:15:17,048 INFO sqlalchemy.engine.Engine [cached since 1446s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1446s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:15:17,049 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49968 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:49970 - "GET /api/companies/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:49968 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 11:15:17,051 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:15:17,051 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:15:17,051 INFO sqlalchemy.engine.Engine [cached since 1454s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1454s ago] {}
2025-07-06 11:15:17,052 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:15:17,052 INFO sqlalchemy.engine.Engine [cached since 1454s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1454s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:15:17,053 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49970 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 11:15:17,054 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:15:17,054 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:15:17,054 INFO sqlalchemy.engine.Engine [cached since 1454s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1454s ago] {}
2025-07-06 11:15:17,055 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:15:17,055 INFO sqlalchemy.engine.Engine [cached since 1454s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1454s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:15:17,056 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49968 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
INFO:     127.0.0.1:49976 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:49976 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
2025-07-06 11:15:17,881 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:15:17,882 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:15:17,882 INFO sqlalchemy.engine.Engine [cached since 1455s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1455s ago] {}
2025-07-06 11:15:17,882 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:15:17,882 INFO sqlalchemy.engine.Engine [cached since 1455s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1455s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:15:17,883 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:15:17,883 INFO sqlalchemy.engine.Engine [cached since 1455s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1455s ago] {'param_1': 'admin-001'}
2025-07-06 11:15:17,884 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 11:15:17,884 INFO sqlalchemy.engine.Engine [cached since 1455s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1455s ago] {}
2025-07-06 11:15:17,885 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49976 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 11:15:17,887 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:15:17,887 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:15:17,888 INFO sqlalchemy.engine.Engine [cached since 1455s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1455s ago] {}
2025-07-06 11:15:17,889 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:15:17,889 INFO sqlalchemy.engine.Engine [cached since 1455s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1455s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:15:17,889 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:15:17,889 INFO sqlalchemy.engine.Engine [cached since 1455s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1455s ago] {'param_1': 'admin-001'}
2025-07-06 11:15:17,890 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 11:15:17,890 INFO sqlalchemy.engine.Engine [cached since 1455s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1455s ago] {}
2025-07-06 11:15:17,891 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49978 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 11:15:18,691 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:15:18,692 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:15:18,692 INFO sqlalchemy.engine.Engine [cached since 1456s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1456s ago] {}
2025-07-06 11:15:18,693 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:15:18,693 INFO sqlalchemy.engine.Engine [cached since 1448s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1448s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:15:18,693 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:15:18,693 INFO sqlalchemy.engine.Engine [cached since 1448s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1448s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:15:18,694 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:15:18,694 INFO sqlalchemy.engine.Engine [cached since 1448s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1448s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:15:18,694 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49978 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 11:15:18,696 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:15:18,696 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:15:18,696 INFO sqlalchemy.engine.Engine [cached since 1456s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1456s ago] {}
INFO:     127.0.0.1:49978 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 11:15:18,697 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:15:18,697 INFO sqlalchemy.engine.Engine [cached since 1448s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1448s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:15:18,698 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:15:18,698 INFO sqlalchemy.engine.Engine [cached since 1448s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1448s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:15:18,698 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:15:18,698 INFO sqlalchemy.engine.Engine [cached since 1448s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1448s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:15:18,699 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-07-06 11:15:18,699 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:15:18,699 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
INFO:     127.0.0.1:49976 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 11:15:18,699 INFO sqlalchemy.engine.Engine [cached since 1456s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1456s ago] {}
2025-07-06 11:15:18,699 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:15:18,699 INFO sqlalchemy.engine.Engine [cached since 1455s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1455s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:15:18,701 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49976 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:49978 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 11:15:18,704 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:15:18,704 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:15:18,704 INFO sqlalchemy.engine.Engine [cached since 1456s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1456s ago] {}
2025-07-06 11:15:18,705 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:15:18,705 INFO sqlalchemy.engine.Engine [cached since 1455s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1455s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:15:18,706 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49978 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
INFO:     127.0.0.1:49978 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:49976 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
2025-07-06 11:15:19,282 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:15:19,282 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:15:19,282 INFO sqlalchemy.engine.Engine [cached since 1456s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1456s ago] {}
2025-07-06 11:15:19,282 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:15:19,282 INFO sqlalchemy.engine.Engine [cached since 1456s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1456s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:15:19,283 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:15:19,283 INFO sqlalchemy.engine.Engine [cached since 1456s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1456s ago] {'param_1': 'admin-001'}
2025-07-06 11:15:19,284 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 11:15:19,284 INFO sqlalchemy.engine.Engine [cached since 1456s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1456s ago] {}
2025-07-06 11:15:19,285 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49976 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 11:15:19,286 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:15:19,286 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:15:19,286 INFO sqlalchemy.engine.Engine [cached since 1456s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1456s ago] {}
2025-07-06 11:15:19,288 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:15:19,288 INFO sqlalchemy.engine.Engine [cached since 1456s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1456s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:15:19,289 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:15:19,289 INFO sqlalchemy.engine.Engine [cached since 1456s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1456s ago] {'param_1': 'admin-001'}
2025-07-06 11:15:19,290 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 11:15:19,290 INFO sqlalchemy.engine.Engine [cached since 1456s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1456s ago] {}
2025-07-06 11:15:19,290 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49978 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 11:15:52,708 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:15:52,709 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:15:52,709 INFO sqlalchemy.engine.Engine [cached since 1490s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1490s ago] {}
2025-07-06 11:15:52,714 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:15:52,714 INFO sqlalchemy.engine.Engine [cached since 1490s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1490s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:15:52,715 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:15:52,715 INFO sqlalchemy.engine.Engine [cached since 1490s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1490s ago] {'param_1': 'admin-001'}
2025-07-06 11:15:52,717 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:15:52,717 INFO sqlalchemy.engine.Engine [cached since 1490s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1490s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:15:52,719 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:15:52,719 INFO sqlalchemy.engine.Engine [cached since 1490s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1490s ago] {'param_1': 'admin-001'}
2025-07-06 11:15:52,720 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50029 - "GET /api/auth/me HTTP/1.1" 200 OK
2025-07-06 11:15:52,724 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:15:52,724 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:15:52,724 INFO sqlalchemy.engine.Engine [cached since 1490s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1490s ago] {}
2025-07-06 11:15:52,725 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:15:52,725 INFO sqlalchemy.engine.Engine [cached since 1490s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1490s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:15:52,727 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:15:52,727 INFO sqlalchemy.engine.Engine [cached since 1490s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1490s ago] {'param_1': 'admin-001'}
2025-07-06 11:15:52,730 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:15:52,730 INFO sqlalchemy.engine.Engine [cached since 1490s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1490s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:15:52,734 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:15:52,741 INFO sqlalchemy.engine.Engine [cached since 1490s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1490s ago] {'param_1': 'admin-001'}
2025-07-06 11:15:52,748 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50029 - "GET /api/auth/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:50033 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:50035 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
2025-07-06 11:15:52,816 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:15:52,817 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:15:52,817 INFO sqlalchemy.engine.Engine [cached since 1490s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1490s ago] {}
2025-07-06 11:15:52,818 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:15:52,819 INFO sqlalchemy.engine.Engine [cached since 1490s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1490s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:15:52,819 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:15:52,819 INFO sqlalchemy.engine.Engine [cached since 1490s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1490s ago] {'param_1': 'admin-001'}
2025-07-06 11:15:52,820 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 11:15:52,821 INFO sqlalchemy.engine.Engine [cached since 1490s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1490s ago] {}
2025-07-06 11:15:52,821 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50033 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 11:15:52,824 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:15:52,824 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:15:52,824 INFO sqlalchemy.engine.Engine [cached since 1490s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1490s ago] {}
2025-07-06 11:15:52,825 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:15:52,825 INFO sqlalchemy.engine.Engine [cached since 1490s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1490s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:15:52,826 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:15:52,826 INFO sqlalchemy.engine.Engine [cached since 1490s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1490s ago] {'param_1': 'admin-001'}
2025-07-06 11:15:52,827 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 11:15:52,827 INFO sqlalchemy.engine.Engine [cached since 1490s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1490s ago] {}
2025-07-06 11:15:52,828 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50035 - "GET /api/children/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:50042 - "OPTIONS /api/companies/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:50044 - "OPTIONS /api/companies/ HTTP/1.1" 200 OK
2025-07-06 11:15:58,000 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:15:58,000 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:15:58,000 INFO sqlalchemy.engine.Engine [cached since 1495s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1495s ago] {}
2025-07-06 11:15:58,001 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:15:58,001 INFO sqlalchemy.engine.Engine [cached since 1487s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1487s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:15:58,002 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:15:58,002 INFO sqlalchemy.engine.Engine [cached since 1487s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1487s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:15:58,003 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:15:58,003 INFO sqlalchemy.engine.Engine [cached since 1487s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1487s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:15:58,004 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50044 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 11:15:58,006 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:15:58,006 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:15:58,006 INFO sqlalchemy.engine.Engine [cached since 1495s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1495s ago] {}
INFO:     127.0.0.1:50044 - "OPTIONS /api/companies/drivers/available/ HTTP/1.1" 200 OK
2025-07-06 11:15:58,008 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:15:58,008 INFO sqlalchemy.engine.Engine [cached since 1487s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1487s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:15:58,009 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:15:58,009 INFO sqlalchemy.engine.Engine [cached since 1487s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1487s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:15:58,009 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:15:58,009 INFO sqlalchemy.engine.Engine [cached since 1487s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1487s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:15:58,010 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50044 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:50042 - "GET /api/companies/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:50044 - "OPTIONS /api/companies/drivers/available HTTP/1.1" 200 OK
INFO:     127.0.0.1:50042 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 11:15:58,015 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:15:58,015 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:15:58,015 INFO sqlalchemy.engine.Engine [cached since 1495s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1495s ago] {}
2025-07-06 11:15:58,016 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:15:58,016 INFO sqlalchemy.engine.Engine [cached since 1495s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1495s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:15:58,017 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50044 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 11:15:58,018 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:15:58,018 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:15:58,018 INFO sqlalchemy.engine.Engine [cached since 1495s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1495s ago] {}
2025-07-06 11:15:58,019 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:15:58,019 INFO sqlalchemy.engine.Engine [cached since 1495s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1495s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:15:58,021 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50042 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 11:15:58,840 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:15:58,840 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:15:58,840 INFO sqlalchemy.engine.Engine [cached since 1496s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1496s ago] {}
2025-07-06 11:15:58,841 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users) AS anon_1
2025-07-06 11:15:58,841 INFO sqlalchemy.engine.Engine [cached since 1496s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1496s ago] {}
2025-07-06 11:15:58,843 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.is_active = true) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.is_active = true) AS anon_1
2025-07-06 11:15:58,843 INFO sqlalchemy.engine.Engine [cached since 1496s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1496s ago] {}
2025-07-06 11:15:58,843 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:15:58,844 INFO sqlalchemy.engine.Engine [cached since 1496s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1496s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:15:58,845 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies) AS anon_1
2025-07-06 11:15:58,845 INFO sqlalchemy.engine.Engine [cached since 1496s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1496s ago] {}
2025-07-06 11:15:58,846 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.is_active = true) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.is_active = true) AS anon_1
2025-07-06 11:15:58,846 INFO sqlalchemy.engine.Engine [cached since 1496s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1496s ago] {}
2025-07-06 11:15:58,846 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 11:15:58,846 INFO sqlalchemy.engine.Engine [cached since 1496s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1496s ago] {}
2025-07-06 11:15:58,848 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50046 - "GET /api/admin/dashboard/metrics HTTP/1.1" 200 OK
2025-07-06 11:15:59,416 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:15:59,418 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:15:59,418 INFO sqlalchemy.engine.Engine [cached since 1496s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1496s ago] {}
2025-07-06 11:15:59,428 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:15:59,432 INFO sqlalchemy.engine.Engine [cached since 1489s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1489s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:15:59,441 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:15:59,441 INFO sqlalchemy.engine.Engine [cached since 1489s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1489s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:15:59,452 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:15:59,454 INFO sqlalchemy.engine.Engine [cached since 1489s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1489s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:15:59,459 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50042 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 11:15:59,462 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:15:59,463 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:15:59,463 INFO sqlalchemy.engine.Engine [cached since 1497s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1497s ago] {}
2025-07-06 11:15:59,463 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:15:59,463 INFO sqlalchemy.engine.Engine [cached since 1489s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1489s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:15:59,465 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:15:59,465 INFO sqlalchemy.engine.Engine [cached since 1489s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1489s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:15:59,465 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:15:59,465 INFO sqlalchemy.engine.Engine [cached since 1489s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1489s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:15:59,466 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50042 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:50044 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 11:15:59,472 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
INFO:     127.0.0.1:50042 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 11:15:59,472 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:15:59,473 INFO sqlalchemy.engine.Engine [cached since 1497s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1497s ago] {}
2025-07-06 11:15:59,473 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:15:59,473 INFO sqlalchemy.engine.Engine [cached since 1496s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1496s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:15:59,474 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50044 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 11:15:59,475 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:15:59,475 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:15:59,475 INFO sqlalchemy.engine.Engine [cached since 1497s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1497s ago] {}
2025-07-06 11:15:59,476 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:15:59,476 INFO sqlalchemy.engine.Engine [cached since 1496s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1496s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:15:59,484 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50042 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 11:16:02,596 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:16:02,596 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:16:02,596 INFO sqlalchemy.engine.Engine [cached since 1500s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1500s ago] {}
2025-07-06 11:16:02,597 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:16:02,597 INFO sqlalchemy.engine.Engine [cached since 1499s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1499s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:16:02,598 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:16:02,598 INFO sqlalchemy.engine.Engine [cached since 1499s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1499s ago] {'param_1': 'admin-001'}
2025-07-06 11:16:02,599 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:16:02,599 INFO sqlalchemy.engine.Engine [cached since 1499s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1499s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:16:02,599 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:16:02,599 INFO sqlalchemy.engine.Engine [cached since 1499s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1499s ago] {'param_1': 'admin-001'}
2025-07-06 11:16:02,600 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50061 - "GET /api/auth/me HTTP/1.1" 200 OK
2025-07-06 11:16:02,601 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:16:02,601 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:16:02,601 INFO sqlalchemy.engine.Engine [cached since 1500s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1500s ago] {}
2025-07-06 11:16:02,602 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:16:02,602 INFO sqlalchemy.engine.Engine [cached since 1499s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1499s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:16:02,602 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:16:02,602 INFO sqlalchemy.engine.Engine [cached since 1499s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1499s ago] {'param_1': 'admin-001'}
2025-07-06 11:16:02,603 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:16:02,603 INFO sqlalchemy.engine.Engine [cached since 1499s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1499s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:16:02,603 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:16:02,604 INFO sqlalchemy.engine.Engine [cached since 1499s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1499s ago] {'param_1': 'admin-001'}
2025-07-06 11:16:02,604 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50061 - "GET /api/auth/me HTTP/1.1" 200 OK
2025-07-06 11:16:02,653 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:16:02,654 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:16:02,654 INFO sqlalchemy.engine.Engine [cached since 1500s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1500s ago] {}
2025-07-06 11:16:02,656 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:16:02,656 INFO sqlalchemy.engine.Engine [cached since 1492s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1492s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:16:02,658 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:16:02,658 INFO sqlalchemy.engine.Engine [cached since 1492s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1492s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:16:02,659 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:16:02,660 INFO sqlalchemy.engine.Engine [cached since 1492s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1492s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:16:02,661 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50065 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 11:16:02,664 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:16:02,664 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:16:02,664 INFO sqlalchemy.engine.Engine [cached since 1500s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1500s ago] {}
2025-07-06 11:16:02,665 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:16:02,665 INFO sqlalchemy.engine.Engine [cached since 1492s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1492s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:16:02,666 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:16:02,667 INFO sqlalchemy.engine.Engine [cached since 1492s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1492s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:16:02,668 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:16:02,668 INFO sqlalchemy.engine.Engine [cached since 1492s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1492s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:16:02,669 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50065 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:50067 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 11:16:02,670 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:16:02,670 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:16:02,670 INFO sqlalchemy.engine.Engine [cached since 1500s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1500s ago] {}
2025-07-06 11:16:02,672 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:16:02,672 INFO sqlalchemy.engine.Engine [cached since 1499s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1499s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:16:02,673 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50065 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:50067 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 11:16:02,675 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:16:02,675 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:16:02,675 INFO sqlalchemy.engine.Engine [cached since 1500s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1500s ago] {}
2025-07-06 11:16:02,675 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:16:02,675 INFO sqlalchemy.engine.Engine [cached since 1499s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1499s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:16:02,677 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50065 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 11:16:32,075 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:16:32,075 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:16:32,075 INFO sqlalchemy.engine.Engine [cached since 1529s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1529s ago] {}
2025-07-06 11:16:32,076 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:16:32,076 INFO sqlalchemy.engine.Engine [cached since 1529s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1529s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:16:32,077 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:16:32,077 INFO sqlalchemy.engine.Engine [cached since 1529s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1529s ago] {'param_1': 'admin-001'}
2025-07-06 11:16:32,078 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:16:32,078 INFO sqlalchemy.engine.Engine [cached since 1529s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1529s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:16:32,079 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:16:32,079 INFO sqlalchemy.engine.Engine [cached since 1529s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1529s ago] {'param_1': 'admin-001'}
2025-07-06 11:16:32,083 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50149 - "GET /api/auth/me HTTP/1.1" 200 OK
2025-07-06 11:16:32,088 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:16:32,088 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:16:32,088 INFO sqlalchemy.engine.Engine [cached since 1529s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1529s ago] {}
2025-07-06 11:16:32,088 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:16:32,088 INFO sqlalchemy.engine.Engine [cached since 1529s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1529s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:16:32,089 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:16:32,089 INFO sqlalchemy.engine.Engine [cached since 1529s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1529s ago] {'param_1': 'admin-001'}
2025-07-06 11:16:32,089 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:16:32,089 INFO sqlalchemy.engine.Engine [cached since 1529s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1529s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:16:32,089 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:16:32,090 INFO sqlalchemy.engine.Engine [cached since 1529s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1529s ago] {'param_1': 'admin-001'}
2025-07-06 11:16:32,090 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50151 - "GET /api/auth/me HTTP/1.1" 200 OK
2025-07-06 11:16:32,128 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:16:32,128 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:16:32,128 INFO sqlalchemy.engine.Engine [cached since 1529s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1529s ago] {}
2025-07-06 11:16:32,129 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:16:32,129 INFO sqlalchemy.engine.Engine [cached since 1522s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1522s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:16:32,130 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:16:32,130 INFO sqlalchemy.engine.Engine [cached since 1522s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1522s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:16:32,130 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:16:32,130 INFO sqlalchemy.engine.Engine [cached since 1522s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1522s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:16:32,131 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50153 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 11:16:32,132 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:16:32,132 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:16:32,132 INFO sqlalchemy.engine.Engine [cached since 1529s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1529s ago] {}
2025-07-06 11:16:32,133 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:16:32,133 INFO sqlalchemy.engine.Engine [cached since 1522s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1522s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:16:32,134 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:16:32,134 INFO sqlalchemy.engine.Engine [cached since 1522s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1522s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:16:32,135 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:16:32,135 INFO sqlalchemy.engine.Engine [cached since 1522s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1522s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:16:32,135 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50153 - "GET /api/companies/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:50153 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:50155 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 11:16:32,170 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:16:32,170 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:16:32,170 INFO sqlalchemy.engine.Engine [cached since 1529s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1529s ago] {}
2025-07-06 11:16:32,171 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:16:32,171 INFO sqlalchemy.engine.Engine [cached since 1529s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1529s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:16:32,172 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50155 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 11:16:32,174 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:16:32,174 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:16:32,174 INFO sqlalchemy.engine.Engine [cached since 1529s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1529s ago] {}
2025-07-06 11:16:32,174 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:16:32,174 INFO sqlalchemy.engine.Engine [cached since 1529s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1529s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:16:32,176 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50153 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 11:16:33,810 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:16:33,810 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:16:33,810 INFO sqlalchemy.engine.Engine [cached since 1531s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1531s ago] {}
2025-07-06 11:16:33,812 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:16:33,812 INFO sqlalchemy.engine.Engine [cached since 1531s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1531s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:16:33,812 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:16:33,812 INFO sqlalchemy.engine.Engine [cached since 1531s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1531s ago] {'param_1': 'admin-001'}
2025-07-06 11:16:33,813 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:16:33,813 INFO sqlalchemy.engine.Engine [cached since 1531s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1531s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:16:33,814 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:16:33,814 INFO sqlalchemy.engine.Engine [cached since 1531s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1531s ago] {'param_1': 'admin-001'}
2025-07-06 11:16:33,814 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50170 - "GET /api/auth/me HTTP/1.1" 200 OK
2025-07-06 11:16:33,816 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:16:33,816 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:16:33,816 INFO sqlalchemy.engine.Engine [cached since 1531s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1531s ago] {}
2025-07-06 11:16:33,816 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:16:33,816 INFO sqlalchemy.engine.Engine [cached since 1531s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1531s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:16:33,817 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:16:33,817 INFO sqlalchemy.engine.Engine [cached since 1531s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1531s ago] {'param_1': 'admin-001'}
2025-07-06 11:16:33,818 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:16:33,818 INFO sqlalchemy.engine.Engine [cached since 1531s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1531s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:16:33,818 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:16:33,818 INFO sqlalchemy.engine.Engine [cached since 1531s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1531s ago] {'param_1': 'admin-001'}
2025-07-06 11:16:33,819 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50170 - "GET /api/auth/me HTTP/1.1" 200 OK
2025-07-06 11:16:33,856 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:16:33,856 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:16:33,856 INFO sqlalchemy.engine.Engine [cached since 1531s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1531s ago] {}
2025-07-06 11:16:33,857 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:16:33,857 INFO sqlalchemy.engine.Engine [cached since 1523s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1523s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:16:33,858 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:16:33,858 INFO sqlalchemy.engine.Engine [cached since 1523s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1523s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:16:33,860 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:16:33,860 INFO sqlalchemy.engine.Engine [cached since 1523s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1523s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:16:33,861 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50153 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 11:16:33,862 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:16:33,863 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:16:33,863 INFO sqlalchemy.engine.Engine [cached since 1531s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1531s ago] {}
2025-07-06 11:16:33,863 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:16:33,863 INFO sqlalchemy.engine.Engine [cached since 1523s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1523s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:16:33,864 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:16:33,864 INFO sqlalchemy.engine.Engine [cached since 1523s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1523s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:16:33,864 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:16:33,864 INFO sqlalchemy.engine.Engine [cached since 1523s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1523s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:16:33,865 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50155 - "GET /api/companies/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:50155 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:50153 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 11:16:33,877 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:16:33,877 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:16:33,878 INFO sqlalchemy.engine.Engine [cached since 1531s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1531s ago] {}
2025-07-06 11:16:33,883 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:16:33,883 INFO sqlalchemy.engine.Engine [cached since 1531s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1531s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:16:33,884 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50153 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 11:16:33,886 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:16:33,887 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:16:33,887 INFO sqlalchemy.engine.Engine [cached since 1531s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1531s ago] {}
2025-07-06 11:16:33,890 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:16:33,891 INFO sqlalchemy.engine.Engine [cached since 1531s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1531s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:16:33,893 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50155 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 11:16:34,759 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:16:34,760 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:16:34,760 INFO sqlalchemy.engine.Engine [cached since 1532s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1532s ago] {}
2025-07-06 11:16:34,761 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:16:34,762 INFO sqlalchemy.engine.Engine [cached since 1532s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1532s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:16:34,763 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:16:34,763 INFO sqlalchemy.engine.Engine [cached since 1532s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1532s ago] {'param_1': 'admin-001'}
2025-07-06 11:16:34,766 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:16:34,767 INFO sqlalchemy.engine.Engine [cached since 1532s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1532s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:16:34,768 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:16:34,768 INFO sqlalchemy.engine.Engine [cached since 1532s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1532s ago] {'param_1': 'admin-001'}
2025-07-06 11:16:34,770 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50170 - "GET /api/auth/me HTTP/1.1" 200 OK
2025-07-06 11:16:34,772 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:16:34,772 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:16:34,772 INFO sqlalchemy.engine.Engine [cached since 1532s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1532s ago] {}
2025-07-06 11:16:34,772 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:16:34,772 INFO sqlalchemy.engine.Engine [cached since 1532s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1532s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:16:34,773 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:16:34,773 INFO sqlalchemy.engine.Engine [cached since 1532s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1532s ago] {'param_1': 'admin-001'}
2025-07-06 11:16:34,774 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:16:34,774 INFO sqlalchemy.engine.Engine [cached since 1532s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1532s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:16:34,775 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:16:34,775 INFO sqlalchemy.engine.Engine [cached since 1532s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1532s ago] {'param_1': 'admin-001'}
2025-07-06 11:16:34,775 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50172 - "GET /api/auth/me HTTP/1.1" 200 OK
2025-07-06 11:16:34,807 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:16:34,808 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:16:34,808 INFO sqlalchemy.engine.Engine [cached since 1532s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1532s ago] {}
2025-07-06 11:16:34,809 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:16:34,809 INFO sqlalchemy.engine.Engine [cached since 1524s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1524s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:16:34,810 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:16:34,810 INFO sqlalchemy.engine.Engine [cached since 1524s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1524s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:16:34,811 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:16:34,811 INFO sqlalchemy.engine.Engine [cached since 1524s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1524s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:16:34,812 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50155 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 11:16:34,814 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:16:34,814 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:16:34,814 INFO sqlalchemy.engine.Engine [cached since 1532s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1532s ago] {}
2025-07-06 11:16:34,815 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:16:34,815 INFO sqlalchemy.engine.Engine [cached since 1524s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1524s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:16:34,816 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:16:34,816 INFO sqlalchemy.engine.Engine [cached since 1524s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1524s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:16:34,817 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:16:34,817 INFO sqlalchemy.engine.Engine [cached since 1524s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1524s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:16:34,818 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50155 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:50153 - "GET /api/companies/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:50155 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 11:16:34,822 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:16:34,822 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:16:34,822 INFO sqlalchemy.engine.Engine [cached since 1532s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1532s ago] {}
2025-07-06 11:16:34,825 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:16:34,825 INFO sqlalchemy.engine.Engine [cached since 1532s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1532s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:16:34,828 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50153 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 11:16:34,830 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:16:34,830 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:16:34,831 INFO sqlalchemy.engine.Engine [cached since 1532s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1532s ago] {}
2025-07-06 11:16:34,833 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:16:34,833 INFO sqlalchemy.engine.Engine [cached since 1532s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1532s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:16:34,834 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50155 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 11:16:36,116 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:16:36,117 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:16:36,117 INFO sqlalchemy.engine.Engine [cached since 1533s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1533s ago] {}
2025-07-06 11:16:36,118 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users) AS anon_1
2025-07-06 11:16:36,118 INFO sqlalchemy.engine.Engine [cached since 1533s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1533s ago] {}
2025-07-06 11:16:36,119 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.is_active = true) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.is_active = true) AS anon_1
2025-07-06 11:16:36,119 INFO sqlalchemy.engine.Engine [cached since 1533s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1533s ago] {}
2025-07-06 11:16:36,120 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:16:36,120 INFO sqlalchemy.engine.Engine [cached since 1533s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1533s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:16:36,121 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies) AS anon_1
2025-07-06 11:16:36,122 INFO sqlalchemy.engine.Engine [cached since 1533s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1533s ago] {}
2025-07-06 11:16:36,123 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.is_active = true) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.is_active = true) AS anon_1
2025-07-06 11:16:36,123 INFO sqlalchemy.engine.Engine [cached since 1533s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1533s ago] {}
2025-07-06 11:16:36,124 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 11:16:36,124 INFO sqlalchemy.engine.Engine [cached since 1533s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1533s ago] {}
2025-07-06 11:16:36,126 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50172 - "GET /api/admin/dashboard/metrics HTTP/1.1" 200 OK
2025-07-06 11:16:37,077 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:16:37,078 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:16:37,078 INFO sqlalchemy.engine.Engine [cached since 1534s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1534s ago] {}
2025-07-06 11:16:37,079 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:16:37,080 INFO sqlalchemy.engine.Engine [cached since 1527s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1527s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:16:37,081 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:16:37,081 INFO sqlalchemy.engine.Engine [cached since 1527s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1527s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:16:37,082 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:16:37,082 INFO sqlalchemy.engine.Engine [cached since 1527s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1527s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:16:37,083 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50155 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 11:16:37,086 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:16:37,086 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:16:37,086 INFO sqlalchemy.engine.Engine [cached since 1534s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1534s ago] {}
2025-07-06 11:16:37,087 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:16:37,087 INFO sqlalchemy.engine.Engine [cached since 1527s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1527s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:16:37,089 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:16:37,089 INFO sqlalchemy.engine.Engine [cached since 1527s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1527s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:16:37,090 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:16:37,090 INFO sqlalchemy.engine.Engine [cached since 1527s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1527s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:16:37,091 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50155 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:50153 - "GET /api/companies/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:50155 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 11:16:37,099 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:16:37,099 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:16:37,099 INFO sqlalchemy.engine.Engine [cached since 1534s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1534s ago] {}
2025-07-06 11:16:37,101 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:16:37,101 INFO sqlalchemy.engine.Engine [cached since 1534s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1534s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:16:37,102 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50153 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 11:16:37,104 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:16:37,105 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:16:37,105 INFO sqlalchemy.engine.Engine [cached since 1534s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1534s ago] {}
2025-07-06 11:16:37,106 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:16:37,106 INFO sqlalchemy.engine.Engine [cached since 1534s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1534s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:16:37,108 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50155 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
INFO:     127.0.0.1:50219 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:50219 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
2025-07-06 11:16:46,672 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:16:46,673 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:16:46,673 INFO sqlalchemy.engine.Engine [cached since 1544s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1544s ago] {}
2025-07-06 11:16:46,674 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:16:46,674 INFO sqlalchemy.engine.Engine [cached since 1543s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1543s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:16:46,675 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:16:46,675 INFO sqlalchemy.engine.Engine [cached since 1543s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1543s ago] {'param_1': 'admin-001'}
2025-07-06 11:16:46,676 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 11:16:46,677 INFO sqlalchemy.engine.Engine [cached since 1543s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1543s ago] {}
2025-07-06 11:16:46,678 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50219 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 11:16:46,680 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:16:46,680 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:16:46,681 INFO sqlalchemy.engine.Engine [cached since 1544s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1544s ago] {}
2025-07-06 11:16:46,682 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:16:46,682 INFO sqlalchemy.engine.Engine [cached since 1543s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1543s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:16:46,684 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:16:46,684 INFO sqlalchemy.engine.Engine [cached since 1543s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1543s ago] {'param_1': 'admin-001'}
2025-07-06 11:16:46,685 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 11:16:46,685 INFO sqlalchemy.engine.Engine [cached since 1543s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1543s ago] {}
2025-07-06 11:16:46,686 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50221 - "GET /api/children/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:50365 - "OPTIONS /api/children HTTP/1.1" 200 OK
INFO:     127.0.0.1:50365 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:50365 - "OPTIONS /api/children/ HTTP/1.1" 200 OK
2025-07-06 11:18:24,761 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:18:24,762 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:18:24,762 INFO sqlalchemy.engine.Engine [cached since 1642s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1642s ago] {}
2025-07-06 11:18:24,767 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 11:18:24,768 INFO sqlalchemy.engine.Engine [cached since 1642s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1642s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 11:18:24,770 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 11:18:24,770 INFO sqlalchemy.engine.Engine [cached since 1642s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1642s ago] {'param_1': 'admin-001'}
2025-07-06 11:18:24,775 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 11:18:24,775 INFO sqlalchemy.engine.Engine [cached since 1642s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1642s ago] {}
2025-07-06 11:18:24,776 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50365 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 11:19:47,339 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:19:47,340 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:19:47,340 INFO sqlalchemy.engine.Engine [cached since 1724s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1724s ago] {}
2025-07-06 11:19:47,343 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:19:47,343 INFO sqlalchemy.engine.Engine [cached since 1717s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1717s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:19:47,345 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:19:47,345 INFO sqlalchemy.engine.Engine [cached since 1717s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1717s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:19:47,346 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:19:47,346 INFO sqlalchemy.engine.Engine [cached since 1717s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1717s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:19:47,347 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50466 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 11:19:47,350 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:19:47,351 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:19:47,351 INFO sqlalchemy.engine.Engine [cached since 1724s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1724s ago] {}
INFO:     127.0.0.1:50468 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 11:19:47,353 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:19:47,353 INFO sqlalchemy.engine.Engine [cached since 1717s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1717s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 11:19:47,354 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:19:47,354 INFO sqlalchemy.engine.Engine [cached since 1717s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1717s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 11:19:47,355 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 11:19:47,355 INFO sqlalchemy.engine.Engine [cached since 1717s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1717s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 11:19:47,358 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-07-06 11:19:47,359 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
INFO:     127.0.0.1:50466 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 11:19:47,359 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:19:47,359 INFO sqlalchemy.engine.Engine [cached since 1724s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1724s ago] {}
2025-07-06 11:19:47,361 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:19:47,361 INFO sqlalchemy.engine.Engine [cached since 1724s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1724s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:19:47,362 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50466 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:50468 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 11:19:47,365 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 11:19:47,365 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 11:19:47,365 INFO sqlalchemy.engine.Engine [cached since 1724s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1724s ago] {}
2025-07-06 11:19:47,366 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 11:19:47,366 INFO sqlalchemy.engine.Engine [cached since 1724s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1724s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 11:19:47,368 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50468 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
INFO:     127.0.0.1:63969 - "OPTIONS /api/auth/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:63970 - "OPTIONS /api/auth/me HTTP/1.1" 200 OK
2025-07-06 16:21:33,037 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:21:33,040 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:21:33,041 INFO sqlalchemy.engine.Engine [cached since 1.983e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.983e+04s ago] {}
ERROR:db.database:Unexpected database error: 401: Invalid token
2025-07-06 16:21:33,046 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
ERROR:core.exceptions:Unhandled exception: Database operation failed: 401: Invalid token
Traceback (most recent call last):
  File "/Users/gilcohen/Projects/google_app/saferide-backend-python/db/database.py", line 51, in get_db
    yield db
  File "/Users/gilcohen/.pyenv/versions/3.11.9/lib/python3.11/site-packages/fastapi/concurrency.py", line 27, in contextmanager_in_threadpool
    yield await run_in_threadpool(cm.__enter__)
  File "/Users/gilcohen/.pyenv/versions/3.11.9/lib/python3.11/site-packages/fastapi/routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/gilcohen/.pyenv/versions/3.11.9/lib/python3.11/site-packages/fastapi/dependencies/utils.py", line 615, in solve_dependencies
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/gilcohen/.pyenv/versions/3.11.9/lib/python3.11/site-packages/fastapi/dependencies/utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/gilcohen/Projects/google_app/saferide-backend-python/auth/auth.py", line 252, in get_current_user_hybrid
    raise HTTPException(
fastapi.exceptions.HTTPException: 401: Invalid token

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/gilcohen/.pyenv/versions/3.11.9/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/gilcohen/.pyenv/versions/3.11.9/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/gilcohen/.pyenv/versions/3.11.9/lib/python3.11/site-packages/fastapi/routing.py", line 290, in app
    async with AsyncExitStack() as async_exit_stack:
  File "/Users/gilcohen/.pyenv/versions/3.11.9/lib/python3.11/contextlib.py", line 745, in __aexit__
    raise exc_details[1]
  File "/Users/gilcohen/.pyenv/versions/3.11.9/lib/python3.11/contextlib.py", line 728, in __aexit__
    cb_suppress = await cb(*exc_details)
                  ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/gilcohen/.pyenv/versions/3.11.9/lib/python3.11/contextlib.py", line 231, in __aexit__
    await self.gen.athrow(typ, value, traceback)
  File "/Users/gilcohen/.pyenv/versions/3.11.9/lib/python3.11/site-packages/fastapi/concurrency.py", line 30, in contextmanager_in_threadpool
    await anyio.to_thread.run_sync(
  File "/Users/gilcohen/.pyenv/versions/3.11.9/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/gilcohen/.pyenv/versions/3.11.9/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/gilcohen/.pyenv/versions/3.11.9/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/Users/gilcohen/Projects/google_app/saferide-backend-python/db/database.py", line 59, in get_db
    raise DatabaseError(f"Database operation failed: {str(e)}")
core.exceptions.DatabaseError: Database operation failed: 401: Invalid token
INFO:     127.0.0.1:63972 - "GET /api/auth/me HTTP/1.1" 500 Internal Server Error
2025-07-06 16:21:33,060 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:21:33,061 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:21:33,061 INFO sqlalchemy.engine.Engine [cached since 1.983e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.983e+04s ago] {}
ERROR:db.database:Unexpected database error: 401: Invalid token
2025-07-06 16:21:33,061 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
ERROR:core.exceptions:Unhandled exception: Database operation failed: 401: Invalid token
Traceback (most recent call last):
  File "/Users/gilcohen/Projects/google_app/saferide-backend-python/db/database.py", line 51, in get_db
    yield db
  File "/Users/gilcohen/.pyenv/versions/3.11.9/lib/python3.11/site-packages/fastapi/concurrency.py", line 27, in contextmanager_in_threadpool
    yield await run_in_threadpool(cm.__enter__)
  File "/Users/gilcohen/.pyenv/versions/3.11.9/lib/python3.11/site-packages/fastapi/routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/gilcohen/.pyenv/versions/3.11.9/lib/python3.11/site-packages/fastapi/dependencies/utils.py", line 615, in solve_dependencies
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/gilcohen/.pyenv/versions/3.11.9/lib/python3.11/site-packages/fastapi/dependencies/utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/gilcohen/Projects/google_app/saferide-backend-python/auth/auth.py", line 252, in get_current_user_hybrid
    raise HTTPException(
fastapi.exceptions.HTTPException: 401: Invalid token

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/gilcohen/.pyenv/versions/3.11.9/lib/python3.11/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/Users/gilcohen/.pyenv/versions/3.11.9/lib/python3.11/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/Users/gilcohen/.pyenv/versions/3.11.9/lib/python3.11/site-packages/fastapi/routing.py", line 290, in app
    async with AsyncExitStack() as async_exit_stack:
  File "/Users/gilcohen/.pyenv/versions/3.11.9/lib/python3.11/contextlib.py", line 745, in __aexit__
    raise exc_details[1]
  File "/Users/gilcohen/.pyenv/versions/3.11.9/lib/python3.11/contextlib.py", line 728, in __aexit__
    cb_suppress = await cb(*exc_details)
                  ^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/gilcohen/.pyenv/versions/3.11.9/lib/python3.11/contextlib.py", line 231, in __aexit__
    await self.gen.athrow(typ, value, traceback)
  File "/Users/gilcohen/.pyenv/versions/3.11.9/lib/python3.11/site-packages/fastapi/concurrency.py", line 30, in contextmanager_in_threadpool
    await anyio.to_thread.run_sync(
  File "/Users/gilcohen/.pyenv/versions/3.11.9/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 2470, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/Users/gilcohen/.pyenv/versions/3.11.9/lib/python3.11/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/gilcohen/.pyenv/versions/3.11.9/lib/python3.11/contextlib.py", line 158, in __exit__
    self.gen.throw(typ, value, traceback)
  File "/Users/gilcohen/Projects/google_app/saferide-backend-python/db/database.py", line 59, in get_db
    raise DatabaseError(f"Database operation failed: {str(e)}")
core.exceptions.DatabaseError: Database operation failed: 401: Invalid token
INFO:     127.0.0.1:63975 - "GET /api/auth/me HTTP/1.1" 500 Internal Server Error
INFO:     127.0.0.1:63989 - "OPTIONS /api/auth/login HTTP/1.1" 200 OK
2025-07-06 16:21:51,140 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:21:51,140 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:21:51,141 INFO sqlalchemy.engine.Engine [cached since 1.985e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.985e+04s ago] {}
2025-07-06 16:21:51,144 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-07-06 16:21:51,144 INFO sqlalchemy.engine.Engine [cached since 1.985e+04s ago] {'email_1': 'admin@saferide.com', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1.985e+04s ago] {'email_1': 'admin@saferide.com', 'param_1': 1}
2025-07-06 16:21:51,533 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:21:51,533 INFO sqlalchemy.engine.Engine [cached since 1.985e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1.985e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:21:51,537 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:21:51,537 INFO sqlalchemy.engine.Engine [cached since 1.985e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1.985e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:21:51,539 INFO sqlalchemy.engine.Engine UPDATE users SET updated_at=now(), last_login=%(last_login)s WHERE users.id = %(users_id)s
INFO:sqlalchemy.engine.Engine:UPDATE users SET updated_at=now(), last_login=%(last_login)s WHERE users.id = %(users_id)s
2025-07-06 16:21:51,539 INFO sqlalchemy.engine.Engine [cached since 1.985e+04s ago] {'last_login': datetime.datetime(2025, 7, 6, 13, 21, 51, 537941), 'users_id': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1.985e+04s ago] {'last_login': datetime.datetime(2025, 7, 6, 13, 21, 51, 537941), 'users_id': 'admin-001'}
2025-07-06 16:21:51,541 INFO sqlalchemy.engine.Engine COMMIT
INFO:sqlalchemy.engine.Engine:COMMIT
2025-07-06 16:21:51,543 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:21:51,543 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(pk_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(pk_1)s
2025-07-06 16:21:51,543 INFO sqlalchemy.engine.Engine [cached since 1.985e+04s ago] {'pk_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1.985e+04s ago] {'pk_1': 'admin-001'}
INFO:services.auth_service:Successful login for user admin@saferide.com from IP 127.0.0.1
2025-07-06 16:21:51,548 INFO sqlalchemy.engine.Engine INSERT INTO audit_logs (id, user_id, action, resource, resource_id, details, ip_address, user_agent, timestamp) VALUES (%(id)s, %(user_id)s, %(action)s, %(resource)s, %(resource_id)s, %(details)s, %(ip_address)s, %(user_agent)s, %(timestamp)s)
INFO:sqlalchemy.engine.Engine:INSERT INTO audit_logs (id, user_id, action, resource, resource_id, details, ip_address, user_agent, timestamp) VALUES (%(id)s, %(user_id)s, %(action)s, %(resource)s, %(resource_id)s, %(details)s, %(ip_address)s, %(user_agent)s, %(timestamp)s)
2025-07-06 16:21:51,548 INFO sqlalchemy.engine.Engine [cached since 1.985e+04s ago] {'id': '9e30165d-218a-4ddc-be90-bb31b2da9c1b', 'user_id': 'admin-001', 'action': 'login', 'resource': 'auth', 'resource_id': None, 'details': 'Login from IP 127.0.0.1', 'ip_address': '127.0.0.1', 'user_agent': 'Unknown', 'timestamp': datetime.datetime(2025, 7, 6, 13, 21, 51, 548079)}
INFO:sqlalchemy.engine.Engine:[cached since 1.985e+04s ago] {'id': '9e30165d-218a-4ddc-be90-bb31b2da9c1b', 'user_id': 'admin-001', 'action': 'login', 'resource': 'auth', 'resource_id': None, 'details': 'Login from IP 127.0.0.1', 'ip_address': '127.0.0.1', 'user_agent': 'Unknown', 'timestamp': datetime.datetime(2025, 7, 6, 13, 21, 51, 548079)}
2025-07-06 16:21:51,551 INFO sqlalchemy.engine.Engine COMMIT
INFO:sqlalchemy.engine.Engine:COMMIT
2025-07-06 16:21:51,553 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:21:51,553 INFO sqlalchemy.engine.Engine SELECT audit_logs.id, audit_logs.user_id, audit_logs.action, audit_logs.resource, audit_logs.resource_id, audit_logs.details, audit_logs.ip_address, audit_logs.user_agent, audit_logs.timestamp 
FROM audit_logs 
WHERE audit_logs.id = %(pk_1)s
INFO:sqlalchemy.engine.Engine:SELECT audit_logs.id, audit_logs.user_id, audit_logs.action, audit_logs.resource, audit_logs.resource_id, audit_logs.details, audit_logs.ip_address, audit_logs.user_agent, audit_logs.timestamp 
FROM audit_logs 
WHERE audit_logs.id = %(pk_1)s
2025-07-06 16:21:51,553 INFO sqlalchemy.engine.Engine [cached since 1.985e+04s ago] {'pk_1': '9e30165d-218a-4ddc-be90-bb31b2da9c1b'}
INFO:sqlalchemy.engine.Engine:[cached since 1.985e+04s ago] {'pk_1': '9e30165d-218a-4ddc-be90-bb31b2da9c1b'}
2025-07-06 16:21:51,555 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(pk_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(pk_1)s
2025-07-06 16:21:51,555 INFO sqlalchemy.engine.Engine [cached since 1.985e+04s ago] {'pk_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1.985e+04s ago] {'pk_1': 'admin-001'}
INFO:routes.auth:Login successful for user admin@saferide.com
2025-07-06 16:21:51,556 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:63991 - "POST /api/auth/login HTTP/1.1" 200 OK
INFO:     127.0.0.1:63989 - "OPTIONS /api/companies/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:63993 - "OPTIONS /api/companies/ HTTP/1.1" 200 OK
2025-07-06 16:21:51,583 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:21:51,584 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:21:51,584 INFO sqlalchemy.engine.Engine [cached since 1.985e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.985e+04s ago] {}
2025-07-06 16:21:51,585 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:21:51,585 INFO sqlalchemy.engine.Engine [cached since 1.984e+04s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1.984e+04s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 16:21:51,587 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:21:51,587 INFO sqlalchemy.engine.Engine [cached since 1.984e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1.984e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 16:21:51,588 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:21:51,588 INFO sqlalchemy.engine.Engine [cached since 1.984e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1.984e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 16:21:51,589 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:63993 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 16:21:51,590 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:21:51,590 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:21:51,590 INFO sqlalchemy.engine.Engine [cached since 1.985e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.985e+04s ago] {}
2025-07-06 16:21:51,591 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:21:51,591 INFO sqlalchemy.engine.Engine [cached since 1.984e+04s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1.984e+04s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 16:21:51,592 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:21:51,593 INFO sqlalchemy.engine.Engine [cached since 1.984e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1.984e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 16:21:51,593 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:21:51,593 INFO sqlalchemy.engine.Engine [cached since 1.984e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1.984e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 16:21:51,594 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:63993 - "OPTIONS /api/companies/drivers/available/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:63989 - "GET /api/companies/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:63993 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:63989 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:63993 - "OPTIONS /api/companies/drivers/available HTTP/1.1" 200 OK
INFO:     127.0.0.1:63989 - "OPTIONS /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 16:21:51,599 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:21:51,599 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:21:51,600 INFO sqlalchemy.engine.Engine [cached since 1.985e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.985e+04s ago] {}
2025-07-06 16:21:51,600 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:21:51,600 INFO sqlalchemy.engine.Engine [cached since 1.985e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1.985e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:21:51,603 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:63993 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 16:21:51,605 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:21:51,605 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:21:51,605 INFO sqlalchemy.engine.Engine [cached since 1.985e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.985e+04s ago] {}
2025-07-06 16:21:51,606 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:21:51,606 INFO sqlalchemy.engine.Engine [cached since 1.985e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1.985e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:21:51,607 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:63989 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
INFO:     127.0.0.1:64000 - "OPTIONS /api/admin/dashboard/metrics HTTP/1.1" 200 OK
2025-07-06 16:21:59,116 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:21:59,116 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:21:59,116 INFO sqlalchemy.engine.Engine [cached since 1.986e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.986e+04s ago] {}
2025-07-06 16:21:59,118 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users) AS anon_1
2025-07-06 16:21:59,118 INFO sqlalchemy.engine.Engine [cached since 1.986e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.986e+04s ago] {}
2025-07-06 16:21:59,120 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.is_active = true) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.is_active = true) AS anon_1
2025-07-06 16:21:59,120 INFO sqlalchemy.engine.Engine [cached since 1.986e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.986e+04s ago] {}
2025-07-06 16:21:59,121 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:21:59,121 INFO sqlalchemy.engine.Engine [cached since 1.986e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1.986e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:21:59,123 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies) AS anon_1
2025-07-06 16:21:59,123 INFO sqlalchemy.engine.Engine [cached since 1.986e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.986e+04s ago] {}
2025-07-06 16:21:59,124 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.is_active = true) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.is_active = true) AS anon_1
2025-07-06 16:21:59,124 INFO sqlalchemy.engine.Engine [cached since 1.986e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.986e+04s ago] {}
2025-07-06 16:21:59,125 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 16:21:59,125 INFO sqlalchemy.engine.Engine [cached since 1.986e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.986e+04s ago] {}
2025-07-06 16:21:59,129 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64002 - "GET /api/admin/dashboard/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64005 - "OPTIONS /api/children HTTP/1.1" 200 OK
INFO:     127.0.0.1:64006 - "OPTIONS /api/children HTTP/1.1" 200 OK
INFO:     127.0.0.1:64006 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:64005 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:64006 - "OPTIONS /api/children/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:64006 - "OPTIONS /api/children/ HTTP/1.1" 200 OK
2025-07-06 16:22:00,639 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:22:00,639 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:22:00,639 INFO sqlalchemy.engine.Engine [cached since 1.986e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.986e+04s ago] {}
2025-07-06 16:22:00,640 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:22:00,640 INFO sqlalchemy.engine.Engine [cached since 1.986e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1.986e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:22:00,641 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:22:00,642 INFO sqlalchemy.engine.Engine [cached since 1.986e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1.986e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:22:00,643 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 16:22:00,643 INFO sqlalchemy.engine.Engine [cached since 1.986e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.986e+04s ago] {}
2025-07-06 16:22:00,646 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64005 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 16:22:00,649 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:22:00,649 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:22:00,649 INFO sqlalchemy.engine.Engine [cached since 1.986e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.986e+04s ago] {}
2025-07-06 16:22:00,650 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:22:00,650 INFO sqlalchemy.engine.Engine [cached since 1.986e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1.986e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:22:00,651 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:22:00,651 INFO sqlalchemy.engine.Engine [cached since 1.986e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1.986e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:22:00,652 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 16:22:00,652 INFO sqlalchemy.engine.Engine [cached since 1.986e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.986e+04s ago] {}
2025-07-06 16:22:00,653 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64006 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 16:22:04,998 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:22:04,998 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:22:04,999 INFO sqlalchemy.engine.Engine [cached since 1.986e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.986e+04s ago] {}
2025-07-06 16:22:05,000 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:22:05,001 INFO sqlalchemy.engine.Engine [cached since 1.985e+04s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1.985e+04s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 16:22:05,002 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:22:05,002 INFO sqlalchemy.engine.Engine [cached since 1.985e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1.985e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 16:22:05,003 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:22:05,003 INFO sqlalchemy.engine.Engine [cached since 1.985e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1.985e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 16:22:05,004 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64006 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 16:22:05,006 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:22:05,006 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:22:05,007 INFO sqlalchemy.engine.Engine [cached since 1.986e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.986e+04s ago] {}
2025-07-06 16:22:05,008 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:22:05,008 INFO sqlalchemy.engine.Engine [cached since 1.985e+04s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1.985e+04s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 16:22:05,009 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:22:05,010 INFO sqlalchemy.engine.Engine [cached since 1.985e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1.985e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 16:22:05,011 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:22:05,011 INFO sqlalchemy.engine.Engine [cached since 1.985e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1.985e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 16:22:05,013 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64006 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:64005 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 16:22:05,017 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:22:05,018 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
INFO:     127.0.0.1:64005 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 16:22:05,019 INFO sqlalchemy.engine.Engine [cached since 1.986e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.986e+04s ago] {}
2025-07-06 16:22:05,020 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:22:05,020 INFO sqlalchemy.engine.Engine [cached since 1.986e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1.986e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:22:05,021 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64006 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 16:22:05,022 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:22:05,022 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:22:05,022 INFO sqlalchemy.engine.Engine [cached since 1.986e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.986e+04s ago] {}
2025-07-06 16:22:05,023 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:22:05,023 INFO sqlalchemy.engine.Engine [cached since 1.986e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1.986e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:22:05,025 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64005 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
INFO:     127.0.0.1:64011 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:64011 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
2025-07-06 16:22:10,299 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:22:10,300 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:22:10,300 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {}
2025-07-06 16:22:10,301 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:22:10,301 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:22:10,303 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:22:10,303 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:22:10,304 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 16:22:10,304 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {}
2025-07-06 16:22:10,306 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64011 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 16:22:10,309 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:22:10,309 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:22:10,310 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {}
2025-07-06 16:22:10,312 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:22:10,312 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:22:10,314 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:22:10,314 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:22:10,315 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 16:22:10,315 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {}
2025-07-06 16:22:10,317 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64013 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 16:22:10,965 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:22:10,966 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:22:10,966 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {}
2025-07-06 16:22:10,968 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:22:10,968 INFO sqlalchemy.engine.Engine [cached since 1.986e+04s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1.986e+04s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 16:22:10,969 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:22:10,969 INFO sqlalchemy.engine.Engine [cached since 1.986e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1.986e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 16:22:10,970 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:22:10,971 INFO sqlalchemy.engine.Engine [cached since 1.986e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1.986e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 16:22:10,972 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64015 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 16:22:10,975 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:22:10,975 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:22:10,975 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {}
2025-07-06 16:22:10,976 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:22:10,977 INFO sqlalchemy.engine.Engine [cached since 1.986e+04s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1.986e+04s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 16:22:10,978 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:22:10,978 INFO sqlalchemy.engine.Engine [cached since 1.986e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1.986e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 16:22:10,979 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:22:10,979 INFO sqlalchemy.engine.Engine [cached since 1.986e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1.986e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 16:22:10,981 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64015 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:64017 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 16:22:10,985 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
INFO:     127.0.0.1:64015 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 16:22:10,986 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:22:10,986 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {}
2025-07-06 16:22:10,988 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:22:10,988 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:22:10,990 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64017 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 16:22:10,992 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:22:10,992 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:22:10,992 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {}
2025-07-06 16:22:10,994 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:22:10,994 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:22:10,996 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64015 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 16:22:11,574 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:22:11,575 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:22:11,575 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {}
2025-07-06 16:22:11,577 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users) AS anon_1
2025-07-06 16:22:11,577 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {}
2025-07-06 16:22:11,578 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.is_active = true) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.is_active = true) AS anon_1
2025-07-06 16:22:11,578 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {}
2025-07-06 16:22:11,579 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:22:11,580 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:22:11,581 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies) AS anon_1
2025-07-06 16:22:11,581 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {}
2025-07-06 16:22:11,582 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.is_active = true) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.is_active = true) AS anon_1
2025-07-06 16:22:11,583 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {}
2025-07-06 16:22:11,584 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 16:22:11,584 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {}
2025-07-06 16:22:11,588 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64019 - "GET /api/admin/dashboard/metrics HTTP/1.1" 200 OK
2025-07-06 16:22:14,759 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:22:14,759 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:22:14,759 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {}
2025-07-06 16:22:14,761 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:22:14,761 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:22:14,764 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:22:14,764 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:22:14,767 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:22:14,767 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:22:14,768 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:22:14,768 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:22:14,769 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64019 - "GET /api/auth/me HTTP/1.1" 200 OK
2025-07-06 16:22:14,772 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:22:14,772 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:22:14,772 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {}
2025-07-06 16:22:14,773 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:22:14,774 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:22:14,775 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:22:14,776 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:22:14,778 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:22:14,778 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:22:14,778 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:22:14,779 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:22:14,780 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64019 - "GET /api/auth/me HTTP/1.1" 200 OK
2025-07-06 16:22:14,858 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:22:14,858 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:22:14,859 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {}
2025-07-06 16:22:14,862 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users) AS anon_1
2025-07-06 16:22:14,862 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {}
2025-07-06 16:22:14,864 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.is_active = true) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.is_active = true) AS anon_1
2025-07-06 16:22:14,864 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {}
2025-07-06 16:22:14,865 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:22:14,865 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:22:14,866 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies) AS anon_1
2025-07-06 16:22:14,866 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {}
2025-07-06 16:22:14,867 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.is_active = true) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.is_active = true) AS anon_1
2025-07-06 16:22:14,867 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {}
2025-07-06 16:22:14,867 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 16:22:14,868 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {}
2025-07-06 16:22:14,869 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64019 - "GET /api/admin/dashboard/metrics HTTP/1.1" 200 OK
2025-07-06 16:22:14,871 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:22:14,871 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:22:14,871 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {}
2025-07-06 16:22:14,872 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users) AS anon_1
2025-07-06 16:22:14,872 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {}
2025-07-06 16:22:14,873 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.is_active = true) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.is_active = true) AS anon_1
2025-07-06 16:22:14,873 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {}
2025-07-06 16:22:14,874 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:22:14,874 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:22:14,875 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies) AS anon_1
2025-07-06 16:22:14,875 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {}
2025-07-06 16:22:14,877 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.is_active = true) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.is_active = true) AS anon_1
2025-07-06 16:22:14,877 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {}
2025-07-06 16:22:14,878 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 16:22:14,878 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {}
2025-07-06 16:22:14,879 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64029 - "GET /api/admin/dashboard/metrics HTTP/1.1" 200 OK
2025-07-06 16:22:16,063 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:22:16,064 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:22:16,064 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {}
2025-07-06 16:22:16,066 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:22:16,066 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 16:22:16,067 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:22:16,067 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 16:22:16,068 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:22:16,068 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 16:22:16,070 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64031 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 16:22:16,073 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:22:16,073 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:22:16,074 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {}
2025-07-06 16:22:16,076 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:22:16,076 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 16:22:16,078 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:22:16,078 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 16:22:16,080 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:22:16,080 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:     127.0.0.1:64031 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 16:22:16,082 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64033 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 16:22:16,084 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:22:16,085 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:22:16,085 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {}
2025-07-06 16:22:16,086 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:22:16,086 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:22:16,088 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64033 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:64031 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 16:22:16,091 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:22:16,091 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:22:16,091 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {}
2025-07-06 16:22:16,093 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:22:16,093 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:22:16,094 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64031 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
INFO:     127.0.0.1:64031 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:64033 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
2025-07-06 16:22:17,826 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:22:17,826 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:22:17,826 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {}
2025-07-06 16:22:17,828 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:22:17,829 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:22:17,830 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:22:17,831 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:22:17,833 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 16:22:17,833 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {}
2025-07-06 16:22:17,835 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64033 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 16:22:17,837 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:22:17,837 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:22:17,838 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {}
2025-07-06 16:22:17,839 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:22:17,839 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:22:17,840 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:22:17,840 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:22:17,841 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 16:22:17,841 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {}
2025-07-06 16:22:17,842 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64031 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 16:22:23,777 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:22:23,778 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:22:23,778 INFO sqlalchemy.engine.Engine [cached since 1.988e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.988e+04s ago] {}
2025-07-06 16:22:23,780 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:22:23,780 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 16:22:23,781 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:22:23,782 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 16:22:23,783 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:22:23,783 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 16:22:23,784 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64037 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 16:22:23,790 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:22:23,791 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
INFO:     127.0.0.1:64039 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 16:22:23,791 INFO sqlalchemy.engine.Engine [cached since 1.988e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.988e+04s ago] {}
2025-07-06 16:22:23,793 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:22:23,793 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 16:22:23,795 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:22:23,795 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 16:22:23,795 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:22:23,795 INFO sqlalchemy.engine.Engine [cached since 1.987e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1.987e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 16:22:23,797 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64037 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 16:22:23,798 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:22:23,798 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:22:23,798 INFO sqlalchemy.engine.Engine [cached since 1.988e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.988e+04s ago] {}
2025-07-06 16:22:23,800 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:22:23,800 INFO sqlalchemy.engine.Engine [cached since 1.988e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1.988e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:22:23,801 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64037 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:64039 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 16:22:23,804 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:22:23,804 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:22:23,804 INFO sqlalchemy.engine.Engine [cached since 1.988e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.988e+04s ago] {}
2025-07-06 16:22:23,805 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:22:23,805 INFO sqlalchemy.engine.Engine [cached since 1.988e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1.988e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:22:23,806 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64037 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
INFO:     127.0.0.1:64037 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:64039 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
2025-07-06 16:22:24,231 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:22:24,232 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:22:24,232 INFO sqlalchemy.engine.Engine [cached since 1.988e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.988e+04s ago] {}
2025-07-06 16:22:24,234 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:22:24,234 INFO sqlalchemy.engine.Engine [cached since 1.988e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1.988e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:22:24,235 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:22:24,235 INFO sqlalchemy.engine.Engine [cached since 1.988e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1.988e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:22:24,237 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 16:22:24,237 INFO sqlalchemy.engine.Engine [cached since 1.988e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.988e+04s ago] {}
2025-07-06 16:22:24,239 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64039 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 16:22:24,241 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:22:24,242 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:22:24,242 INFO sqlalchemy.engine.Engine [cached since 1.988e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.988e+04s ago] {}
2025-07-06 16:22:24,243 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:22:24,243 INFO sqlalchemy.engine.Engine [cached since 1.988e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1.988e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:22:24,244 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:22:24,244 INFO sqlalchemy.engine.Engine [cached since 1.988e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1.988e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:22:24,245 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 16:22:24,246 INFO sqlalchemy.engine.Engine [cached since 1.988e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.988e+04s ago] {}
2025-07-06 16:22:24,247 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64037 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 16:22:29,381 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:22:29,381 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:22:29,381 INFO sqlalchemy.engine.Engine [cached since 1.989e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.989e+04s ago] {}
2025-07-06 16:22:29,384 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:22:29,384 INFO sqlalchemy.engine.Engine [cached since 1.988e+04s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1.988e+04s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 16:22:29,386 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:22:29,386 INFO sqlalchemy.engine.Engine [cached since 1.988e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1.988e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 16:22:29,387 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:22:29,387 INFO sqlalchemy.engine.Engine [cached since 1.988e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1.988e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 16:22:29,388 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64044 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 16:22:29,392 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:22:29,392 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:22:29,392 INFO sqlalchemy.engine.Engine [cached since 1.989e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.989e+04s ago] {}
2025-07-06 16:22:29,394 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:22:29,394 INFO sqlalchemy.engine.Engine [cached since 1.988e+04s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1.988e+04s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 16:22:29,395 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:22:29,395 INFO sqlalchemy.engine.Engine [cached since 1.988e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1.988e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 16:22:29,396 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:22:29,396 INFO sqlalchemy.engine.Engine [cached since 1.988e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1.988e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 16:22:29,398 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64046 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:64044 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 16:22:29,401 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:22:29,401 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:22:29,401 INFO sqlalchemy.engine.Engine [cached since 1.989e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.989e+04s ago] {}
INFO:     127.0.0.1:64044 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 16:22:29,404 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:22:29,404 INFO sqlalchemy.engine.Engine [cached since 1.989e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1.989e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:22:29,406 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64046 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 16:22:29,408 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:22:29,408 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:22:29,408 INFO sqlalchemy.engine.Engine [cached since 1.989e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.989e+04s ago] {}
2025-07-06 16:22:29,409 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:22:29,409 INFO sqlalchemy.engine.Engine [cached since 1.989e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1.989e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:22:29,410 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64044 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
INFO:     127.0.0.1:64044 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:64046 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
2025-07-06 16:22:29,865 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:22:29,866 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:22:29,866 INFO sqlalchemy.engine.Engine [cached since 1.989e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.989e+04s ago] {}
2025-07-06 16:22:29,868 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:22:29,868 INFO sqlalchemy.engine.Engine [cached since 1.989e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1.989e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:22:29,869 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:22:29,870 INFO sqlalchemy.engine.Engine [cached since 1.989e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1.989e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:22:29,871 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 16:22:29,871 INFO sqlalchemy.engine.Engine [cached since 1.989e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.989e+04s ago] {}
2025-07-06 16:22:29,873 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64046 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 16:22:29,875 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:22:29,875 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:22:29,876 INFO sqlalchemy.engine.Engine [cached since 1.989e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.989e+04s ago] {}
2025-07-06 16:22:29,877 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:22:29,877 INFO sqlalchemy.engine.Engine [cached since 1.989e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1.989e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:22:29,878 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:22:29,878 INFO sqlalchemy.engine.Engine [cached since 1.989e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1.989e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:22:29,880 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 16:22:29,880 INFO sqlalchemy.engine.Engine [cached since 1.989e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.989e+04s ago] {}
2025-07-06 16:22:29,881 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64044 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 16:22:30,823 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:22:30,823 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:22:30,824 INFO sqlalchemy.engine.Engine [cached since 1.989e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.989e+04s ago] {}
2025-07-06 16:22:30,825 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:22:30,826 INFO sqlalchemy.engine.Engine [cached since 1.988e+04s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1.988e+04s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 16:22:30,827 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:22:30,827 INFO sqlalchemy.engine.Engine [cached since 1.988e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1.988e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 16:22:30,828 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:22:30,828 INFO sqlalchemy.engine.Engine [cached since 1.988e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1.988e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 16:22:30,829 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64048 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 16:22:30,832 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:22:30,832 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:22:30,833 INFO sqlalchemy.engine.Engine [cached since 1.989e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.989e+04s ago] {}
INFO:     127.0.0.1:64050 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 16:22:30,834 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:22:30,835 INFO sqlalchemy.engine.Engine [cached since 1.988e+04s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1.988e+04s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 16:22:30,836 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:22:30,836 INFO sqlalchemy.engine.Engine [cached since 1.988e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 1.988e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 16:22:30,837 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:22:30,837 INFO sqlalchemy.engine.Engine [cached since 1.988e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 1.988e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 16:22:30,838 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-07-06 16:22:30,839 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
INFO:     127.0.0.1:64048 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 16:22:30,839 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:22:30,839 INFO sqlalchemy.engine.Engine [cached since 1.989e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.989e+04s ago] {}
2025-07-06 16:22:30,845 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:22:30,845 INFO sqlalchemy.engine.Engine [cached since 1.989e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1.989e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:22:30,848 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64048 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:64050 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 16:22:30,852 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:22:30,852 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:22:30,852 INFO sqlalchemy.engine.Engine [cached since 1.989e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.989e+04s ago] {}
2025-07-06 16:22:30,853 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:22:30,854 INFO sqlalchemy.engine.Engine [cached since 1.989e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 1.989e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:22:30,855 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64050 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
INFO:     127.0.0.1:64050 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:64048 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
2025-07-06 16:22:31,278 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:22:31,278 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:22:31,279 INFO sqlalchemy.engine.Engine [cached since 1.989e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.989e+04s ago] {}
2025-07-06 16:22:31,281 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:22:31,281 INFO sqlalchemy.engine.Engine [cached since 1.989e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1.989e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:22:31,283 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:22:31,283 INFO sqlalchemy.engine.Engine [cached since 1.989e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1.989e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:22:31,285 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 16:22:31,285 INFO sqlalchemy.engine.Engine [cached since 1.989e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.989e+04s ago] {}
2025-07-06 16:22:31,286 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64048 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 16:22:31,289 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:22:31,289 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:22:31,289 INFO sqlalchemy.engine.Engine [cached since 1.989e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.989e+04s ago] {}
2025-07-06 16:22:31,291 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:22:31,291 INFO sqlalchemy.engine.Engine [cached since 1.989e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1.989e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:22:31,292 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:22:31,292 INFO sqlalchemy.engine.Engine [cached since 1.989e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1.989e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:22:31,293 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 16:22:31,293 INFO sqlalchemy.engine.Engine [cached since 1.989e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.989e+04s ago] {}
2025-07-06 16:22:31,295 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64050 - "GET /api/children/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:64220 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
2025-07-06 16:24:04,899 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:24:04,900 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:24:04,900 INFO sqlalchemy.engine.Engine [cached since 1.998e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.998e+04s ago] {}
2025-07-06 16:24:04,903 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:24:04,903 INFO sqlalchemy.engine.Engine [cached since 1.998e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 1.998e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:24:04,905 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:24:04,905 INFO sqlalchemy.engine.Engine [cached since 1.998e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 1.998e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:24:04,907 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 16:24:04,907 INFO sqlalchemy.engine.Engine [cached since 1.998e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 1.998e+04s ago] {}
2025-07-06 16:24:04,908 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64220 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 16:25:42,495 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:25:42,496 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:25:42,496 INFO sqlalchemy.engine.Engine [cached since 2.008e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.008e+04s ago] {}
2025-07-06 16:25:42,499 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:25:42,499 INFO sqlalchemy.engine.Engine [cached since 2.008e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 2.008e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:25:42,501 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:25:42,501 INFO sqlalchemy.engine.Engine [cached since 2.008e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 2.008e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:25:42,503 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:25:42,503 INFO sqlalchemy.engine.Engine [cached since 2.008e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 2.008e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:25:42,503 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:25:42,503 INFO sqlalchemy.engine.Engine [cached since 2.008e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 2.008e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:25:42,504 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64630 - "GET /api/auth/me HTTP/1.1" 200 OK
2025-07-06 16:25:42,507 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:25:42,507 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:25:42,507 INFO sqlalchemy.engine.Engine [cached since 2.008e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.008e+04s ago] {}
2025-07-06 16:25:42,508 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:25:42,508 INFO sqlalchemy.engine.Engine [cached since 2.008e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 2.008e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:25:42,509 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:25:42,509 INFO sqlalchemy.engine.Engine [cached since 2.008e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 2.008e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:25:42,510 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:25:42,510 INFO sqlalchemy.engine.Engine [cached since 2.008e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 2.008e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:25:42,511 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:25:42,511 INFO sqlalchemy.engine.Engine [cached since 2.008e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 2.008e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:25:42,511 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64630 - "GET /api/auth/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:64634 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:64634 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
2025-07-06 16:25:42,682 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:25:42,682 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:25:42,683 INFO sqlalchemy.engine.Engine [cached since 2.008e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.008e+04s ago] {}
2025-07-06 16:25:42,684 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:25:42,684 INFO sqlalchemy.engine.Engine [cached since 2.008e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 2.008e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:25:42,685 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:25:42,685 INFO sqlalchemy.engine.Engine [cached since 2.008e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 2.008e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:25:42,689 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 16:25:42,689 INFO sqlalchemy.engine.Engine [cached since 2.008e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.008e+04s ago] {}
2025-07-06 16:25:42,693 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64634 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 16:25:42,704 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:25:42,705 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:25:42,705 INFO sqlalchemy.engine.Engine [cached since 2.008e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.008e+04s ago] {}
2025-07-06 16:25:42,707 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:25:42,707 INFO sqlalchemy.engine.Engine [cached since 2.008e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 2.008e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:25:42,711 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:25:42,711 INFO sqlalchemy.engine.Engine [cached since 2.008e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 2.008e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:25:42,714 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 16:25:42,714 INFO sqlalchemy.engine.Engine [cached since 2.008e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.008e+04s ago] {}
2025-07-06 16:25:42,716 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64636 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 16:25:45,911 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:25:45,911 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:25:45,911 INFO sqlalchemy.engine.Engine [cached since 2.008e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.008e+04s ago] {}
2025-07-06 16:25:45,914 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:25:45,914 INFO sqlalchemy.engine.Engine [cached since 2.008e+04s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.008e+04s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 16:25:45,916 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:25:45,916 INFO sqlalchemy.engine.Engine [cached since 2.008e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 2.008e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 16:25:45,917 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:25:45,917 INFO sqlalchemy.engine.Engine [cached since 2.008e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 2.008e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 16:25:45,918 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64639 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 16:25:45,924 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:25:45,925 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
INFO:     127.0.0.1:64641 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 16:25:45,925 INFO sqlalchemy.engine.Engine [cached since 2.008e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.008e+04s ago] {}
2025-07-06 16:25:45,926 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:25:45,927 INFO sqlalchemy.engine.Engine [cached since 2.008e+04s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.008e+04s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 16:25:45,928 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:25:45,928 INFO sqlalchemy.engine.Engine [cached since 2.008e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 2.008e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 16:25:45,929 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:25:45,929 INFO sqlalchemy.engine.Engine [cached since 2.008e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 2.008e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 16:25:45,931 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-07-06 16:25:45,932 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
INFO:     127.0.0.1:64639 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 16:25:45,932 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:25:45,933 INFO sqlalchemy.engine.Engine [cached since 2.008e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.008e+04s ago] {}
2025-07-06 16:25:45,935 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:25:45,935 INFO sqlalchemy.engine.Engine [cached since 2.008e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.008e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:25:45,937 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64639 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:64641 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 16:25:45,940 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:25:45,940 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:25:45,940 INFO sqlalchemy.engine.Engine [cached since 2.008e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.008e+04s ago] {}
2025-07-06 16:25:45,942 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:25:45,942 INFO sqlalchemy.engine.Engine [cached since 2.008e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.008e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:25:45,943 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64641 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
INFO:     127.0.0.1:64641 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:64639 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
2025-07-06 16:25:46,375 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:25:46,375 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:25:46,375 INFO sqlalchemy.engine.Engine [cached since 2.008e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.008e+04s ago] {}
2025-07-06 16:25:46,376 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:25:46,376 INFO sqlalchemy.engine.Engine [cached since 2.008e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 2.008e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:25:46,377 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:25:46,378 INFO sqlalchemy.engine.Engine [cached since 2.008e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 2.008e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:25:46,379 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 16:25:46,379 INFO sqlalchemy.engine.Engine [cached since 2.008e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.008e+04s ago] {}
2025-07-06 16:25:46,380 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64641 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 16:25:46,383 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:25:46,384 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:25:46,384 INFO sqlalchemy.engine.Engine [cached since 2.008e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.008e+04s ago] {}
2025-07-06 16:25:46,385 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:25:46,385 INFO sqlalchemy.engine.Engine [cached since 2.008e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 2.008e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:25:46,386 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:25:46,386 INFO sqlalchemy.engine.Engine [cached since 2.008e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 2.008e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:25:46,387 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 16:25:46,388 INFO sqlalchemy.engine.Engine [cached since 2.008e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.008e+04s ago] {}
2025-07-06 16:25:46,389 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64639 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 16:25:48,580 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:25:48,581 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:25:48,581 INFO sqlalchemy.engine.Engine [cached since 2.009e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.009e+04s ago] {}
2025-07-06 16:25:48,583 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:25:48,583 INFO sqlalchemy.engine.Engine [cached since 2.008e+04s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.008e+04s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 16:25:48,585 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:25:48,585 INFO sqlalchemy.engine.Engine [cached since 2.008e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 2.008e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 16:25:48,586 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:25:48,586 INFO sqlalchemy.engine.Engine [cached since 2.008e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 2.008e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 16:25:48,588 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64639 - "GET /api/companies/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:64639 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 16:25:48,597 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:25:48,598 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:25:48,598 INFO sqlalchemy.engine.Engine [cached since 2.009e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.009e+04s ago] {}
2025-07-06 16:25:48,600 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:25:48,600 INFO sqlalchemy.engine.Engine [cached since 2.008e+04s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.008e+04s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 16:25:48,601 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:25:48,601 INFO sqlalchemy.engine.Engine [cached since 2.008e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 2.008e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 16:25:48,602 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:25:48,602 INFO sqlalchemy.engine.Engine [cached since 2.008e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 2.008e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 16:25:48,604 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-07-06 16:25:48,605 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:25:48,605 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
INFO:     127.0.0.1:64641 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 16:25:48,605 INFO sqlalchemy.engine.Engine [cached since 2.009e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.009e+04s ago] {}
2025-07-06 16:25:48,606 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:25:48,606 INFO sqlalchemy.engine.Engine [cached since 2.009e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.009e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:25:48,608 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64641 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:64639 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 16:25:48,612 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:25:48,612 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:25:48,612 INFO sqlalchemy.engine.Engine [cached since 2.009e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.009e+04s ago] {}
2025-07-06 16:25:48,613 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:25:48,613 INFO sqlalchemy.engine.Engine [cached since 2.009e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.009e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:25:48,614 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64639 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 16:25:52,913 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:25:52,914 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:25:52,914 INFO sqlalchemy.engine.Engine [cached since 2.009e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.009e+04s ago] {}
2025-07-06 16:25:52,916 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users) AS anon_1
2025-07-06 16:25:52,916 INFO sqlalchemy.engine.Engine [cached since 2.009e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.009e+04s ago] {}
2025-07-06 16:25:52,918 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.is_active = true) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.is_active = true) AS anon_1
2025-07-06 16:25:52,918 INFO sqlalchemy.engine.Engine [cached since 2.009e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.009e+04s ago] {}
2025-07-06 16:25:52,919 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:25:52,919 INFO sqlalchemy.engine.Engine [cached since 2.009e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.009e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:25:52,921 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies) AS anon_1
2025-07-06 16:25:52,922 INFO sqlalchemy.engine.Engine [cached since 2.009e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.009e+04s ago] {}
2025-07-06 16:25:52,923 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.is_active = true) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.is_active = true) AS anon_1
2025-07-06 16:25:52,923 INFO sqlalchemy.engine.Engine [cached since 2.009e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.009e+04s ago] {}
2025-07-06 16:25:52,924 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 16:25:52,924 INFO sqlalchemy.engine.Engine [cached since 2.009e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.009e+04s ago] {}
2025-07-06 16:25:52,926 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64645 - "GET /api/admin/dashboard/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:64649 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:64649 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
2025-07-06 16:25:54,183 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:25:54,183 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:25:54,183 INFO sqlalchemy.engine.Engine [cached since 2.009e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.009e+04s ago] {}
2025-07-06 16:25:54,185 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:25:54,185 INFO sqlalchemy.engine.Engine [cached since 2.009e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 2.009e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:25:54,187 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:25:54,187 INFO sqlalchemy.engine.Engine [cached since 2.009e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 2.009e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:25:54,189 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 16:25:54,189 INFO sqlalchemy.engine.Engine [cached since 2.009e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.009e+04s ago] {}
2025-07-06 16:25:54,192 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64651 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 16:25:54,195 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:25:54,195 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:25:54,195 INFO sqlalchemy.engine.Engine [cached since 2.009e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.009e+04s ago] {}
2025-07-06 16:25:54,196 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:25:54,196 INFO sqlalchemy.engine.Engine [cached since 2.009e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 2.009e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:25:54,197 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:25:54,197 INFO sqlalchemy.engine.Engine [cached since 2.009e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 2.009e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:25:54,199 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 16:25:54,199 INFO sqlalchemy.engine.Engine [cached since 2.009e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.009e+04s ago] {}
2025-07-06 16:25:54,201 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64649 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 16:25:54,996 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:25:54,996 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:25:54,996 INFO sqlalchemy.engine.Engine [cached since 2.009e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.009e+04s ago] {}
2025-07-06 16:25:54,998 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:25:54,998 INFO sqlalchemy.engine.Engine [cached since 2.008e+04s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.008e+04s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 16:25:55,000 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:25:55,000 INFO sqlalchemy.engine.Engine [cached since 2.008e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 2.008e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 16:25:55,001 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:25:55,001 INFO sqlalchemy.engine.Engine [cached since 2.008e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 2.008e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 16:25:55,002 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64649 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 16:25:55,007 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:25:55,007 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:25:55,008 INFO sqlalchemy.engine.Engine [cached since 2.009e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.009e+04s ago] {}
INFO:     127.0.0.1:64649 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 16:25:55,010 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:25:55,010 INFO sqlalchemy.engine.Engine [cached since 2.008e+04s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.008e+04s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 16:25:55,011 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:25:55,012 INFO sqlalchemy.engine.Engine [cached since 2.008e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 2.008e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 16:25:55,013 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:25:55,013 INFO sqlalchemy.engine.Engine [cached since 2.008e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 2.008e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 16:25:55,014 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-07-06 16:25:55,015 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:25:55,015 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
INFO:     127.0.0.1:64651 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 16:25:55,015 INFO sqlalchemy.engine.Engine [cached since 2.009e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.009e+04s ago] {}
2025-07-06 16:25:55,018 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:25:55,018 INFO sqlalchemy.engine.Engine [cached since 2.009e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.009e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:25:55,020 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64651 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:64649 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 16:25:55,024 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:25:55,024 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:25:55,024 INFO sqlalchemy.engine.Engine [cached since 2.009e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.009e+04s ago] {}
2025-07-06 16:25:55,025 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:25:55,026 INFO sqlalchemy.engine.Engine [cached since 2.009e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.009e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:25:55,027 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64649 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
INFO:     127.0.0.1:64654 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:64654 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
2025-07-06 16:25:57,600 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:25:57,600 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:25:57,600 INFO sqlalchemy.engine.Engine [cached since 2.009e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.009e+04s ago] {}
2025-07-06 16:25:57,602 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:25:57,602 INFO sqlalchemy.engine.Engine [cached since 2.009e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 2.009e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:25:57,603 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:25:57,604 INFO sqlalchemy.engine.Engine [cached since 2.009e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 2.009e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:25:57,605 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 16:25:57,606 INFO sqlalchemy.engine.Engine [cached since 2.009e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.009e+04s ago] {}
2025-07-06 16:25:57,608 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64656 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 16:25:57,611 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:25:57,611 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:25:57,611 INFO sqlalchemy.engine.Engine [cached since 2.009e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.009e+04s ago] {}
2025-07-06 16:25:57,613 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:25:57,613 INFO sqlalchemy.engine.Engine [cached since 2.009e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 2.009e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:25:57,615 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:25:57,615 INFO sqlalchemy.engine.Engine [cached since 2.009e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 2.009e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:25:57,617 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 16:25:57,617 INFO sqlalchemy.engine.Engine [cached since 2.009e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.009e+04s ago] {}
2025-07-06 16:25:57,619 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:64654 - "GET /api/children/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:65050 - "OPTIONS /api/companies/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:65051 - "OPTIONS /api/companies/ HTTP/1.1" 200 OK
2025-07-06 16:32:44,373 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:32:44,374 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:32:44,377 INFO sqlalchemy.engine.Engine [cached since 2.05e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.05e+04s ago] {}
2025-07-06 16:32:44,380 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:32:44,380 INFO sqlalchemy.engine.Engine [cached since 2.049e+04s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.049e+04s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 16:32:44,382 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:32:44,382 INFO sqlalchemy.engine.Engine [cached since 2.049e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 2.049e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 16:32:44,383 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:32:44,383 INFO sqlalchemy.engine.Engine [cached since 2.049e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 2.049e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 16:32:44,384 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65051 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 16:32:44,386 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:32:44,386 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:32:44,387 INFO sqlalchemy.engine.Engine [cached since 2.05e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.05e+04s ago] {}
INFO:     127.0.0.1:65051 - "OPTIONS /api/companies/drivers/available/ HTTP/1.1" 200 OK
2025-07-06 16:32:44,388 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:32:44,388 INFO sqlalchemy.engine.Engine [cached since 2.049e+04s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.049e+04s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 16:32:44,389 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:32:44,389 INFO sqlalchemy.engine.Engine [cached since 2.049e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 2.049e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 16:32:44,390 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:32:44,390 INFO sqlalchemy.engine.Engine [cached since 2.049e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 2.049e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 16:32:44,391 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65051 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:65050 - "GET /api/companies/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:65051 - "OPTIONS /api/companies/drivers/available HTTP/1.1" 200 OK
INFO:     127.0.0.1:65050 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 16:32:44,396 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:32:44,396 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:32:44,396 INFO sqlalchemy.engine.Engine [cached since 2.05e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.05e+04s ago] {}
2025-07-06 16:32:44,397 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:32:44,397 INFO sqlalchemy.engine.Engine [cached since 2.05e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.05e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:32:44,398 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65051 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 16:32:44,399 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:32:44,399 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:32:44,399 INFO sqlalchemy.engine.Engine [cached since 2.05e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.05e+04s ago] {}
2025-07-06 16:32:44,400 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:32:44,400 INFO sqlalchemy.engine.Engine [cached since 2.05e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.05e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:32:44,401 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65050 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
INFO:     127.0.0.1:65050 - "OPTIONS /api/admin/dashboard/metrics HTTP/1.1" 200 OK
2025-07-06 16:32:45,101 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:32:45,101 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:32:45,101 INFO sqlalchemy.engine.Engine [cached since 2.05e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.05e+04s ago] {}
2025-07-06 16:32:45,103 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users) AS anon_1
2025-07-06 16:32:45,103 INFO sqlalchemy.engine.Engine [cached since 2.05e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.05e+04s ago] {}
2025-07-06 16:32:45,104 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.is_active = true) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.is_active = true) AS anon_1
2025-07-06 16:32:45,104 INFO sqlalchemy.engine.Engine [cached since 2.05e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.05e+04s ago] {}
2025-07-06 16:32:45,105 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:32:45,105 INFO sqlalchemy.engine.Engine [cached since 2.05e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.05e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:32:45,107 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies) AS anon_1
2025-07-06 16:32:45,108 INFO sqlalchemy.engine.Engine [cached since 2.05e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.05e+04s ago] {}
2025-07-06 16:32:45,110 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.is_active = true) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.is_active = true) AS anon_1
2025-07-06 16:32:45,110 INFO sqlalchemy.engine.Engine [cached since 2.05e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.05e+04s ago] {}
2025-07-06 16:32:45,111 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 16:32:45,111 INFO sqlalchemy.engine.Engine [cached since 2.05e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.05e+04s ago] {}
2025-07-06 16:32:45,113 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65053 - "GET /api/admin/dashboard/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:65056 - "OPTIONS /api/children HTTP/1.1" 200 OK
INFO:     127.0.0.1:65057 - "OPTIONS /api/children HTTP/1.1" 200 OK
INFO:     127.0.0.1:65057 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:65056 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:65057 - "OPTIONS /api/children/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:65056 - "OPTIONS /api/children/ HTTP/1.1" 200 OK
2025-07-06 16:32:49,172 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:32:49,173 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:32:49,173 INFO sqlalchemy.engine.Engine [cached since 2.051e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.051e+04s ago] {}
2025-07-06 16:32:49,176 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:32:49,176 INFO sqlalchemy.engine.Engine [cached since 2.051e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 2.051e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:32:49,178 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:32:49,178 INFO sqlalchemy.engine.Engine [cached since 2.051e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 2.051e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:32:49,180 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 16:32:49,180 INFO sqlalchemy.engine.Engine [cached since 2.051e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.051e+04s ago] {}
2025-07-06 16:32:49,181 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65057 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 16:32:49,184 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:32:49,185 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:32:49,185 INFO sqlalchemy.engine.Engine [cached since 2.051e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.051e+04s ago] {}
2025-07-06 16:32:49,186 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:32:49,186 INFO sqlalchemy.engine.Engine [cached since 2.051e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 2.051e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:32:49,187 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:32:49,187 INFO sqlalchemy.engine.Engine [cached since 2.051e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 2.051e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:32:49,189 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 16:32:49,189 INFO sqlalchemy.engine.Engine [cached since 2.051e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.051e+04s ago] {}
2025-07-06 16:32:49,192 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65057 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 16:32:50,513 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:32:50,514 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:32:50,514 INFO sqlalchemy.engine.Engine [cached since 2.051e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.051e+04s ago] {}
2025-07-06 16:32:50,515 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:32:50,515 INFO sqlalchemy.engine.Engine [cached since 2.05e+04s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.05e+04s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 16:32:50,516 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:32:50,516 INFO sqlalchemy.engine.Engine [cached since 2.05e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 2.05e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 16:32:50,517 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:32:50,517 INFO sqlalchemy.engine.Engine [cached since 2.05e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 2.05e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 16:32:50,517 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65057 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 16:32:50,520 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:32:50,520 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:32:50,520 INFO sqlalchemy.engine.Engine [cached since 2.051e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.051e+04s ago] {}
2025-07-06 16:32:50,521 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:32:50,522 INFO sqlalchemy.engine.Engine [cached since 2.05e+04s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.05e+04s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 16:32:50,522 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:32:50,523 INFO sqlalchemy.engine.Engine [cached since 2.05e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 2.05e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 16:32:50,524 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:32:50,524 INFO sqlalchemy.engine.Engine [cached since 2.05e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 2.05e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 16:32:50,526 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65057 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:65059 - "GET /api/companies/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:65057 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 16:32:50,530 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:32:50,530 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:32:50,531 INFO sqlalchemy.engine.Engine [cached since 2.051e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.051e+04s ago] {}
2025-07-06 16:32:50,531 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:32:50,531 INFO sqlalchemy.engine.Engine [cached since 2.051e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.051e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:32:50,532 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65059 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 16:32:50,534 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:32:50,534 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:32:50,534 INFO sqlalchemy.engine.Engine [cached since 2.051e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.051e+04s ago] {}
2025-07-06 16:32:50,535 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:32:50,535 INFO sqlalchemy.engine.Engine [cached since 2.051e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.051e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:32:50,535 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65057 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 16:32:52,563 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:32:52,563 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:32:52,564 INFO sqlalchemy.engine.Engine [cached since 2.051e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.051e+04s ago] {}
2025-07-06 16:32:52,565 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users) AS anon_1
2025-07-06 16:32:52,565 INFO sqlalchemy.engine.Engine [cached since 2.051e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.051e+04s ago] {}
2025-07-06 16:32:52,566 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.is_active = true) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.is_active = true) AS anon_1
2025-07-06 16:32:52,566 INFO sqlalchemy.engine.Engine [cached since 2.051e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.051e+04s ago] {}
2025-07-06 16:32:52,567 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:32:52,567 INFO sqlalchemy.engine.Engine [cached since 2.051e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.051e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:32:52,568 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies) AS anon_1
2025-07-06 16:32:52,569 INFO sqlalchemy.engine.Engine [cached since 2.051e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.051e+04s ago] {}
2025-07-06 16:32:52,570 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.is_active = true) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.is_active = true) AS anon_1
2025-07-06 16:32:52,570 INFO sqlalchemy.engine.Engine [cached since 2.051e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.051e+04s ago] {}
2025-07-06 16:32:52,571 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 16:32:52,571 INFO sqlalchemy.engine.Engine [cached since 2.051e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.051e+04s ago] {}
2025-07-06 16:32:52,572 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65063 - "GET /api/admin/dashboard/metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:65066 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:65066 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
2025-07-06 16:32:56,100 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:32:56,100 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:32:56,100 INFO sqlalchemy.engine.Engine [cached since 2.051e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.051e+04s ago] {}
2025-07-06 16:32:56,102 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:32:56,102 INFO sqlalchemy.engine.Engine [cached since 2.051e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 2.051e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:32:56,103 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:32:56,103 INFO sqlalchemy.engine.Engine [cached since 2.051e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 2.051e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:32:56,105 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 16:32:56,105 INFO sqlalchemy.engine.Engine [cached since 2.051e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.051e+04s ago] {}
2025-07-06 16:32:56,106 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65068 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 16:32:56,111 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:32:56,111 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:32:56,111 INFO sqlalchemy.engine.Engine [cached since 2.051e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.051e+04s ago] {}
2025-07-06 16:32:56,113 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:32:56,113 INFO sqlalchemy.engine.Engine [cached since 2.051e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 2.051e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:32:56,114 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:32:56,114 INFO sqlalchemy.engine.Engine [cached since 2.051e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 2.051e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:32:56,115 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 16:32:56,115 INFO sqlalchemy.engine.Engine [cached since 2.051e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.051e+04s ago] {}
2025-07-06 16:32:56,116 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65066 - "GET /api/children/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:65127 - "OPTIONS /api/auth/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:65129 - "OPTIONS /api/auth/me HTTP/1.1" 200 OK
2025-07-06 16:34:57,345 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:34:57,345 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:34:57,345 INFO sqlalchemy.engine.Engine [cached since 2.063e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.063e+04s ago] {}
2025-07-06 16:34:57,346 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:34:57,347 INFO sqlalchemy.engine.Engine [cached since 2.063e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 2.063e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:34:57,348 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:34:57,348 INFO sqlalchemy.engine.Engine [cached since 2.063e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 2.063e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:34:57,349 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:34:57,349 INFO sqlalchemy.engine.Engine [cached since 2.063e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 2.063e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:34:57,350 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:34:57,350 INFO sqlalchemy.engine.Engine [cached since 2.063e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 2.063e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:34:57,351 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65131 - "GET /api/auth/me HTTP/1.1" 200 OK
2025-07-06 16:34:57,354 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:34:57,354 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:34:57,354 INFO sqlalchemy.engine.Engine [cached since 2.063e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.063e+04s ago] {}
2025-07-06 16:34:57,355 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:34:57,355 INFO sqlalchemy.engine.Engine [cached since 2.063e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 2.063e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:34:57,356 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:34:57,356 INFO sqlalchemy.engine.Engine [cached since 2.063e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 2.063e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:34:57,358 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:34:57,358 INFO sqlalchemy.engine.Engine [cached since 2.063e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 2.063e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:34:57,360 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:34:57,360 INFO sqlalchemy.engine.Engine [cached since 2.063e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 2.063e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:34:57,361 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65131 - "GET /api/auth/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:65129 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:65129 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
2025-07-06 16:34:57,671 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:34:57,671 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:34:57,671 INFO sqlalchemy.engine.Engine [cached since 2.063e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.063e+04s ago] {}
2025-07-06 16:34:57,673 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:34:57,673 INFO sqlalchemy.engine.Engine [cached since 2.063e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 2.063e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:34:57,674 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:34:57,674 INFO sqlalchemy.engine.Engine [cached since 2.063e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 2.063e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:34:57,678 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 16:34:57,679 INFO sqlalchemy.engine.Engine [cached since 2.063e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.063e+04s ago] {}
2025-07-06 16:34:57,682 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65129 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 16:34:57,687 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:34:57,687 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:34:57,688 INFO sqlalchemy.engine.Engine [cached since 2.063e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.063e+04s ago] {}
2025-07-06 16:34:57,689 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:34:57,690 INFO sqlalchemy.engine.Engine [cached since 2.063e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 2.063e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:34:57,691 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:34:57,691 INFO sqlalchemy.engine.Engine [cached since 2.063e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 2.063e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:34:57,692 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 16:34:57,692 INFO sqlalchemy.engine.Engine [cached since 2.063e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.063e+04s ago] {}
2025-07-06 16:34:57,694 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65135 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 16:35:02,949 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:35:02,949 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:35:02,949 INFO sqlalchemy.engine.Engine [cached since 2.064e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.064e+04s ago] {}
2025-07-06 16:35:02,951 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users) AS anon_1
2025-07-06 16:35:02,951 INFO sqlalchemy.engine.Engine [cached since 2.064e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.064e+04s ago] {}
2025-07-06 16:35:02,952 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.is_active = true) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.is_active = true) AS anon_1
2025-07-06 16:35:02,952 INFO sqlalchemy.engine.Engine [cached since 2.064e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.064e+04s ago] {}
2025-07-06 16:35:02,953 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:35:02,953 INFO sqlalchemy.engine.Engine [cached since 2.064e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.064e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:35:02,954 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies) AS anon_1
2025-07-06 16:35:02,954 INFO sqlalchemy.engine.Engine [cached since 2.064e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.064e+04s ago] {}
2025-07-06 16:35:02,955 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.is_active = true) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.is_active = true) AS anon_1
2025-07-06 16:35:02,955 INFO sqlalchemy.engine.Engine [cached since 2.064e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.064e+04s ago] {}
2025-07-06 16:35:02,956 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 16:35:02,956 INFO sqlalchemy.engine.Engine [cached since 2.064e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.064e+04s ago] {}
2025-07-06 16:35:02,958 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65133 - "GET /api/admin/dashboard/metrics HTTP/1.1" 200 OK
2025-07-06 16:35:20,814 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:35:20,814 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:35:20,815 INFO sqlalchemy.engine.Engine [cached since 2.066e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.066e+04s ago] {}
2025-07-06 16:35:20,816 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:35:20,816 INFO sqlalchemy.engine.Engine [cached since 2.065e+04s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.065e+04s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 16:35:20,817 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:35:20,817 INFO sqlalchemy.engine.Engine [cached since 2.065e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 2.065e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 16:35:20,818 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:35:20,818 INFO sqlalchemy.engine.Engine [cached since 2.065e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 2.065e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 16:35:20,819 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65141 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 16:35:20,823 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:35:20,823 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:35:20,823 INFO sqlalchemy.engine.Engine [cached since 2.066e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.066e+04s ago] {}
2025-07-06 16:35:20,825 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:35:20,825 INFO sqlalchemy.engine.Engine [cached since 2.065e+04s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.065e+04s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 16:35:20,826 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:35:20,827 INFO sqlalchemy.engine.Engine [cached since 2.065e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 2.065e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 16:35:20,829 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:35:20,829 INFO sqlalchemy.engine.Engine [cached since 2.065e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 2.065e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 16:35:20,832 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65143 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:65141 - "GET /api/companies/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:65143 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 16:35:20,838 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:35:20,839 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:35:20,839 INFO sqlalchemy.engine.Engine [cached since 2.066e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.066e+04s ago] {}
2025-07-06 16:35:20,840 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:35:20,841 INFO sqlalchemy.engine.Engine [cached since 2.066e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.066e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:35:20,843 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65141 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 16:35:20,846 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:35:20,846 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:35:20,846 INFO sqlalchemy.engine.Engine [cached since 2.066e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.066e+04s ago] {}
2025-07-06 16:35:20,847 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:35:20,847 INFO sqlalchemy.engine.Engine [cached since 2.066e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.066e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:35:20,848 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65143 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
INFO:     127.0.0.1:65143 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:65141 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
2025-07-06 16:35:21,506 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:35:21,507 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:35:21,507 INFO sqlalchemy.engine.Engine [cached since 2.066e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.066e+04s ago] {}
2025-07-06 16:35:21,510 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:35:21,510 INFO sqlalchemy.engine.Engine [cached since 2.066e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 2.066e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:35:21,512 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:35:21,512 INFO sqlalchemy.engine.Engine [cached since 2.066e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 2.066e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:35:21,514 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 16:35:21,514 INFO sqlalchemy.engine.Engine [cached since 2.066e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.066e+04s ago] {}
2025-07-06 16:35:21,516 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65141 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 16:35:21,518 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:35:21,518 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:35:21,518 INFO sqlalchemy.engine.Engine [cached since 2.066e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.066e+04s ago] {}
2025-07-06 16:35:21,519 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:35:21,520 INFO sqlalchemy.engine.Engine [cached since 2.066e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 2.066e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:35:21,521 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:35:21,521 INFO sqlalchemy.engine.Engine [cached since 2.066e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 2.066e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:35:21,522 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 16:35:21,522 INFO sqlalchemy.engine.Engine [cached since 2.066e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.066e+04s ago] {}
2025-07-06 16:35:21,523 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65143 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 16:35:22,530 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:35:22,530 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:35:22,530 INFO sqlalchemy.engine.Engine [cached since 2.066e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.066e+04s ago] {}
2025-07-06 16:35:22,531 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users) AS anon_1
2025-07-06 16:35:22,531 INFO sqlalchemy.engine.Engine [cached since 2.066e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.066e+04s ago] {}
2025-07-06 16:35:22,532 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.is_active = true) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.is_active = true) AS anon_1
2025-07-06 16:35:22,532 INFO sqlalchemy.engine.Engine [cached since 2.066e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.066e+04s ago] {}
2025-07-06 16:35:22,533 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:35:22,533 INFO sqlalchemy.engine.Engine [cached since 2.066e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.066e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:35:22,535 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies) AS anon_1
2025-07-06 16:35:22,535 INFO sqlalchemy.engine.Engine [cached since 2.066e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.066e+04s ago] {}
2025-07-06 16:35:22,536 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.is_active = true) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.is_active = true) AS anon_1
2025-07-06 16:35:22,536 INFO sqlalchemy.engine.Engine [cached since 2.066e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.066e+04s ago] {}
2025-07-06 16:35:22,536 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 16:35:22,536 INFO sqlalchemy.engine.Engine [cached since 2.066e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.066e+04s ago] {}
2025-07-06 16:35:22,538 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65145 - "GET /api/admin/dashboard/metrics HTTP/1.1" 200 OK
2025-07-06 16:35:23,479 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:35:23,480 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:35:23,480 INFO sqlalchemy.engine.Engine [cached since 2.066e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.066e+04s ago] {}
2025-07-06 16:35:23,481 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:35:23,481 INFO sqlalchemy.engine.Engine [cached since 2.065e+04s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.065e+04s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 16:35:23,482 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:35:23,482 INFO sqlalchemy.engine.Engine [cached since 2.065e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 2.065e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 16:35:23,483 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:35:23,483 INFO sqlalchemy.engine.Engine [cached since 2.065e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 2.065e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 16:35:23,484 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65143 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 16:35:23,487 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:35:23,490 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:35:23,490 INFO sqlalchemy.engine.Engine [cached since 2.066e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.066e+04s ago] {}
INFO:     127.0.0.1:65143 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 16:35:23,494 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:35:23,494 INFO sqlalchemy.engine.Engine [cached since 2.065e+04s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.065e+04s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 16:35:23,496 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:35:23,496 INFO sqlalchemy.engine.Engine [cached since 2.065e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 2.065e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 16:35:23,497 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:35:23,497 INFO sqlalchemy.engine.Engine [cached since 2.065e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 2.065e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 16:35:23,499 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-07-06 16:35:23,500 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
INFO:     127.0.0.1:65141 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 16:35:23,500 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:35:23,500 INFO sqlalchemy.engine.Engine [cached since 2.066e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.066e+04s ago] {}
2025-07-06 16:35:23,501 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:35:23,501 INFO sqlalchemy.engine.Engine [cached since 2.066e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.066e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:35:23,502 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65143 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
INFO:     127.0.0.1:65141 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 16:35:23,509 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:35:23,510 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:35:23,510 INFO sqlalchemy.engine.Engine [cached since 2.066e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.066e+04s ago] {}
2025-07-06 16:35:23,511 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:35:23,511 INFO sqlalchemy.engine.Engine [cached since 2.066e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.066e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:35:23,513 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65141 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
INFO:     127.0.0.1:65141 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:65143 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
2025-07-06 16:35:24,368 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:35:24,369 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:35:24,369 INFO sqlalchemy.engine.Engine [cached since 2.066e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.066e+04s ago] {}
2025-07-06 16:35:24,370 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:35:24,370 INFO sqlalchemy.engine.Engine [cached since 2.066e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 2.066e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:35:24,371 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:35:24,371 INFO sqlalchemy.engine.Engine [cached since 2.066e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 2.066e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:35:24,373 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 16:35:24,373 INFO sqlalchemy.engine.Engine [cached since 2.066e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.066e+04s ago] {}
2025-07-06 16:35:24,374 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65143 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 16:35:24,380 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:35:24,380 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:35:24,381 INFO sqlalchemy.engine.Engine [cached since 2.066e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.066e+04s ago] {}
2025-07-06 16:35:24,382 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:35:24,383 INFO sqlalchemy.engine.Engine [cached since 2.066e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 2.066e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:35:24,384 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:35:24,384 INFO sqlalchemy.engine.Engine [cached since 2.066e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 2.066e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:35:24,385 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 16:35:24,385 INFO sqlalchemy.engine.Engine [cached since 2.066e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.066e+04s ago] {}
2025-07-06 16:35:24,387 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65141 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 16:36:12,484 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:36:12,485 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:36:12,485 INFO sqlalchemy.engine.Engine [cached since 2.071e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.071e+04s ago] {}
2025-07-06 16:36:12,486 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:36:12,486 INFO sqlalchemy.engine.Engine [cached since 2.07e+04s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.07e+04s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 16:36:12,488 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:36:12,488 INFO sqlalchemy.engine.Engine [cached since 2.07e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 2.07e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 16:36:12,489 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:36:12,489 INFO sqlalchemy.engine.Engine [cached since 2.07e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 2.07e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 16:36:12,490 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65155 - "GET /api/companies/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:65157 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 16:36:12,497 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:36:12,498 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:36:12,498 INFO sqlalchemy.engine.Engine [cached since 2.071e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.071e+04s ago] {}
2025-07-06 16:36:12,500 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:36:12,500 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:36:12,500 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:36:12,500 INFO sqlalchemy.engine.Engine [cached since 2.071e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.071e+04s ago] {}
2025-07-06 16:36:12,500 INFO sqlalchemy.engine.Engine [cached since 2.07e+04s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.07e+04s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 16:36:12,501 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:36:12,501 INFO sqlalchemy.engine.Engine [cached since 2.07e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 2.07e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 16:36:12,502 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:36:12,502 INFO sqlalchemy.engine.Engine [cached since 2.07e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 2.07e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 16:36:12,502 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-07-06 16:36:12,503 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:36:12,503 INFO sqlalchemy.engine.Engine [cached since 2.071e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.071e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:36:12,504 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65155 - "GET /api/companies/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:65157 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
INFO:     127.0.0.1:65157 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 16:36:12,509 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:36:12,509 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:36:12,509 INFO sqlalchemy.engine.Engine [cached since 2.071e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.071e+04s ago] {}
2025-07-06 16:36:12,510 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:36:12,510 INFO sqlalchemy.engine.Engine [cached since 2.071e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.071e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:36:12,511 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65157 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
INFO:     127.0.0.1:65176 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:65176 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
2025-07-06 16:37:12,058 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:37:12,058 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:37:12,058 INFO sqlalchemy.engine.Engine [cached since 2.077e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.077e+04s ago] {}
2025-07-06 16:37:12,061 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:37:12,061 INFO sqlalchemy.engine.Engine [cached since 2.077e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 2.077e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:37:12,063 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:37:12,063 INFO sqlalchemy.engine.Engine [cached since 2.077e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 2.077e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:37:12,065 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 16:37:12,065 INFO sqlalchemy.engine.Engine [cached since 2.077e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.077e+04s ago] {}
2025-07-06 16:37:12,067 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65176 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 16:37:12,070 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:37:12,070 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:37:12,070 INFO sqlalchemy.engine.Engine [cached since 2.077e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.077e+04s ago] {}
2025-07-06 16:37:12,072 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:37:12,072 INFO sqlalchemy.engine.Engine [cached since 2.077e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 2.077e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:37:12,073 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:37:12,074 INFO sqlalchemy.engine.Engine [cached since 2.077e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 2.077e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:37:12,075 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 16:37:12,075 INFO sqlalchemy.engine.Engine [cached since 2.077e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.077e+04s ago] {}
2025-07-06 16:37:12,077 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65178 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 16:37:45,164 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:37:45,164 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:37:45,165 INFO sqlalchemy.engine.Engine [cached since 2.08e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.08e+04s ago] {}
2025-07-06 16:37:45,166 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:37:45,166 INFO sqlalchemy.engine.Engine [cached since 2.079e+04s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.079e+04s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 16:37:45,168 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:37:45,169 INFO sqlalchemy.engine.Engine [cached since 2.079e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 2.079e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 16:37:45,170 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:37:45,170 INFO sqlalchemy.engine.Engine [cached since 2.079e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 2.079e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 16:37:45,171 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65187 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 16:37:45,174 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:37:45,174 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:37:45,174 INFO sqlalchemy.engine.Engine [cached since 2.08e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.08e+04s ago] {}
2025-07-06 16:37:45,175 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:37:45,175 INFO sqlalchemy.engine.Engine [cached since 2.079e+04s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.079e+04s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 16:37:45,177 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:37:45,177 INFO sqlalchemy.engine.Engine [cached since 2.079e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 2.079e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 16:37:45,179 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:37:45,179 INFO sqlalchemy.engine.Engine [cached since 2.079e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 2.079e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 16:37:45,181 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65189 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:65187 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 16:37:45,185 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:37:45,185 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
INFO:     127.0.0.1:65189 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 16:37:45,185 INFO sqlalchemy.engine.Engine [cached since 2.08e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.08e+04s ago] {}
2025-07-06 16:37:45,187 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:37:45,187 INFO sqlalchemy.engine.Engine [cached since 2.08e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.08e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:37:45,188 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65187 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 16:37:45,190 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:37:45,190 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:37:45,190 INFO sqlalchemy.engine.Engine [cached since 2.08e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.08e+04s ago] {}
2025-07-06 16:37:45,192 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:37:45,192 INFO sqlalchemy.engine.Engine [cached since 2.08e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.08e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:37:45,194 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65189 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
INFO:     127.0.0.1:65291 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:65291 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
2025-07-06 16:38:53,474 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:38:53,474 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:38:53,474 INFO sqlalchemy.engine.Engine [cached since 2.087e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.087e+04s ago] {}
2025-07-06 16:38:53,476 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:38:53,476 INFO sqlalchemy.engine.Engine [cached since 2.087e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 2.087e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:38:53,478 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:38:53,478 INFO sqlalchemy.engine.Engine [cached since 2.087e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 2.087e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:38:53,480 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 16:38:53,480 INFO sqlalchemy.engine.Engine [cached since 2.087e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.087e+04s ago] {}
2025-07-06 16:38:53,482 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65293 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 16:38:53,485 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:38:53,485 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:38:53,485 INFO sqlalchemy.engine.Engine [cached since 2.087e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.087e+04s ago] {}
2025-07-06 16:38:53,487 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:38:53,487 INFO sqlalchemy.engine.Engine [cached since 2.087e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 2.087e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:38:53,488 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:38:53,488 INFO sqlalchemy.engine.Engine [cached since 2.087e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 2.087e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:38:53,489 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 16:38:53,489 INFO sqlalchemy.engine.Engine [cached since 2.087e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.087e+04s ago] {}
2025-07-06 16:38:53,491 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65291 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 16:38:54,016 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:38:54,016 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:38:54,016 INFO sqlalchemy.engine.Engine [cached since 2.087e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.087e+04s ago] {}
2025-07-06 16:38:54,018 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:38:54,018 INFO sqlalchemy.engine.Engine [cached since 2.086e+04s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.086e+04s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 16:38:54,019 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:38:54,019 INFO sqlalchemy.engine.Engine [cached since 2.086e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 2.086e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 16:38:54,020 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:38:54,020 INFO sqlalchemy.engine.Engine [cached since 2.086e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 2.086e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 16:38:54,021 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65291 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 16:38:54,025 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:38:54,025 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:38:54,026 INFO sqlalchemy.engine.Engine [cached since 2.087e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.087e+04s ago] {}
INFO:     127.0.0.1:65291 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 16:38:54,030 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:38:54,030 INFO sqlalchemy.engine.Engine [cached since 2.086e+04s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.086e+04s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 16:38:54,031 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:38:54,031 INFO sqlalchemy.engine.Engine [cached since 2.086e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 2.086e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 16:38:54,032 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:38:54,032 INFO sqlalchemy.engine.Engine [cached since 2.086e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 2.086e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 16:38:54,033 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-07-06 16:38:54,035 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
INFO:     127.0.0.1:65293 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 16:38:54,035 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:38:54,035 INFO sqlalchemy.engine.Engine [cached since 2.087e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.087e+04s ago] {}
2025-07-06 16:38:54,038 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:38:54,038 INFO sqlalchemy.engine.Engine [cached since 2.087e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.087e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:38:54,040 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65293 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:65291 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 16:38:54,042 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:38:54,042 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:38:54,042 INFO sqlalchemy.engine.Engine [cached since 2.087e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.087e+04s ago] {}
2025-07-06 16:38:54,044 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:38:54,045 INFO sqlalchemy.engine.Engine [cached since 2.087e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.087e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:38:54,047 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65291 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
INFO:     127.0.0.1:65291 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:65293 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
2025-07-06 16:38:55,203 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:38:55,203 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:38:55,203 INFO sqlalchemy.engine.Engine [cached since 2.087e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.087e+04s ago] {}
2025-07-06 16:38:55,204 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:38:55,204 INFO sqlalchemy.engine.Engine [cached since 2.087e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 2.087e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:38:55,205 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:38:55,205 INFO sqlalchemy.engine.Engine [cached since 2.087e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 2.087e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:38:55,206 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 16:38:55,206 INFO sqlalchemy.engine.Engine [cached since 2.087e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.087e+04s ago] {}
2025-07-06 16:38:55,208 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65293 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 16:38:55,210 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:38:55,210 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:38:55,210 INFO sqlalchemy.engine.Engine [cached since 2.087e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.087e+04s ago] {}
2025-07-06 16:38:55,211 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:38:55,211 INFO sqlalchemy.engine.Engine [cached since 2.087e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 2.087e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:38:55,212 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:38:55,212 INFO sqlalchemy.engine.Engine [cached since 2.087e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 2.087e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:38:55,214 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 16:38:55,214 INFO sqlalchemy.engine.Engine [cached since 2.087e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.087e+04s ago] {}
2025-07-06 16:38:55,216 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65291 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 16:38:56,282 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:38:56,282 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:38:56,283 INFO sqlalchemy.engine.Engine [cached since 2.087e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.087e+04s ago] {}
2025-07-06 16:38:56,284 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:38:56,284 INFO sqlalchemy.engine.Engine [cached since 2.087e+04s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.087e+04s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 16:38:56,285 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:38:56,285 INFO sqlalchemy.engine.Engine [cached since 2.087e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 2.087e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 16:38:56,286 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:38:56,286 INFO sqlalchemy.engine.Engine [cached since 2.087e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 2.087e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 16:38:56,287 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65291 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 16:38:56,289 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:38:56,290 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:38:56,290 INFO sqlalchemy.engine.Engine [cached since 2.087e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.087e+04s ago] {}
2025-07-06 16:38:56,291 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:38:56,291 INFO sqlalchemy.engine.Engine [cached since 2.087e+04s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.087e+04s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 16:38:56,292 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:38:56,292 INFO sqlalchemy.engine.Engine [cached since 2.087e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 2.087e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 16:38:56,293 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:38:56,293 INFO sqlalchemy.engine.Engine [cached since 2.087e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 2.087e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 16:38:56,295 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65291 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:65293 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 16:38:56,300 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
INFO:     127.0.0.1:65293 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 16:38:56,301 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:38:56,301 INFO sqlalchemy.engine.Engine [cached since 2.087e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.087e+04s ago] {}
2025-07-06 16:38:56,303 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:38:56,303 INFO sqlalchemy.engine.Engine [cached since 2.087e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.087e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:38:56,304 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65291 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 16:38:56,306 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:38:56,306 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:38:56,307 INFO sqlalchemy.engine.Engine [cached since 2.087e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.087e+04s ago] {}
2025-07-06 16:38:56,308 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:38:56,308 INFO sqlalchemy.engine.Engine [cached since 2.087e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.087e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:38:56,310 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65293 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
INFO:     127.0.0.1:65293 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:65291 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
2025-07-06 16:38:57,438 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:38:57,438 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:38:57,438 INFO sqlalchemy.engine.Engine [cached since 2.087e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.087e+04s ago] {}
2025-07-06 16:38:57,440 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:38:57,440 INFO sqlalchemy.engine.Engine [cached since 2.087e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 2.087e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:38:57,441 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:38:57,441 INFO sqlalchemy.engine.Engine [cached since 2.087e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 2.087e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:38:57,443 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 16:38:57,443 INFO sqlalchemy.engine.Engine [cached since 2.087e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.087e+04s ago] {}
2025-07-06 16:38:57,446 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65291 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 16:38:57,448 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:38:57,449 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:38:57,449 INFO sqlalchemy.engine.Engine [cached since 2.087e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.087e+04s ago] {}
2025-07-06 16:38:57,450 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:38:57,450 INFO sqlalchemy.engine.Engine [cached since 2.087e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 2.087e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:38:57,451 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:38:57,451 INFO sqlalchemy.engine.Engine [cached since 2.087e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 2.087e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:38:57,453 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 16:38:57,453 INFO sqlalchemy.engine.Engine [cached since 2.087e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.087e+04s ago] {}
2025-07-06 16:38:57,455 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65293 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 16:39:02,563 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:39:02,567 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:39:02,567 INFO sqlalchemy.engine.Engine [cached since 2.088e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.088e+04s ago] {}
2025-07-06 16:39:02,570 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:39:02,570 INFO sqlalchemy.engine.Engine [cached since 2.088e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 2.088e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:39:02,573 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:39:02,574 INFO sqlalchemy.engine.Engine [cached since 2.088e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 2.088e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:39:02,576 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:39:02,576 INFO sqlalchemy.engine.Engine [cached since 2.088e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 2.088e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:39:02,578 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:39:02,578 INFO sqlalchemy.engine.Engine [cached since 2.088e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 2.088e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:39:02,579 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65323 - "GET /api/auth/me HTTP/1.1" 200 OK
2025-07-06 16:39:02,582 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:39:02,583 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:39:02,583 INFO sqlalchemy.engine.Engine [cached since 2.088e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.088e+04s ago] {}
2025-07-06 16:39:02,584 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:39:02,584 INFO sqlalchemy.engine.Engine [cached since 2.088e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 2.088e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:39:02,585 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:39:02,585 INFO sqlalchemy.engine.Engine [cached since 2.088e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 2.088e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:39:02,586 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:39:02,586 INFO sqlalchemy.engine.Engine [cached since 2.088e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 2.088e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:39:02,587 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:39:02,587 INFO sqlalchemy.engine.Engine [cached since 2.088e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 2.088e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:39:02,587 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65325 - "GET /api/auth/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:65329 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:65331 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
2025-07-06 16:39:02,796 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:39:02,797 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:39:02,797 INFO sqlalchemy.engine.Engine [cached since 2.088e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.088e+04s ago] {}
2025-07-06 16:39:02,798 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:39:02,798 INFO sqlalchemy.engine.Engine [cached since 2.088e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 2.088e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:39:02,799 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:39:02,799 INFO sqlalchemy.engine.Engine [cached since 2.088e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 2.088e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:39:02,801 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 16:39:02,801 INFO sqlalchemy.engine.Engine [cached since 2.088e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.088e+04s ago] {}
2025-07-06 16:39:02,802 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65331 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 16:39:02,806 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:39:02,806 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:39:02,806 INFO sqlalchemy.engine.Engine [cached since 2.088e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.088e+04s ago] {}
2025-07-06 16:39:02,807 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:39:02,807 INFO sqlalchemy.engine.Engine [cached since 2.088e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 2.088e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:39:02,811 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:39:02,811 INFO sqlalchemy.engine.Engine [cached since 2.088e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 2.088e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:39:02,813 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 16:39:02,813 INFO sqlalchemy.engine.Engine [cached since 2.088e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.088e+04s ago] {}
2025-07-06 16:39:02,815 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65329 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 16:39:12,131 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:39:12,131 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:39:12,131 INFO sqlalchemy.engine.Engine [cached since 2.089e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.089e+04s ago] {}
2025-07-06 16:39:12,133 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:39:12,133 INFO sqlalchemy.engine.Engine [cached since 2.088e+04s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.088e+04s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 16:39:12,134 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:39:12,134 INFO sqlalchemy.engine.Engine [cached since 2.088e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 2.088e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 16:39:12,135 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:39:12,135 INFO sqlalchemy.engine.Engine [cached since 2.088e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 2.088e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 16:39:12,136 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65353 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 16:39:12,140 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:39:12,141 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:39:12,141 INFO sqlalchemy.engine.Engine [cached since 2.089e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.089e+04s ago] {}
INFO:     127.0.0.1:65353 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 16:39:12,143 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:39:12,143 INFO sqlalchemy.engine.Engine [cached since 2.088e+04s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.088e+04s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 16:39:12,144 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:39:12,145 INFO sqlalchemy.engine.Engine [cached since 2.088e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 2.088e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 16:39:12,146 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:39:12,146 INFO sqlalchemy.engine.Engine [cached since 2.088e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 2.088e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 16:39:12,148 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-07-06 16:39:12,148 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:39:12,149 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
INFO:     127.0.0.1:65355 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 16:39:12,149 INFO sqlalchemy.engine.Engine [cached since 2.089e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.089e+04s ago] {}
2025-07-06 16:39:12,152 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:39:12,152 INFO sqlalchemy.engine.Engine [cached since 2.089e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.089e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:39:12,154 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65355 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:65353 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 16:39:12,158 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:39:12,158 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:39:12,158 INFO sqlalchemy.engine.Engine [cached since 2.089e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.089e+04s ago] {}
2025-07-06 16:39:12,160 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:39:12,160 INFO sqlalchemy.engine.Engine [cached since 2.089e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.089e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:39:12,162 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65353 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 16:39:13,182 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:39:13,182 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:39:13,182 INFO sqlalchemy.engine.Engine [cached since 2.089e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.089e+04s ago] {}
2025-07-06 16:39:13,184 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users) AS anon_1
2025-07-06 16:39:13,184 INFO sqlalchemy.engine.Engine [cached since 2.089e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.089e+04s ago] {}
2025-07-06 16:39:13,185 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.is_active = true) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.is_active = true) AS anon_1
2025-07-06 16:39:13,185 INFO sqlalchemy.engine.Engine [cached since 2.089e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.089e+04s ago] {}
2025-07-06 16:39:13,186 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:39:13,186 INFO sqlalchemy.engine.Engine [cached since 2.089e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.089e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:39:13,187 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies) AS anon_1
2025-07-06 16:39:13,187 INFO sqlalchemy.engine.Engine [cached since 2.089e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.089e+04s ago] {}
2025-07-06 16:39:13,188 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.is_active = true) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.is_active = true) AS anon_1
2025-07-06 16:39:13,188 INFO sqlalchemy.engine.Engine [cached since 2.089e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.089e+04s ago] {}
2025-07-06 16:39:13,188 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 16:39:13,189 INFO sqlalchemy.engine.Engine [cached since 2.089e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.089e+04s ago] {}
2025-07-06 16:39:13,190 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65359 - "GET /api/admin/dashboard/metrics HTTP/1.1" 200 OK
2025-07-06 16:39:14,149 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:39:14,149 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:39:14,149 INFO sqlalchemy.engine.Engine [cached since 2.089e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.089e+04s ago] {}
2025-07-06 16:39:14,150 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:39:14,151 INFO sqlalchemy.engine.Engine [cached since 2.088e+04s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.088e+04s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 16:39:14,153 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:39:14,153 INFO sqlalchemy.engine.Engine [cached since 2.088e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 2.088e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 16:39:14,154 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:39:14,154 INFO sqlalchemy.engine.Engine [cached since 2.088e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 2.088e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 16:39:14,154 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65353 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 16:39:14,158 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:39:14,158 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:39:14,159 INFO sqlalchemy.engine.Engine [cached since 2.089e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.089e+04s ago] {}
INFO:     127.0.0.1:65353 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 16:39:14,162 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:39:14,162 INFO sqlalchemy.engine.Engine [cached since 2.088e+04s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.088e+04s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 16:39:14,163 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:39:14,164 INFO sqlalchemy.engine.Engine [cached since 2.088e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 2.088e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 16:39:14,164 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:39:14,164 INFO sqlalchemy.engine.Engine [cached since 2.088e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 2.088e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 16:39:14,166 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-07-06 16:39:14,166 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
INFO:     127.0.0.1:65355 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 16:39:14,166 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:39:14,167 INFO sqlalchemy.engine.Engine [cached since 2.089e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.089e+04s ago] {}
2025-07-06 16:39:14,169 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:39:14,169 INFO sqlalchemy.engine.Engine [cached since 2.089e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.089e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:39:14,171 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65355 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:65353 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 16:39:14,173 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:39:14,174 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:39:14,174 INFO sqlalchemy.engine.Engine [cached since 2.089e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.089e+04s ago] {}
2025-07-06 16:39:14,176 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:39:14,176 INFO sqlalchemy.engine.Engine [cached since 2.089e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.089e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:39:14,178 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65355 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
INFO:     127.0.0.1:65380 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:65380 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
2025-07-06 16:39:19,403 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:39:19,403 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:39:19,404 INFO sqlalchemy.engine.Engine [cached since 2.09e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.09e+04s ago] {}
2025-07-06 16:39:19,405 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:39:19,405 INFO sqlalchemy.engine.Engine [cached since 2.09e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 2.09e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:39:19,406 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:39:19,406 INFO sqlalchemy.engine.Engine [cached since 2.09e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 2.09e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:39:19,407 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 16:39:19,407 INFO sqlalchemy.engine.Engine [cached since 2.09e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.09e+04s ago] {}
2025-07-06 16:39:19,408 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65382 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 16:39:19,413 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:39:19,413 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:39:19,413 INFO sqlalchemy.engine.Engine [cached since 2.09e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.09e+04s ago] {}
2025-07-06 16:39:19,414 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:39:19,414 INFO sqlalchemy.engine.Engine [cached since 2.09e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 2.09e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:39:19,415 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:39:19,415 INFO sqlalchemy.engine.Engine [cached since 2.09e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 2.09e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:39:19,416 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 16:39:19,417 INFO sqlalchemy.engine.Engine [cached since 2.09e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.09e+04s ago] {}
2025-07-06 16:39:19,418 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65380 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 16:39:22,697 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:39:22,698 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:39:22,699 INFO sqlalchemy.engine.Engine [cached since 2.09e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.09e+04s ago] {}
2025-07-06 16:39:22,700 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:39:22,700 INFO sqlalchemy.engine.Engine [cached since 2.089e+04s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.089e+04s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 16:39:22,701 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:39:22,701 INFO sqlalchemy.engine.Engine [cached since 2.089e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 2.089e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 16:39:22,702 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:39:22,702 INFO sqlalchemy.engine.Engine [cached since 2.089e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 2.089e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 16:39:22,703 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65380 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 16:39:22,706 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:39:22,706 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:39:22,707 INFO sqlalchemy.engine.Engine [cached since 2.09e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.09e+04s ago] {}
2025-07-06 16:39:22,708 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:39:22,709 INFO sqlalchemy.engine.Engine [cached since 2.089e+04s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.089e+04s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 16:39:22,710 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:39:22,710 INFO sqlalchemy.engine.Engine [cached since 2.089e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 2.089e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 16:39:22,712 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:39:22,712 INFO sqlalchemy.engine.Engine [cached since 2.089e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 2.089e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 16:39:22,714 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65380 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:65382 - "GET /api/companies/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:65380 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 16:39:22,719 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:39:22,719 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:39:22,719 INFO sqlalchemy.engine.Engine [cached since 2.09e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.09e+04s ago] {}
2025-07-06 16:39:22,721 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:39:22,721 INFO sqlalchemy.engine.Engine [cached since 2.09e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.09e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:39:22,722 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65382 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 16:39:22,724 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:39:22,724 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:39:22,724 INFO sqlalchemy.engine.Engine [cached since 2.09e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.09e+04s ago] {}
2025-07-06 16:39:22,725 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:39:22,725 INFO sqlalchemy.engine.Engine [cached since 2.09e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.09e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:39:22,728 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65380 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
INFO:     127.0.0.1:65380 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:65382 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
2025-07-06 16:39:24,035 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:39:24,035 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:39:24,035 INFO sqlalchemy.engine.Engine [cached since 2.09e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.09e+04s ago] {}
2025-07-06 16:39:24,037 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:39:24,037 INFO sqlalchemy.engine.Engine [cached since 2.09e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 2.09e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:39:24,039 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:39:24,039 INFO sqlalchemy.engine.Engine [cached since 2.09e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 2.09e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:39:24,041 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 16:39:24,041 INFO sqlalchemy.engine.Engine [cached since 2.09e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.09e+04s ago] {}
2025-07-06 16:39:24,042 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65382 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 16:39:24,047 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:39:24,047 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:39:24,047 INFO sqlalchemy.engine.Engine [cached since 2.09e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.09e+04s ago] {}
2025-07-06 16:39:24,049 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:39:24,049 INFO sqlalchemy.engine.Engine [cached since 2.09e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 2.09e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:39:24,050 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:39:24,050 INFO sqlalchemy.engine.Engine [cached since 2.09e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 2.09e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:39:24,052 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 16:39:24,052 INFO sqlalchemy.engine.Engine [cached since 2.09e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.09e+04s ago] {}
2025-07-06 16:39:24,053 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65380 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 16:39:24,598 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:39:24,598 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:39:24,598 INFO sqlalchemy.engine.Engine [cached since 2.09e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.09e+04s ago] {}
2025-07-06 16:39:24,600 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:39:24,600 INFO sqlalchemy.engine.Engine [cached since 2.089e+04s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.089e+04s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 16:39:24,601 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:39:24,601 INFO sqlalchemy.engine.Engine [cached since 2.089e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 2.089e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 16:39:24,602 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:39:24,602 INFO sqlalchemy.engine.Engine [cached since 2.089e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 2.089e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 16:39:24,603 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65380 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 16:39:24,605 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:39:24,605 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:39:24,605 INFO sqlalchemy.engine.Engine [cached since 2.09e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.09e+04s ago] {}
2025-07-06 16:39:24,606 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:39:24,607 INFO sqlalchemy.engine.Engine [cached since 2.089e+04s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.089e+04s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 16:39:24,608 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:39:24,608 INFO sqlalchemy.engine.Engine [cached since 2.089e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 2.089e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 16:39:24,609 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:39:24,609 INFO sqlalchemy.engine.Engine [cached since 2.089e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 2.089e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 16:39:24,611 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65380 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:65382 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 16:39:24,615 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:39:24,615 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:39:24,615 INFO sqlalchemy.engine.Engine [cached since 2.09e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.09e+04s ago] {}
2025-07-06 16:39:24,617 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:39:24,618 INFO sqlalchemy.engine.Engine [cached since 2.09e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.09e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:39:24,620 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65382 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:65380 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 16:39:24,624 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:39:24,624 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:39:24,624 INFO sqlalchemy.engine.Engine [cached since 2.09e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.09e+04s ago] {}
2025-07-06 16:39:24,626 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:39:24,626 INFO sqlalchemy.engine.Engine [cached since 2.09e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.09e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:39:24,628 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:65382 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 16:41:57,398 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:41:57,399 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:41:57,399 INFO sqlalchemy.engine.Engine [cached since 2.105e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.105e+04s ago] {}
2025-07-06 16:41:57,404 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:41:57,404 INFO sqlalchemy.engine.Engine [cached since 2.105e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 2.105e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:41:57,407 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:41:57,407 INFO sqlalchemy.engine.Engine [cached since 2.105e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 2.105e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:41:57,409 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:41:57,409 INFO sqlalchemy.engine.Engine [cached since 2.105e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 2.105e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:41:57,410 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:41:57,410 INFO sqlalchemy.engine.Engine [cached since 2.105e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 2.105e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:41:57,411 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49746 - "GET /api/auth/me HTTP/1.1" 200 OK
2025-07-06 16:41:57,414 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:41:57,415 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:41:57,415 INFO sqlalchemy.engine.Engine [cached since 2.105e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.105e+04s ago] {}
2025-07-06 16:41:57,415 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:41:57,415 INFO sqlalchemy.engine.Engine [cached since 2.105e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 2.105e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:41:57,416 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:41:57,416 INFO sqlalchemy.engine.Engine [cached since 2.105e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 2.105e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:41:57,418 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:41:57,418 INFO sqlalchemy.engine.Engine [cached since 2.105e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 2.105e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:41:57,419 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:41:57,419 INFO sqlalchemy.engine.Engine [cached since 2.105e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 2.105e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:41:57,420 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49746 - "GET /api/auth/me HTTP/1.1" 200 OK
2025-07-06 16:41:57,840 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:41:57,840 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:41:57,840 INFO sqlalchemy.engine.Engine [cached since 2.105e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.105e+04s ago] {}
2025-07-06 16:41:57,841 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:41:57,842 INFO sqlalchemy.engine.Engine [cached since 2.105e+04s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.105e+04s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 16:41:57,842 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:41:57,842 INFO sqlalchemy.engine.Engine [cached since 2.105e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 2.105e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 16:41:57,843 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:41:57,843 INFO sqlalchemy.engine.Engine [cached since 2.105e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 2.105e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 16:41:57,844 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49754 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 16:41:57,847 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:41:57,847 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:41:57,847 INFO sqlalchemy.engine.Engine [cached since 2.105e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.105e+04s ago] {}
2025-07-06 16:41:57,848 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:41:57,848 INFO sqlalchemy.engine.Engine [cached since 2.105e+04s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.105e+04s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 16:41:57,849 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:41:57,849 INFO sqlalchemy.engine.Engine [cached since 2.105e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 2.105e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 16:41:57,849 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:41:57,849 INFO sqlalchemy.engine.Engine [cached since 2.105e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 2.105e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 16:41:57,850 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49756 - "GET /api/companies/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:49756 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:49754 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 16:41:57,884 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:41:57,884 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:41:57,885 INFO sqlalchemy.engine.Engine [cached since 2.105e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.105e+04s ago] {}
2025-07-06 16:41:57,892 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:41:57,892 INFO sqlalchemy.engine.Engine [cached since 2.105e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.105e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:41:57,895 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49754 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 16:41:57,900 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:41:57,900 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:41:57,900 INFO sqlalchemy.engine.Engine [cached since 2.105e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.105e+04s ago] {}
2025-07-06 16:41:57,901 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:41:57,901 INFO sqlalchemy.engine.Engine [cached since 2.105e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.105e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:41:57,902 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:49756 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 16:43:39,650 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:43:39,653 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:43:39,654 INFO sqlalchemy.engine.Engine [cached since 2.116e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.116e+04s ago] {}
2025-07-06 16:43:39,658 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:43:39,658 INFO sqlalchemy.engine.Engine [cached since 2.116e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 2.116e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:43:39,662 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:43:39,662 INFO sqlalchemy.engine.Engine [cached since 2.116e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 2.116e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:43:39,673 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:43:39,674 INFO sqlalchemy.engine.Engine [cached since 2.116e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 2.116e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:43:39,675 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:43:39,675 INFO sqlalchemy.engine.Engine [cached since 2.116e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 2.116e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:43:39,677 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50216 - "GET /api/auth/me HTTP/1.1" 200 OK
2025-07-06 16:43:39,682 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:43:39,682 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:43:39,683 INFO sqlalchemy.engine.Engine [cached since 2.116e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.116e+04s ago] {}
2025-07-06 16:43:39,685 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:43:39,685 INFO sqlalchemy.engine.Engine [cached since 2.116e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 2.116e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:43:39,686 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:43:39,686 INFO sqlalchemy.engine.Engine [cached since 2.116e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 2.116e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:43:39,688 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:43:39,688 INFO sqlalchemy.engine.Engine [cached since 2.116e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 2.116e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:43:39,689 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:43:39,689 INFO sqlalchemy.engine.Engine [cached since 2.116e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 2.116e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:43:39,689 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50218 - "GET /api/auth/me HTTP/1.1" 200 OK
INFO:     127.0.0.1:50225 - "OPTIONS /api/companies/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:50226 - "OPTIONS /api/companies/ HTTP/1.1" 200 OK
2025-07-06 16:43:40,085 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:43:40,085 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:43:40,085 INFO sqlalchemy.engine.Engine [cached since 2.116e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.116e+04s ago] {}
2025-07-06 16:43:40,086 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:43:40,086 INFO sqlalchemy.engine.Engine [cached since 2.115e+04s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.115e+04s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 16:43:40,087 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:43:40,087 INFO sqlalchemy.engine.Engine [cached since 2.115e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 2.115e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 16:43:40,088 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:43:40,088 INFO sqlalchemy.engine.Engine [cached since 2.115e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 2.115e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 16:43:40,088 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50226 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 16:43:40,090 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:43:40,090 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:43:40,090 INFO sqlalchemy.engine.Engine [cached since 2.116e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.116e+04s ago] {}
2025-07-06 16:43:40,091 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:43:40,091 INFO sqlalchemy.engine.Engine [cached since 2.115e+04s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.115e+04s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 16:43:40,092 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:43:40,092 INFO sqlalchemy.engine.Engine [cached since 2.115e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 2.115e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 16:43:40,092 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:43:40,092 INFO sqlalchemy.engine.Engine [cached since 2.115e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 2.115e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 16:43:40,093 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50228 - "GET /api/companies/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:50228 - "OPTIONS /api/companies/drivers/available/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:50226 - "OPTIONS /api/companies/drivers/available/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:50228 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:50226 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:50226 - "OPTIONS /api/companies/drivers/available HTTP/1.1" 200 OK
INFO:     127.0.0.1:50228 - "OPTIONS /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 16:43:40,156 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:43:40,156 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:43:40,156 INFO sqlalchemy.engine.Engine [cached since 2.116e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.116e+04s ago] {}
2025-07-06 16:43:40,158 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:43:40,158 INFO sqlalchemy.engine.Engine [cached since 2.116e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.116e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:43:40,159 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50228 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 16:43:40,161 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:43:40,161 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:43:40,161 INFO sqlalchemy.engine.Engine [cached since 2.116e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.116e+04s ago] {}
2025-07-06 16:43:40,163 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:43:40,163 INFO sqlalchemy.engine.Engine [cached since 2.116e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.116e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:43:40,165 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50226 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
INFO:     127.0.0.1:50324 - "OPTIONS /api/children HTTP/1.1" 200 OK
INFO:     127.0.0.1:50326 - "OPTIONS /api/children HTTP/1.1" 200 OK
INFO:     127.0.0.1:50326 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:50324 - "GET /api/children HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:50326 - "OPTIONS /api/children/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:50324 - "OPTIONS /api/children/ HTTP/1.1" 200 OK
2025-07-06 16:44:18,567 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:44:18,567 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:44:18,567 INFO sqlalchemy.engine.Engine [cached since 2.12e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.12e+04s ago] {}
2025-07-06 16:44:18,568 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:44:18,568 INFO sqlalchemy.engine.Engine [cached since 2.12e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 2.12e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:44:18,569 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:44:18,569 INFO sqlalchemy.engine.Engine [cached since 2.12e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 2.12e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:44:18,570 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 16:44:18,571 INFO sqlalchemy.engine.Engine [cached since 2.12e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.12e+04s ago] {}
2025-07-06 16:44:18,572 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50326 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 16:44:18,574 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:44:18,574 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:44:18,574 INFO sqlalchemy.engine.Engine [cached since 2.12e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.12e+04s ago] {}
2025-07-06 16:44:18,575 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-07-06 16:44:18,575 INFO sqlalchemy.engine.Engine [cached since 2.12e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
INFO:sqlalchemy.engine.Engine:[cached since 2.12e+04s ago] {'id_1': 'admin-001', 'param_1': 1}
2025-07-06 16:44:18,576 INFO sqlalchemy.engine.Engine SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
INFO:sqlalchemy.engine.Engine:SELECT roles.id AS roles_id, roles.name AS roles_name, roles.description AS roles_description, roles.created_at AS roles_created_at, roles.updated_at AS roles_updated_at 
FROM roles, user_roles 
WHERE %(param_1)s = user_roles.user_id AND roles.id = user_roles.role_id
2025-07-06 16:44:18,576 INFO sqlalchemy.engine.Engine [cached since 2.12e+04s ago] {'param_1': 'admin-001'}
INFO:sqlalchemy.engine.Engine:[cached since 2.12e+04s ago] {'param_1': 'admin-001'}
2025-07-06 16:44:18,577 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 16:44:18,577 INFO sqlalchemy.engine.Engine [cached since 2.12e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.12e+04s ago] {}
2025-07-06 16:44:18,578 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50326 - "GET /api/children/ HTTP/1.1" 200 OK
2025-07-06 16:44:19,634 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:44:19,635 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:44:19,635 INFO sqlalchemy.engine.Engine [cached since 2.12e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.12e+04s ago] {}
2025-07-06 16:44:19,636 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:44:19,636 INFO sqlalchemy.engine.Engine [cached since 2.119e+04s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.119e+04s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 16:44:19,637 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:44:19,637 INFO sqlalchemy.engine.Engine [cached since 2.119e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 2.119e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 16:44:19,638 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:44:19,638 INFO sqlalchemy.engine.Engine [cached since 2.119e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 2.119e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 16:44:19,639 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50326 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 16:44:19,642 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:44:19,642 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:44:19,642 INFO sqlalchemy.engine.Engine [cached since 2.12e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.12e+04s ago] {}
INFO:     127.0.0.1:50326 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
2025-07-06 16:44:19,644 INFO sqlalchemy.engine.Engine SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:44:19,644 INFO sqlalchemy.engine.Engine [cached since 2.119e+04s ago] {'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.119e+04s ago] {'param_1': 100, 'param_2': 0}
2025-07-06 16:44:19,645 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:44:19,645 INFO sqlalchemy.engine.Engine [cached since 2.119e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
INFO:sqlalchemy.engine.Engine:[cached since 2.119e+04s ago] {'company_id_1': '5cf5ee1c-42ff-4af0-9051-6bf3f8a1f158'}
2025-07-06 16:44:19,646 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.company_id = %(company_id_1)s::UUID
2025-07-06 16:44:19,646 INFO sqlalchemy.engine.Engine [cached since 2.119e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
INFO:sqlalchemy.engine.Engine:[cached since 2.119e+04s ago] {'company_id_1': 'e5e33850-becf-4835-8226-2169fc1e3e69'}
2025-07-06 16:44:19,647 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
2025-07-06 16:44:19,648 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
INFO:     127.0.0.1:50328 - "GET /api/companies/ HTTP/1.1" 200 OK
2025-07-06 16:44:19,648 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:44:19,648 INFO sqlalchemy.engine.Engine [cached since 2.12e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.12e+04s ago] {}
2025-07-06 16:44:19,651 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:44:19,651 INFO sqlalchemy.engine.Engine [cached since 2.12e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.12e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:44:19,652 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50328 - "GET /api/companies/drivers/available/ HTTP/1.1" 307 Temporary Redirect
INFO:     127.0.0.1:50326 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
2025-07-06 16:44:19,655 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:44:19,655 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:44:19,655 INFO sqlalchemy.engine.Engine [cached since 2.12e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.12e+04s ago] {}
2025-07-06 16:44:19,656 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:44:19,656 INFO sqlalchemy.engine.Engine [cached since 2.12e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.12e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:44:19,658 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50326 - "GET /api/companies/drivers/available HTTP/1.1" 200 OK
INFO:     127.0.0.1:50326 - "OPTIONS /api/admin/dashboard/metrics HTTP/1.1" 200 OK
2025-07-06 16:44:21,854 INFO sqlalchemy.engine.Engine BEGIN (implicit)
INFO:sqlalchemy.engine.Engine:BEGIN (implicit)
2025-07-06 16:44:21,855 INFO sqlalchemy.engine.Engine SELECT 1
INFO:sqlalchemy.engine.Engine:SELECT 1
2025-07-06 16:44:21,855 INFO sqlalchemy.engine.Engine [cached since 2.12e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.12e+04s ago] {}
2025-07-06 16:44:21,856 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users) AS anon_1
2025-07-06 16:44:21,856 INFO sqlalchemy.engine.Engine [cached since 2.12e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.12e+04s ago] {}
2025-07-06 16:44:21,857 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.is_active = true) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users 
WHERE users.is_active = true) AS anon_1
2025-07-06 16:44:21,857 INFO sqlalchemy.engine.Engine [cached since 2.12e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.12e+04s ago] {}
2025-07-06 16:44:21,857 INFO sqlalchemy.engine.Engine SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
INFO:sqlalchemy.engine.Engine:SELECT users.id AS users_id, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.phone AS users_phone, users.is_active AS users_is_active, users.is_verified AS users_is_verified, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.last_login AS users_last_login, users.company_id AS users_company_id 
FROM users JOIN user_roles AS user_roles_1 ON users.id = user_roles_1.user_id JOIN roles ON roles.id = user_roles_1.role_id 
WHERE roles.name = %(name_1)s 
 LIMIT %(param_1)s OFFSET %(param_2)s
2025-07-06 16:44:21,857 INFO sqlalchemy.engine.Engine [cached since 2.12e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
INFO:sqlalchemy.engine.Engine:[cached since 2.12e+04s ago] {'name_1': 'driver', 'param_1': 100, 'param_2': 0}
2025-07-06 16:44:21,858 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies) AS anon_1
2025-07-06 16:44:21,858 INFO sqlalchemy.engine.Engine [cached since 2.12e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.12e+04s ago] {}
2025-07-06 16:44:21,859 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.is_active = true) AS anon_1
INFO:sqlalchemy.engine.Engine:SELECT count(*) AS count_1 
FROM (SELECT companies.id AS companies_id, companies.name AS companies_name, companies.description AS companies_description, companies.contact_email AS companies_contact_email, companies.contact_phone AS companies_contact_phone, companies.address AS companies_address, companies.operation_area_type AS companies_operation_area_type, companies.center_lat AS companies_center_lat, companies.center_lng AS companies_center_lng, companies.radius_km AS companies_radius_km, companies.polygon_coordinates AS companies_polygon_coordinates, companies.is_active AS companies_is_active, companies.created_at AS companies_created_at, companies.updated_at AS companies_updated_at 
FROM companies 
WHERE companies.is_active = true) AS anon_1
2025-07-06 16:44:21,859 INFO sqlalchemy.engine.Engine [cached since 2.12e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.12e+04s ago] {}
2025-07-06 16:44:21,860 INFO sqlalchemy.engine.Engine SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
INFO:sqlalchemy.engine.Engine:SELECT children.id AS children_id, children.first_name AS children_first_name, children.last_name AS children_last_name, children.email AS children_email, children.phone AS children_phone, children.parent_id AS children_parent_id, children.date_of_birth AS children_date_of_birth, children.grade AS children_grade, children.school AS children_school, children.emergency_contact AS children_emergency_contact, children.notes AS children_notes, children.is_active AS children_is_active, children.created_at AS children_created_at, children.updated_at AS children_updated_at 
FROM children 
WHERE children.is_active = true
2025-07-06 16:44:21,860 INFO sqlalchemy.engine.Engine [cached since 2.12e+04s ago] {}
INFO:sqlalchemy.engine.Engine:[cached since 2.12e+04s ago] {}
2025-07-06 16:44:21,861 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:sqlalchemy.engine.Engine:ROLLBACK
INFO:     127.0.0.1:50330 - "GET /api/admin/dashboard/metrics HTTP/1.1" 200 OK
